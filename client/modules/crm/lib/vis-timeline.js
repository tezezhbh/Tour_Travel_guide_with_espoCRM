((t,e)=>{"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("moment"),require("vis-data/peer/umd/vis-data.js")):"function"==typeof define&&define.amd?define(["exports","moment","vis-data/peer/umd/vis-data.js"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).vis=t.vis||{},t.moment,t.vis)})(this,function(L,j,B){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function z(t){return t&&t.Math==Math&&t}function n(t){try{return!!t()}catch(t){return!0}}function H(t){return wt(bt(t),8,-1)}function G(t){if("Function"===kt(t))return xt(t)}function W(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function Y(t){return null==t}function V(t){if(Rt(t))throw Lt("Can't call method on "+t);return t}function U(t){return jt(Bt(t))}function X(t){return Yt(t)?t:void 0}function q(t,e){return arguments.length<2?X(Gt[t])||X(Wt[t]):Gt[t]&&Gt[t][e]||Wt[t]&&Wt[t][e]}function K(t){try{return ee(t)}catch(t){return"Object"}}function $(t){if(ie(t))return t;throw oe(ne(t)+" is not a function")}function Z(t,e){return t=t[e],se(t)?void 0:re(t)}function Q(t){return ve(ge(t))}function J(t){return"Symbol("+(void 0===t?"":t)+")_"+xe(++we+ke,36)}function o(t){return _e(De,t)||(De[t]=Ce&&_e(Se,t)?Se[t]:Te("Symbol."+t)),De[t]}function tt(t){return t=Fe(t,"string"),Re(t)?t:t+""}function et(t){return je?Le.createElement(t):{}}function it(t,e){return(t=Qe[Ze(t)])==ti||t!=Je&&(Ke(e)?qe(e):!!e)}function nt(t,e){return ei(t),void 0===e?t:ii?ni(t,e):function(){return t.apply(e,arguments)}}function ot(t){if(ri(t))return t;throw ai(si(t)+" is not an object")}function rt(n){function o(t,e,i){if(this instanceof o){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,e)}return new n(t,e,i)}return wi(n,this,arguments)}return o.prototype=n.prototype,o}function r(t,e){var i,n,o,r,s,a,l=t.target,h=t.global,u=t.stat,c=t.proto,d=h?bi:u?bi[l]:(bi[l]||{}).prototype,p=h?Si:Si[l]||Ti(Si,l,{})[l],m=p.prototype;for(n in e)s=!(i=Ci(h?n:l+(u?".":"#")+n,t.forced))&&d&&Oi(d,n),r=p[n],s&&(a=t.dontCallGetSet?(a=_i(d,n))&&a.value:d[n]),o=s&&a?a:e[n],s&&typeof r==typeof o||(s=t.bind&&s?Di(o,bi):t.wrap&&s?rt(o):c&&xi(o)?ki(o):o,(t.sham||o&&o.sham||r&&r.sham)&&Ti(s,"sham",!0),Ti(p,n,s),c&&(Oi(Si,r=l+"Prototype")||Ti(Si,r,{}),Ti(Si[r],n,o),t.real)&&m&&(i||!m[n])&&Ti(m,n,o))}function st(){}function at(t){if(!Xi(t))return!1;try{return Zi(st,$i,t),!0}catch(t){return!1}}function lt(t){if(!Xi(t))return!1;switch(qi(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return tn||!!Ji(Qi,Ki(t))}catch(t){return!0}}function ht(t){return(t=+t)!=t||0==t?0:an(t)}function ut(t,e){return(t=ln(t))<0?hn(t+e,0):un(t,e)}function ct(t){return pn(t.length)}function dt(a){return function(t,e,i){var n,o=mn(t),r=gn(o),s=fn(i,r);if(a&&e!=e){for(;s<r;)if((n=o[s++])!=n)return!0}else for(;s<r;s++)if((a||s in o)&&o[s]===e)return a||s||0;return!a&&-1}}function pt(t,e){var i,n=wn(t),o=0,r=[];for(i in n)!bn(xn,i)&&bn(n,i)&&_n(r,i);for(;e.length>o;)!bn(n,i=e[o++])||~kn(r,i)||_n(r,i);return r}var mt={},ft={get exports(){return mt},set exports(t){mt=t}},t=z("object"==typeof globalThis&&globalThis)||z("object"==typeof window&&window)||z("object"==typeof self&&self)||z("object"==typeof t&&t)||function(){return this}()||Function("return this")(),s=!n(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),a=Function.prototype,gt=a.apply,vt=a.call,a="object"==typeof Reflect&&Reflect.apply||(s?vt.bind(gt):function(){return vt.apply(gt,arguments)}),l=s,h=Function.prototype,yt=h.call,h=l&&h.bind.bind(yt,yt),l=l?h:function(t){return function(){return yt.apply(t,arguments)}},h=l,bt=h({}.toString),wt=h("".slice),kt=H,xt=l,h="object"==typeof document&&document.all,h={all:h,IS_HTMLDDA:void 0===h&&void 0!==h},_t=h.all,Ct=h.IS_HTMLDDA?function(t){return"function"==typeof t||t===_t}:function(t){return"function"==typeof t},St={},Dt=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Tt=Function.prototype.call,Ot=s?Tt.bind(Tt):function(){return Tt.apply(Tt,arguments)},Et={},At={}.propertyIsEnumerable,It=Object.getOwnPropertyDescriptor,Pt=It&&!At.call({1:2},1),Pt=(Et.f=Pt?function(t){t=It(this,t);return!!t&&t.enumerable}:At,n),Mt=H,Nt=Object,Ft=l("".split),At=Pt(function(){return!Nt("z").propertyIsEnumerable(0)})?function(t){return"String"==Mt(t)?Ft(t,""):Nt(t)}:Nt,Rt=Y,Lt=TypeError,jt=At,Bt=V,zt=Ct,Ht=h.all,Pt=h.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:zt(t)||t===Ht}:function(t){return"object"==typeof t?null!==t:zt(t)},h={},Gt=h,Wt=t,Yt=Ct,u=l({}.isPrototypeOf),Vt="undefined"!=typeof navigator&&String(navigator.userAgent)||"",Ut=Vt,Xt=t.process,c=t.Deno,Xt=Xt&&Xt.versions||c&&c.version,c=Xt&&Xt.v8,Xt=te=!(te=c?0<(Kt=c.split("."))[0]&&Kt[0]<4?1:+(Kt[0]+Kt[1]):te)&&Ut&&(!(Kt=Ut.match(/Edge\/(\d+)/))||74<=Kt[1])&&(Kt=Ut.match(/Chrome\/(\d+)/))?+Kt[1]:te,qt=Xt,c=n,Ut=!!Object.getOwnPropertySymbols&&!c(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&qt&&qt<41}),Kt=Ut&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,$t=q,Zt=Ct,Qt=u,Jt=Object,te=Kt?function(t){return"symbol"==typeof t}:function(t){var e=$t("Symbol");return Zt(e)&&Qt(e.prototype,Jt(t))},ee=String,ie=Ct,ne=K,oe=TypeError,re=$,se=Y,ae=Ot,le=Ct,he=Pt,ue=TypeError,ce={},c={get exports(){return ce},set exports(t){ce=t}},de=t,pe=Object.defineProperty,d=function(e,i){try{pe(de,e,{value:i,configurable:!0,writable:!0})}catch(t){de[e]=i}return i},me="__core-js_shared__",d=t[me]||d(me,{}),fe=d,ge=((c.exports=function(t,e){return fe[t]||(fe[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.29.0",mode:"pure",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"}),V),ve=Object,ye=Q,be=l({}.hasOwnProperty),me=Object.hasOwn||function(t,e){return be(ye(t),e)},c=l,we=0,ke=Math.random(),xe=c(1..toString),c=ce,_e=me,p=J,Ce=Ut,Se=t.Symbol,De=c("wks"),Te=Kt?Se.for||Se:Se&&Se.withoutSetter||p,Oe=Ot,Ee=Pt,Ae=te,Ie=Z,Pe=function(t,e){var i,n;if("string"===e&&le(i=t.toString)&&!he(n=ae(i,t)))return n;if(le(i=t.valueOf)&&!he(n=ae(i,t)))return n;if("string"!==e&&le(i=t.toString)&&!he(n=ae(i,t)))return n;throw ue("Can't convert object to primitive value")},Me=TypeError,Ne=o("toPrimitive"),Fe=function(t,e){if(!Ee(t)||Ae(t))return t;var i=Ie(t,Ne);if(i){if(i=Oe(i,t,e=void 0===e?"default":e),!Ee(i)||Ae(i))return i;throw Me("Can't convert object to primitive value")}return Pe(t,e=void 0===e?"number":e)},Re=te,c=Pt,Le=t.document,je=c(Le)&&c(Le.createElement),Be=et,Kt=!Dt&&!n(function(){return 7!=Object.defineProperty(Be("div"),"a",{get:function(){return 7}}).a}),ze=Ot,He=Et,Ge=W,We=U,Ye=tt,Ve=me,Ue=Kt,Xe=Object.getOwnPropertyDescriptor,qe=(St.f=Dt?Xe:function(t,e){if(t=We(t),e=Ye(e),Ue)try{return Xe(t,e)}catch(t){}if(Ve(t,e))return Ge(!ze(He.f,t,e),t[e])},n),Ke=Ct,$e=/#|\.prototype\./,Ze=it.normalize=function(t){return String(t).replace($e,".").toLowerCase()},Qe=it.data={},Je=it.NATIVE="N",ti=it.POLYFILL="P",p=it,ei=$,ii=s,ni=G(G.bind),c={},oi=Dt&&n(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),ri=Pt,si=String,ai=TypeError,li=Kt,hi=ot,ui=tt,ci=TypeError,di=Object.defineProperty,pi=Object.getOwnPropertyDescriptor,mi="enumerable",fi="configurable",gi="writable",Kt=(c.f=Dt?oi?function(t,e,i){var n;return hi(t),e=ui(e),hi(i),"function"==typeof t&&"prototype"===e&&"value"in i&&gi in i&&!i[gi]&&(n=pi(t,e))&&n[gi]&&(t[e]=i.value,i={configurable:(fi in i?i:n)[fi],enumerable:(mi in i?i:n)[mi],writable:!1}),di(t,e,i)}:di:function(t,e,i){if(hi(t),e=ui(e),hi(i),li)try{return di(t,e,i)}catch(t){}if("get"in i||"set"in i)throw ci("Accessors not supported");return"value"in i&&(t[e]=i.value),t},Dt),vi=c,yi=W,Kt=Kt?function(t,e,i){return vi.f(t,e,yi(1,i))}:function(t,e,i){return t[e]=i,t},bi=t,wi=a,ki=G,xi=Ct,_i=St.f,Ci=p,Si=h,Di=nt,Ti=Kt,Oi=me,p=l([].slice),m=l,Ei=$,Ai=Pt,Ii=me,Pi=p,Mi=Function,Ni=m([].concat),Fi=m([].join),Ri={},m=s?Mi.bind:function(s){var a=Ei(this),t=a.prototype,l=Pi(arguments,1),h=function(){var t=Ni(l,Pi(arguments));if(this instanceof h){var e=a,i=t.length,n=t;if(!Ii(Ri,i)){for(var o=[],r=0;r<i;r++)o[r]="a["+r+"]";Ri[i]=Mi("C,a","return new C("+Fi(o,",")+")")}return Ri[i](e,n)}return a.apply(s,t)};return Ai(t)&&(h.prototype=t),h},s={},s=(s[o("toStringTag")]="z","[object z]"===String(s)),Li=s,ji=Ct,Bi=H,zi=o("toStringTag"),Hi=Object,Gi="Arguments"==Bi(function(){return arguments}()),Li=Li?Bi:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=((t,e)=>{try{return t[e]}catch(t){}})(t=Hi(t),zi))?e:Gi?Bi(t):"Object"==(e=Bi(t))&&ji(t.callee)?"Arguments":e},Wi=Ct,Yi=d,Vi=l(Function.toString),Wi=(Wi(Yi.inspectSource)||(Yi.inspectSource=function(t){return Vi(t)}),Yi.inspectSource),Yi=l,Ui=n,Xi=Ct,qi=Li,Ki=Wi,$i=[],Zi=q("Reflect","construct"),Qi=/^\s*(?:class|function)\b/,Ji=Yi(Qi.exec),tn=!Qi.exec(st),Wi=(lt.sham=!0,!Zi||Ui(function(){var t;return at(at.call)||!at(Object)||!at(function(){t=!0})||t})?lt:at),en=Wi,nn=K,on=TypeError,Yi={},rn=Math.ceil,sn=Math.floor,an=Math.trunc||function(t){t=+t;return(0<t?sn:rn)(t)},ln=ht,hn=Math.max,un=Math.min,cn=ht,dn=Math.min,pn=function(t){return 0<t?dn(cn(t),9007199254740991):0},mn=U,fn=ut,gn=ct,Ui={includes:dt(!0),indexOf:dt(!1)},vn={},yn=l,bn=me,wn=U,kn=Ui.indexOf,xn=vn,_n=yn([].push),yn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Cn=pt,Sn=yn,Dn=Object.keys||function(t){return Cn(t,Sn)},Tn=c,On=ot,En=U,An=Dn;Yi.f=Dt&&!oi?Object.defineProperties:function(t,e){On(t);for(var i,n=En(e),o=An(e),r=o.length,s=0;s<r;)Tn.f(t,i=o[s++],n[i]);return t};function In(t){return Rn[t]||(Rn[t]=Fn(t))}function Pn(){}function Mn(t){t.write(Xn("")),t.close();var e=t.parentWindow.Object;return t=null,e}var Nn,oi=q("document","documentElement"),Fn=J,Rn=ce("keys"),Ln=ot,jn=Yi,Bn=yn,f=vn,zn=oi,Hn=et,Gn=">",Wn="<",Yn="prototype",Vn="script",Un=In("IE_PROTO"),Xn=function(t){return Wn+Vn+Gn+t+Wn+"/"+Vn+Gn},qn=function(){try{Nn=new ActiveXObject("htmlfile")}catch(t){}qn="undefined"==typeof document||document.domain&&Nn?Mn(Nn):(t=Hn("iframe"),e="java"+Vn+":",t.style.display="none",zn.appendChild(t),t.src=String(e),(e=t.contentWindow.document).open(),e.write(Xn("document.F=Object")),e.close(),e.F);for(var t,e,i=Bn.length;i--;)delete qn[Yn][Bn[i]];return qn()},oi=(f[Un]=!0,Object.create||function(t,e){var i;return null!==t?(Pn[Yn]=Ln(t),i=new Pn,Pn[Yn]=null,i[Un]=t):i=qn(),void 0===e?i:jn.f(i,e)}),f=r,Kn=a,$n=m,Zn=function(t){if(en(t))return t;throw on(nn(t)+" is not a constructor")},Qn=ot,Jn=Pt,to=oi,eo=n,io=q("Reflect","construct"),no=Object.prototype,oo=[].push,ro=eo(function(){function t(){}return!(io(function(){},[],t)instanceof t)}),so=!eo(function(){io(function(){})}),eo=ro||so;f({target:"Reflect",stat:!0,forced:eo,sham:eo},{construct:function(t,e){Zn(t),Qn(e);var i=arguments.length<3?t:Zn(arguments[2]);if(so&&!ro)return io(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return Kn(oo,n,e),new(Kn($n,t,n))}n=i.prototype,i=to(Jn(n)?n:no),n=Kn(t,i,e);return Jn(n)?n:i}});var f=h.Reflect.construct,g=(ft.exports=f,e(mt));function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}{var ao,lo,ho,uo,co={},eo={get exports(){return co},set exports(t){co=t}},po={},ft={get exports(){return po},set exports(t){po=t}},mo={},f={get exports(){return mo},set exports(t){mo=t}},fo=r,go=Dt,vo=c.f;fo({target:"Object",stat:!0,forced:Object.defineProperty!==vo,sham:!go},{defineProperty:vo});var fo,yo=(fo=h).Object,go=f.exports=function(t,e,i){return yo.defineProperty(t,e,i)};yo.defineProperty.sham&&(go.sham=!0);var vo,fo,f,go,vo,f=vo=go=f=fo=vo=mo,bo=(ft.exports=f,eo.exports=po,e(co)),wo={},go={get exports(){return wo},set exports(t){wo=t}},ko={},vo={get exports(){return ko},set exports(t){ko=t}},xo=H,ft=Array.isArray||function(t){return"Array"==xo(t)},_o=TypeError,f=function(t){if(9007199254740991<t)throw _o("Maximum allowed index exceeded");return t},Co=tt,So=c,Do=W,eo=function(t,e,i){e=Co(e);e in t?So.f(t,e,Do(0,i)):t[e]=i},To=ft,Oo=Wi,Eo=Pt,Ao,Io=(Ao=o)("species"),Po=Array,Mo=function(t){var e;return void 0===(e=To(t)&&(e=t.constructor,Oo(e)&&(e===Po||To(e.prototype))||Eo(e)&&null===(e=e[Io]))?void 0:e)?Po:e},Ao=function(t,e){return new(Mo(t))(0===e?0:e)},No=n,y,Fo=Xt,Ro=(y=o)("species"),y,Lo=r,jo=n,Bo=ft,zo=Pt,Ho=Q,Go=ct,Wo=f,Yo=eo,Vo=Ao,Uo=y=function(e){return 51<=Fo||!No(function(){var t=[];return(t.constructor={})[Ro]=function(){return{foo:1}},1!==t[e](Boolean).foo})},Xo,qo=Xt,Ko=(Xo=o)("isConcatSpreadable"),Xo,qo,$o=(Lo({target:"Array",proto:!0,arity:1,forced:qo=!(Xo=51<=qo||!jo(function(){var t=[];return t[Ko]=!1,t.concat()[0]!==t}))||!Uo("concat")},{concat:function(t){for(var e,i,n,o,r,s=Ho(this),a=Vo(s,0),l=0,h=-1,u=arguments.length;h<u;h++)if(r=void 0,!zo(o=n=-1===h?s:arguments[h])||(void 0!==(r=o[Ko])?!r:!Bo(o)))Wo(l+1),Yo(a,l++,n);else for(i=Go(n),Wo(l+i),e=0;e<i;e++,l++)e in n&&Yo(a,l,n[e]);return a.length=l,a}}),Li),Zo=String,jo=function(t){if("Symbol"===$o(t))throw TypeError("Cannot convert a Symbol value to a string");return Zo(t)},Xo={},Qo=pt,Uo,Jo=(Uo=yn).concat("length","prototype"),Lo=(Xo.f=Object.getOwnPropertyNames||function(t){return Qo(t,Jo)},{}),tr=ut,er=ct,ir=eo,nr=Array,or=Math.max,qo,rr=H,sr=U,ar=Xo.f,lr=qo=function(t,e,i){for(var n=er(t),o=tr(e,n),r=tr(void 0===i?n:i,n),s=nr(or(r-o,0)),a=0;o<r;o++,a++)ir(s,a,t[o]);return s.length=a,s},hr="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Lo.f=function(t){if(!hr||"Window"!=rr(t))return ar(sr(t));try{return ar(t)}catch(t){return lr(hr)}};var yn,ur=((yn={}).f=Object.getOwnPropertySymbols,Kt),Uo=function(t,e,i,n){return n&&n.enumerable?t[e]=i:ur(t,e,i),t},cr=c,dr=function(t,e,i){return cr.f(t,e,i)},pr,b,mr=((pr={}).f=b=o,h),fr=me,gr=pr,vr=c.f,b=function(t){var e=mr.Symbol||(mr.Symbol={});fr(e,t)||vr(e,t,{value:gr.f(t)})},yr=Ot,br=q,wr=o,kr=Uo,xr=function(){var t=br("Symbol"),t=t&&t.prototype,e=t&&t.valueOf,i=wr("toPrimitive");t&&!t[i]&&kr(t,i,function(t){return yr(e,this)},{arity:1})},_r=s,Cr=Li,_r,Sr=s,Dr=c.f,Tr=Kt,Or=me,Er=_r=s?{}.toString:function(){return"[object "+Cr(this)+"]"},s,Ar=(s=o)("toStringTag"),_r=function(t,e,i,n){t&&(i=i?t:t.prototype,Or(i,Ar)||Dr(i,Ar,{configurable:!0,value:e}),n)&&!Sr&&Tr(i,"toString",Er)},s,w,s,w,s=w=(w=Ct)(s=(s=t).WeakMap)&&/native code/.test(String(s)),w,Ir=Pt,Pr=Kt,Mr=me,k=In,Nr=vn,Fr="Object already initialized",Rr=(w=t).TypeError,w=w.WeakMap,Lr=s||d.state?((ho=d.state||(d.state=new w)).get=ho.get,ho.has=ho.has,ho.set=ho.set,ao=function(t,e){if(ho.has(t))throw Rr(Fr);return e.facade=t,ho.set(t,e),e},lo=function(t){return ho.get(t)||{}},function(t){return ho.has(t)}):(Nr[uo=k("state")]=!0,ao=function(t,e){if(Mr(t,uo))throw Rr(Fr);return e.facade=t,Pr(t,uo,e),e},lo=function(t){return Mr(t,uo)?t[uo]:{}},function(t){return Mr(t,uo)}),s={set:ao,get:lo,has:Lr,enforce:function(t){return Lr(t)?lo(t):ao(t,{})},getterFor:function(e){return function(t){if(Ir(t)&&(t=lo(t)).type===e)return t;throw Rr("Incompatible receiver, "+e+" required")}}},jr=nt,d,Br=At,zr=Q,Hr=ct,Gr=Ao,Wr=(d=l)([].push),w,Nr={forEach:(w=function(d){var p=1==d,m=2==d,f=3==d,g=4==d,v=6==d,y=7==d,b=5==d||v;return function(t,e,i,n){for(var o,r,s=zr(t),a=Br(s),l=jr(e,i),h=Hr(a),u=0,e=n||Gr,c=p?e(t,h):m||y?e(t,0):void 0;u<h;u++)if((b||u in a)&&(r=l(o=a[u],u,s),d))if(p)c[u]=r;else if(r)switch(d){case 3:return!0;case 5:return o;case 6:return u;case 2:Wr(c,o)}else switch(d){case 4:return!1;case 7:Wr(c,o)}return v?-1:f||g?g:c}})(0),map:w(1),filter:w(2),some:w(3),every:w(4),find:w(5),findIndex:w(6),filterReject:w(7)},k=r,d=t,Yr=Ot,w=l,Vr=Dt,x=Ut,Ur=n,Xr=me,qr=u,Kr=ot,$r=U,Zr=tt,Qr=jo,Jr=W,ts=oi,es=Dn,is=Xo,ns=Lo,os=yn,rs=St,ss=c,as=Yi,ls=Et,hs=Uo,us=dr,_=ce,cs=In,ds=vn,ps=J,ms=o,fs=pr,gs=b,vs=xr,C=_r,S=s,ys=Nr.forEach,bs=cs("hidden"),ws="Symbol",cs="prototype",ks=S.set,xs=S.getterFor(ws),_s=Object[cs],S,Cs=(S=d.Symbol)&&S[cs],Ss=d.TypeError,d=d.QObject,Ds=rs.f,Ts=ss.f,Os=ns.f,Es=ls.f,As=w([].push),Is=_("symbols"),Ps=_("op-symbols"),w=_("wks"),Ms=!d||!d[cs]||!d[cs].findChild,Ns=Vr&&Ur(function(){return 7!=ts(Ts({},"a",{get:function(){return Ts(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=Ds(_s,e);n&&delete _s[e],Ts(t,e,i),n&&t!==_s&&Ts(_s,e,n)}:Ts,Fs=function(t,e){var i=Is[t]=ts(Cs);return ks(i,{type:ws,tag:t,description:e}),Vr||(i.description=e),i},Rs=function(t,e,i){t===_s&&Rs(Ps,e,i),Kr(t);e=Zr(e);return Kr(i),(Xr(Is,e)?(i.enumerable?(Xr(t,bs)&&t[bs][e]&&(t[bs][e]=!1),i=ts(i,{enumerable:Jr(0,!1)})):(Xr(t,bs)||Ts(t,bs,Jr(1,{})),t[bs][e]=!0),Ns):Ts)(t,e,i)},Ls=function(e,t){Kr(e);var i=$r(t),t=es(i).concat(Bs(i));return ys(t,function(t){Vr&&!Yr(js,i,t)||Rs(e,t,i[t])}),e},js=function(t){var t=Zr(t),e=Yr(Es,this,t);return!(this===_s&&Xr(Is,t)&&!Xr(Ps,t))&&(!(e||!Xr(this,t)||!Xr(Is,t)||Xr(this,bs)&&this[bs][t])||e)},_=function(t,e){var i,t=$r(t),e=Zr(e);if(t!==_s||!Xr(Is,e)||Xr(Ps,e))return!(i=Ds(t,e))||!Xr(Is,e)||Xr(t,bs)&&t[bs][e]||(i.enumerable=!0),i},d=function(t){var t=Os($r(t)),e=[];return ys(t,function(t){Xr(Is,t)||Xr(ds,t)||As(e,t)}),e},Bs=function(t){var e=t===_s,t=Os(e?Ps:$r(t)),i=[];return ys(t,function(t){!Xr(Is,t)||e&&!Xr(_s,t)||As(i,Is[t])}),i};x||(hs(Cs=(S=function(){if(qr(Cs,this))throw Ss("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?Qr(arguments[0]):void 0,e=ps(t),i=function(t){this===_s&&Yr(i,Ps,t),Xr(this,bs)&&Xr(this[bs],e)&&(this[bs][e]=!1),Ns(this,e,Jr(1,t))};return Vr&&Ms&&Ns(_s,e,{configurable:!0,set:i}),Fs(e,t)})[cs],"toString",function(){return xs(this).tag}),hs(S,"withoutSetter",function(t){return Fs(ps(t),t)}),ls.f=js,ss.f=Rs,as.f=Ls,rs.f=_,is.f=ns.f=d,os.f=Bs,fs.f=function(t){return Fs(ms(t),t)},Vr&&us(Cs,"description",{configurable:!0,get:function(){return xs(this).description}})),k({global:!0,constructor:!0,wrap:!0,forced:!x,sham:!x},{Symbol:S}),ys(es(w),function(t){gs(t)}),k({target:ws,stat:!0,forced:!x},{useSetter:function(){Ms=!0},useSimple:function(){Ms=!1}}),k({target:"Object",stat:!0,forced:!x,sham:!Vr},{create:function(t,e){return void 0===e?ts(t):Ls(ts(t),e)},defineProperty:Rs,defineProperties:Ls,getOwnPropertyDescriptor:_}),k({target:"Object",stat:!0,forced:!x},{getOwnPropertyNames:d}),vs(),C(S,ws),ds[bs]=!0;var Ur,cs=(Ur=Ut)&&!!Symbol.for&&!!Symbol.keyFor,hs=r,zs=q,Hs=me,Gs=jo,ls,ss=cs,Ws=(ls=ce)("string-to-symbol-registry"),Ys=ls("symbol-to-string-registry"),as=(hs({target:"Symbol",stat:!0,forced:!ss},{for:function(t){var e,t=Gs(t);return Hs(Ws,t)?Ws[t]:(e=zs("Symbol")(t),Ws[t]=e,Ys[e]=t,e)}}),r),Vs=me,Us=te,Xs=K,rs,is=cs,qs=(rs=ce)("symbol-to-string-registry");as({target:"Symbol",stat:!0,forced:!is},{keyFor:function(t){if(!Us(t))throw TypeError(Xs(t)+" is not a symbol");if(Vs(qs,t))return qs[t]}});var ns,Ks=ft,$s=Ct,Zs=H,Qs=jo,Js=(ns=l)([].push),os=r,ta=q,ea=a,ia=Ot,fs=l,us=n,na=Ct,oa=te,ra=p,sa=function(t){if($s(t))return t;if(Ks(t)){for(var e=t.length,n=[],i=0;i<e;i++){var o=t[i];"string"==typeof o?Js(n,o):"number"!=typeof o&&"Number"!=Zs(o)&&"String"!=Zs(o)||Js(n,Qs(o))}var r=n.length,s=!0;return function(t,e){if(s)return s=!1,e;if(Ks(this))return e;for(var i=0;i<r;i++)if(n[i]===t)return e}}},w=Ut,aa=String,la=ta("JSON","stringify"),ha=fs(/./.exec),ua=fs("".charAt),ca=fs("".charCodeAt),da=fs("".replace),pa=fs(1..toString),ma=/[\uD800-\uDFFF]/g,fa=/^[\uD800-\uDBFF]$/,ga=/^[\uDC00-\uDFFF]$/,va=!w||us(function(){var t=ta("Symbol")();return"[null]"!=la([t])||"{}"!=la({a:t})||"{}"!=la(Object(t))}),ya=us(function(){return'"\\udf06\\ud834"'!==la("\udf06\ud834")||'"\\udead"'!==la("\udead")}),ba=function(t,e){var i=ra(arguments),n=sa(e);if(na(n)||void 0!==t&&!oa(t))return i[1]=function(t,e){if(na(n)&&(e=ia(n,this,aa(t),e)),!oa(e))return e},ea(la,null,i)},wa=function(t,e,i){var n=ua(i,e-1),i=ua(i,e+1);return ha(fa,t)&&!ha(ga,i)||ha(ga,t)&&!ha(fa,n)?"\\u"+pa(ca(t,0),16):t},_=(la&&os({target:"JSON",stat:!0,arity:3,forced:va||ya},{stringify:function(t,e,i){var n=ra(arguments),n=ea(va?ba:la,null,n);return ya&&"string"==typeof n?da(n,ma,wa):n}}),r),k,x=n,ka=yn,xa=Q,d=!(k=Ut)||x(function(){ka.f(1)}),vs,C,S,Ur;_({target:"Object",stat:!0,forced:d},{getOwnPropertySymbols:function(t){var e=ka.f;return e?e(xa(t)):[]}}),(vs=b)("asyncIterator"),(C=b)("hasInstance"),(S=b)("isConcatSpreadable"),(Ur=b)("iterator")}b("match"),b("matchAll"),b("replace"),b("search"),b("species"),b("split");ls=xr,b("toPrimitive"),ls(),hs=q,ss=_r;b("toStringTag"),ss(hs("Symbol"),"Symbol"),b("unscopables"),_r(t.JSON,"JSON",!0);var cs=h.Symbol,rs={},as=Dt,is=me,ns=Function.prototype,fs=as&&Object.getOwnPropertyDescriptor,w=is(ns,"name"),us={EXISTS:w,PROPER:w&&"something"===function(){}.name,CONFIGURABLE:w&&(!as||fs(ns,"name").configurable)},os=!n(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),_a=me,Ca=Ct,Sa=Q,Ut=os,Da=In("IE_PROTO"),Ta=Object,Oa=Ta.prototype,k=Ut?Ta.getPrototypeOf:function(t){var e,t=Sa(t);return _a(t,Da)?t[Da]:(e=t.constructor,Ca(e)&&t instanceof e?e.prototype:t instanceof Ta?Oa:null)},x=n,_=Ct,d=Pt,vs=oi,C=k,S=Uo,Ea=o("iterator"),Ur=!1;[].keys&&("next"in(xr=[].keys())?(ls=C(C(xr)))!==Object.prototype&&(Na=ls):Ur=!0);function Aa(){return this}function Ia(){return this}function Pa(t,e,i,n,o,r,s){function a(t){if(t===o&&p)return p;if(!nl&&t in c)return c[t];switch(t){case"keys":case rl:case sl:return function(){return new i(this,t)}}return function(){return new i(this)}}Za(i,e,n);var l,h,n=e+" Iterator",u=!1,c=t.prototype,d=c[ol]||c["@@iterator"]||o&&c[o],p=!nl&&d||a(o),m="Array"==e&&c.entries||d;if(m&&(m=Qa(m.call(new t)))!==Object.prototype&&m.next&&(Ja(m,n,!0,!0),el[n]=Ia),il&&o==rl&&d&&d.name!==rl&&(u=!0,p=function(){return $a(d,this)}),o)if(l={values:a(rl),keys:r?p:a("keys"),entries:a(sl)},s)for(h in l)!nl&&!u&&h in c||tl(c,h,l[h]);else Ka({target:e,proto:!0,forced:nl||u},l);return s&&c[ol]!==p&&tl(c,ol,p,{name:o}),el[e]=p,l}function Ma(t,e){return{value:t,done:e}}_((Na=!d(Na)||x(function(){var t={};return Na[Ea].call(t)!==t})?{}:vs(Na))[Ea])||S(Na,Ea,function(){return this});var Na,Fa,ss={IteratorPrototype:Na,BUGGY_SAFARI_ITERATORS:Ur},Ra=ss.IteratorPrototype,La=oi,ja=W,Ba=_r,za=rs,Ha=l,Ga=$,Wa=Ct,Ya=String,Va=TypeError,Ua=function(t,e,i){try{return Ha(Ga(Object.getOwnPropertyDescriptor(t,e)[i]))}catch(t){}},Xa=ot,qa=function(t){if("object"==typeof t||Wa(t))return t;throw Va("Can't set "+Ya(t)+" as a prototype")},hs=Object.setPrototypeOf||("__proto__"in{}?(()=>{var i,n=!1,t={};try{(i=Ua(Object.prototype,"__proto__","set"))(t,[]),n=t instanceof Array}catch(t){}return function(t,e){return Xa(t),qa(e),n?i(t,e):t.__proto__=e,t}})():void 0),Ka=r,$a=Ot,Za=function(t,e,i,n){e+=" Iterator";return t.prototype=La(Ra,{next:ja(+!n,i)}),Ba(t,e,!1,!0),za[e]=Aa,t},Qa=k,Ja=_r,tl=Uo,is=o,el=rs,il=us.PROPER,nl=ss.BUGGY_SAFARI_ITERATORS,ol=is("iterator"),rl="values",sl="entries",al=U,w=rs,as=s,fs=Pa,ll=Ma,hl="Array Iterator",ul=as.set,cl=as.getterFor(hl),ns=(fs(Array,"Array",function(t,e){ul(this,{type:hl,target:al(t),index:0,kind:e})},function(){var t=cl(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,ll(void 0,!0)):ll("keys"==i?n:"values"==i?e[n]:[n,e[n]],!1)},"values"),w.Arguments=w.Array,{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),dl=t,pl=Li,ml=Kt,fl=rs,gl=o("toStringTag");for(Fa in ns){var vl=dl[Fa],vl=vl&&vl.prototype;vl&&pl(vl)!==gl&&ml(vl,gl,Fa),fl[Fa]=fl.Array}Ut=cs;b("dispose");for(var C=Ut,xr=(b("asyncDispose"),r),ls=l,_=q("Symbol"),yl=_.keyFor,bl=ls(_.prototype.valueOf),d=(xr({target:"Symbol",stat:!0},{isRegistered:function(t){try{return void 0!==yl(bl(t))}catch(t){return!1}}}),r),x=ce,vs=q,S=l,wl=te,kl=o,xl=vs("Symbol"),_l=xl.isWellKnown,Cl=vs("Object","getOwnPropertyNames"),Sl=S(xl.prototype.valueOf),Dl=x("wks"),Tl=0,Ol=Cl(xl),El=Ol.length;Tl<El;Tl++)try{var Al=Ol[Tl];wl(xl[Al])&&kl(Al)}catch(t){}d({target:"Symbol",stat:!0,forced:!0},{isWellKnown:function(t){if(_l&&_l(t))return!0;try{for(var e=Sl(t),i=0,n=Cl(Dl),o=n.length;i<o;i++)if(Dl[n[i]]==e)return!0}catch(t){}return!1}}),b("matcher"),b("metadataKey"),b("observable"),b("metadata"),b("patternMatch"),b("replaceAll");function Il(o){return function(t,e){var i,t=Rl(Ll(t)),e=Fl(e),n=t.length;return e<0||n<=e?o?"":void 0:(i=Bl(t,e))<55296||56319<i||e+1===n||(n=Bl(t,e+1))<56320||57343<n?o?jl(t,e):i:o?zl(t,e,e+2):n-56320+(i-55296<<10)+65536}}vo.exports=C,go.exports=ko;var Pl=e(wo),Ml={},Ur={get exports(){return Ml},set exports(t){Ml=t}},Nl={},ss={get exports(){return Nl},set exports(t){Nl=t}},is=l,Fl=ht,Rl=jo,Ll=V,jl=is("".charAt),Bl=is("".charCodeAt),zl=is("".slice),Hl={codeAt:Il(!1),charAt:Il(!0)}.charAt,Gl=jo,as=s,fs=Pa,Wl=Ma,Yl="String Iterator",Vl=as.set,Ul=as.getterFor(Yl);fs(String,"String",function(t){Vl(this,{type:Yl,string:Gl(t),index:0})},function(){var t=Ul(this),e=t.string,i=t.index;return i>=e.length?Wl(void 0,!0):(e=Hl(e,i),t.index+=e.length,Wl(e,!1))});var w=pr.f("iterator"),Xl=(ss.exports=w,Ur.exports=Nl,e(Ml));function D(t){return(D="function"==typeof Pl&&"symbol"==typeof Xl?function(t){return typeof t}:function(t){return t&&"function"==typeof Pl&&t.constructor===Pl&&t!==Pl.prototype?"symbol":typeof t})(t)}var ql={},ns={get exports(){return ql},set exports(t){ql=t}},Kl={},cs={get exports(){return Kl},set exports(t){Kl=t}},ls=pr.f("toPrimitive"),$l=(cs.exports=ls,ns.exports=Kl,e(ql));function Zl(t){t=((t,e)=>{if("object"!==D(t)||null===t)return t;var i=t[$l];if(void 0===i)return("string"===e?String:Number)(t);if("object"!==D(i=i.call(t,e||"default")))return i;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string");return"symbol"===D(t)?t:String(t)}function Ql(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),bo(t,Zl(n.key),n)}}function T(t,e,i){e&&Ql(t.prototype,e),i&&Ql(t,i),bo(t,"prototype",{writable:!1})}function Jl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var th={},_={get exports(){return th},set exports(t){th=t}},eh={},xr={get exports(){return eh},set exports(t){eh=t}};r({target:"Object",stat:!0,sham:!Dt},{create:oi});function ih(t,e){return nh.create(t,e)}var nh=h.Object,oh=(xr.exports=ih,_.exports=eh,e(th)),rh={},te={get exports(){return rh},set exports(t){rh=t}},sh={},vs={get exports(){return sh},set exports(t){sh=t}};r({target:"Object",stat:!0},{setPrototypeOf:hs});function ah(t){return dh[t+"Prototype"]}function lh(t){var e=t.bind;return t===fh||ph(fh,t)&&e===fh.bind?mh:e}var S=h.Object.setPrototypeOf,hh=(vs.exports=S,te.exports=sh,e(rh)),uh={},x={get exports(){return uh},set exports(t){uh=t}},ch={},d={get exports(){return ch},set exports(t){ch=t}},dh=(r({target:"Function",proto:!0,forced:Function.bind!==m},{bind:m}),h),b=ah("Function").bind,ph=u,mh=b,fh=Function.prototype,gh=(d.exports=lh,x.exports=ch,e(uh));function vh(t,e){var i;return(vh=hh?gh(i=hh).call(i):function(t,e){return t.__proto__=e,t})(t,e)}function yh(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=oh(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),bo(t,"prototype",{writable:!1}),e&&vh(t,e)}function bh(t,e){if(e&&("object"===D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Jl(t)}var wh={},vo={get exports(){return wh},set exports(t){wh=t}},kh={},C={get exports(){return kh},set exports(t){kh=t}},xh=Q,_h=k,go=os;r({target:"Object",stat:!0,forced:n(function(){_h(1)}),sham:!go},{getPrototypeOf:function(t){return _h(xh(t))}});var is=h.Object.getPrototypeOf,Ch=(C.exports=is,vo.exports=kh,e(wh));function O(t){var e;return(O=hh?gh(e=Ch).call(e):function(t){return t.__proto__||Ch(t)})(t)}var Sh={},as={get exports(){return Sh},set exports(t){Sh=t}};r({target:"Array",stat:!0},{isArray:ft});function Dh(r,s){var a=s?2:1;return Fh?function(t,e){var i=Mh(arguments.length,1)>a,n=Ih(t)?t:Nh(t),o=i?Ph(arguments,a):[],t=i?function(){Ah(n,this,o)}:n;return s?r(t,e):r(t)}:r}var fs=h.Array.isArray,E=(as.exports=fs,e(Sh)),Th={},ss={get exports(){return Th},set exports(t){Th=t}},A=(ss.exports=lh,e(Th)),Oh={},w={get exports(){return Oh},set exports(t){Oh=t}},Ur="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,Eh=TypeError,pr=t,Ah=a,Ih=Ct,cs=Ur,Ph=p,Mh=function(t,e){if(t<e)throw Eh("Not enough arguments");return t},Nh=pr.Function,Fh=/MSIE .\./.test(Vt)||cs&&((ls=pr.Bun.version.split(".")).length<3||0==ls[0]&&(ls[1]<3||3==ls[1]&&0==ls[2])),ns=r,xr=Dh(t.setInterval,!0),_=(ns({global:!0,bind:!0,forced:t.setInterval!==xr},{setInterval:xr}),r),hs=Dh(t.setTimeout,!0);_({global:!0,bind:!0,forced:t.setTimeout!==hs},{setTimeout:hs});function Rh(t,e){var i=[][t];return!!i&&Bh(function(){i.call(null,e||function(){return 1},1)})}w.exports=h.setTimeout;var Lh=e(Oh),jh={},vs={get exports(){return jh},set exports(t){jh=t}},Bh=n,zh=Nr.forEach,S=Rh("forEach")?[].forEach:function(t){return zh(this,t,1<arguments.length?arguments[1]:void 0)};r({target:"Array",proto:!0,forced:[].forEach!=S},{forEach:S});var te=ah("Array").forEach,Hh=Li,Gh=me,Wh=u,Yh=te,Vh=Array.prototype,Uh={DOMTokenList:!0,NodeList:!0},I=(vs.exports=function(t){var e=t.forEach;return t===Vh||Wh(Vh,t)&&e===Vh.forEach||Gh(Uh,Hh(t))?Yh:e},e(jh)),Xh="undefined"!=typeof window&&window.moment||j,qh={},m={get exports(){return qh},set exports(t){qh=t}},b=h.Object.getOwnPropertySymbols,Kh=(m.exports=b,e(qh)),$h={},d={get exports(){return $h},set exports(t){$h=t}},x=r,Zh=Nr.filter;x({target:"Array",proto:!0,forced:!y("filter")},{filter:function(t){return Zh(this,t,1<arguments.length?arguments[1]:void 0)}});var k=ah("Array").filter,Qh=u,Jh=k,tu=Array.prototype,P=(d.exports=function(t){var e=t.filter;return t===tu||Qh(tu,t)&&e===tu.filter?Jh:e},e($h)),eu={},os={get exports(){return eu},set exports(t){eu=t}},iu={},go={get exports(){return iu},set exports(t){iu=t}},C=r,vo=n,nu=U,ou=St.f,as=Dt;C({target:"Object",stat:!0,forced:!as||vo(function(){ou(1)}),sham:!as},{getOwnPropertyDescriptor:function(t,e){return ou(nu(t),e)}});var ru=h.Object,ss=go.exports=function(t,e){return ru.getOwnPropertyDescriptor(t,e)},Ur=(ru.getOwnPropertyDescriptor.sham&&(ss.sham=!0),iu),su=(os.exports=Ur,e(eu)),au={},cs={get exports(){return au},set exports(t){au=t}},pr=q,lu=Xo,hu=yn,uu=ot,cu=l([].concat),ls=pr("Reflect","ownKeys")||function(t){var e=lu.f(uu(t)),i=hu.f;return i?cu(e,i(t)):e},du=ls,pu=U,mu=St,fu=eo;r({target:"Object",stat:!0,sham:!Dt},{getOwnPropertyDescriptors:function(t){for(var e,i,n=pu(t),o=mu.f,r=du(n),s={},a=0;r.length>a;)void 0!==(i=o(n,e=r[a++]))&&fu(s,e,i);return s}});var ns=h.Object.getOwnPropertyDescriptors,gu=(cs.exports=ns,e(au)),vu={},xr={get exports(){return vu},set exports(t){vu=t}},yu={},_={get exports(){return yu},set exports(t){yu=t}},hs=r,w=Yi.f;hs({target:"Object",stat:!0,forced:Object.defineProperties!==w,sham:!Dt},{defineProperties:w});var bu=h.Object,S=_.exports=function(t,e){return bu.defineProperties(t,e)},te=(bu.defineProperties.sham&&(S.sham=!0),yu),wu=(xr.exports=te,e(vu));function ku(t,e,i){(e=Zl(e))in t?bo(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}var xu={},vs={get exports(){return xu},set exports(t){xu=t}},m=r,_u=Nr.map;m({target:"Array",proto:!0,forced:!y("map")},{map:function(t){return _u(this,t,1<arguments.length?arguments[1]:void 0)}});function Cu(h){return function(t,e,i,n){Au(e);var o=Iu(t),r=Pu(o),s=Mu(o),a=h?s-1:0,l=h?-1:1;if(i<2)for(;;){if(a in r){n=r[a],a+=l;break}if(a+=l,h?a<0:s<=a)throw Nu("Reduce of empty array with no initial value")}for(;h?0<=a:a<s;a+=l)a in r&&(n=e(n,r[a],a,o));return n}}var b=ah("Array").map,Su=u,Du=b,Tu=Array.prototype,Ou=(vs.exports=function(t){var e=t.map;return t===Tu||Su(Tu,t)&&e===Tu.map?Du:e},e(xu)),Eu={},x={get exports(){return Eu},set exports(t){Eu=t}},Au=$,Iu=Q,Pu=At,Mu=ct,Nu=TypeError,k={left:Cu(!1),right:Cu(!0)},d="undefined"!=typeof process&&"process"==H(process),C=r,Fu=k.left;C({target:"Array",proto:!0,forced:!d&&79<Xt&&Xt<83||!Rh("reduce")},{reduce:function(t){var e=arguments.length;return Fu(this,t,e,1<e?arguments[1]:void 0)}});var vo=ah("Array").reduce,Ru=u,Lu=vo,ju=Array.prototype,Bu=(x.exports=function(t){var e=t.reduce;return t===ju||Ru(ju,t)&&e===ju.reduce?Lu:e},e(Eu)),zu={},as={get exports(){return zu},set exports(t){zu=t}},Hu=Q,Gu=Dn;r({target:"Object",stat:!0,forced:n(function(){Gu(1)})},{keys:function(t){return Gu(Hu(t))}});function Wu(t,e,i){var n,o;Qu(t);try{if(!(n=Ju(t,"return"))){if("throw"===e)throw i;return i}n=Zu(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw i;if(o)throw n;return Qu(n),i}function Yu(t){return void 0!==t&&(ic.Array===t||oc[nc]===t)}function Vu(t){if(!ac(t))return sc(t,hc)||sc(t,"@@iterator")||lc[rc(t)]}function Uu(t,e){if(e=arguments.length<2?mc(t):e,cc(e))return dc(uc(e,t));throw fc(pc(t)+" is not iterable")}var go=h.Object.keys,Xu=(as.exports=go,e(zu)),qu={},ss={get exports(){return qu},set exports(t){qu=t}},Ku=(ss.exports=fo,e(qu)),$u={},os={get exports(){return $u},set exports(t){$u=t}},Zu=Ot,Qu=ot,Ju=Z,tc=ot,ec=Wu,ic=rs,nc=o("iterator"),oc=Array.prototype,rc=Li,sc=Z,ac=Y,lc=rs,hc=o("iterator"),uc=Ot,cc=$,dc=ot,pc=K,mc=Vu,fc=TypeError,gc=nt,vc=Ot,yc=Q,bc=function(e,t,i,n){try{return n?t(tc(i)[0],i[1]):t(i)}catch(t){ec(e,"throw",t)}},wc=Yu,kc=Wi,xc=ct,_c=eo,Cc=Uu,Sc=Vu,Dc=Array,Tc=o("iterator"),Oc=!1;try{var Ec=0,Ac={next:function(){return{done:!!Ec++}},return:function(){Oc=!0}};Ac[Tc]=function(){return this},Array.from(Ac,function(){throw 2})}catch(t){}function Ic(t){var e,i,n,o,r,s,a=yc(t),t=kc(this),l=1<(u=arguments.length)?arguments[1]:void 0,h=void 0!==l,u=(h&&(l=gc(l,2<u?arguments[2]:void 0)),Sc(a)),c=0;if(!u||this===Dc&&wc(u))for(e=xc(a),i=t?new this(e):Dc(e);c<e;c++)s=h?l(a[c],c):a[c],_c(i,c,s);else for(r=(o=Cc(a,u)).next,i=t?new this:[];!(n=vc(r,o)).done;c++)s=h?bc(o,l,[n.value,c],!0):n.value,_c(i,c,s);return i.length=c,i}r({target:"Array",stat:!0,forced:!function(t,e){if(!e&&!Oc)return!1;var i=!1;try{var n={};n[Tc]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(t){}return i}(function(t){Array.from(t)})},{from:Ic});var Ur=h.Array.from,Pc=(os.exports=Ur,e($u)),Mc={},pr={get exports(){return Mc},set exports(t){Mc=t}},Nc={},St={get exports(){return Nc},set exports(t){Nc=t}},Fc=(St.exports=Vu,pr.exports=Nc,e(Mc)),Rc={},cs={get exports(){return Rc},set exports(t){Rc=t}},Lc={},ns={get exports(){return Lc},set exports(t){Lc=t}},jc=(ns.exports=fs,cs.exports=Lc,e(Rc));var Bc={},Yi={get exports(){return Bc},set exports(t){Bc=t}},zc={},hs={get exports(){return zc},set exports(t){zc=t}},w=r,Hc=ft,Gc=Wi,Wc=Pt,Yc=ut,Vc=ct,Uc=U,Xc=eo,_=o,qc=p,S=y("slice"),Kc=_("species"),$c=Array,Zc=Math.max;w({target:"Array",proto:!0,forced:!S},{slice:function(t,e){var i,n,o,r=Uc(this),s=Vc(r),a=Yc(t,s),l=Yc(void 0===e?s:e,s);if(Hc(r)&&(i=r.constructor,(i=Gc(i)&&(i===$c||Hc(i.prototype))||Wc(i)&&null===(i=i[Kc])?void 0:i)===$c||void 0===i))return qc(r,a,l);for(n=new(void 0===i?$c:i)(Zc(l-a,0)),o=0;a<l;a++,o++)a in r&&Xc(n,o,r[a]);return n.length=o,n}});function Qc(t){var e=t.slice;return t===ed||Jc(ed,t)&&e===ed.slice?td:e}var xr=ah("Array").slice,Jc=u,td=xr,ed=Array.prototype,id=(hs.exports=Qc,Yi.exports=zc,e(Bc)),nd={},te={get exports(){return nd},set exports(t){nd=t}},od={},m={get exports(){return od},set exports(t){od=t}},rd=(m.exports=Ur,te.exports=od,e(nd));function sd(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function ad(t,e){var i;if(t)return"string"==typeof t?sd(t,e):"Map"===(i="Object"===(i=id(i=Object.prototype.toString.call(t)).call(i,8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?rd(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?sd(t,e):void 0}function ld(t,e){return(t=>{if(jc(t))return t})(t)||((t,e)=>{var i=null==t?null:void 0!==Pl&&Fc(t)||t["@@iterator"];if(null!=i){var n,o,r,s,a=[],l=!0,h=!1;try{if(r=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){h=!0,o=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(h)throw o}}return a}})(t,e)||ad(t,e)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function hd(t){return(t=>{if(jc(t))return sd(t)})(t)||(t=>{if(void 0!==Pl&&null!=Fc(t)||null!=t["@@iterator"])return rd(t)})(t)||ad(t)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}{var ud={},b,cd=((b={get exports(){return ud},set exports(t){ud=t}}).exports=Ut,e(ud)),dd={},vs={get exports(){return dd},set exports(t){dd=t}},k,C=(k=ah)("Array").concat,pd=u,md=C,fd=Array.prototype,d,vo=d=function(t){var e=t.concat;return t===fd||pd(fd,t)&&e===fd.concat?md:e},M=(vs.exports=vo,e(dd)),gd={},x,vd=((x={get exports(){return gd},set exports(t){gd=t}}).exports=Qc,e(gd)),yd={},as={get exports(){return yd},set exports(t){yd=t}},go,ss;(go=r)({target:"Reflect",stat:!0},{ownKeys:ss=ls});var fo,Li,rs,Ac=rs=Li=(fo=h).Reflect.ownKeys,bd=(as.exports=Ac,e(yd)),wd={},os={get exports(){return wd},set exports(t){wd=t}},St=r,pr=l,kd=Date,xd=pr(kd.prototype.getTime),ns=(St({target:"Date",stat:!0},{now:function(){return xd(new kd)}}),h.Date.now),_d=(os.exports=ns,e(wd)),Cd={},fs={get exports(){return Cd},set exports(t){Cd=t}},cs=r,Sd=ft,Dd=l([].reverse),Wi=[1,2]}cs({target:"Array",proto:!0,forced:String(Wi)===String(Wi.reverse())},{reverse:function(){return Sd(this)&&(this.length=this.length),Dd(this)}});function Td(t,e){if(!delete t[e])throw Ld("Cannot delete property "+Rd(e)+" of "+Rd(t))}var p=ah("Array").reverse,Od=u,Ed=p,Ad=Array.prototype,Id=(fs.exports=function(t){var e=t.reverse;return t===Ad||Od(Ad,t)&&e===Ad.reverse?Ed:e},e(Cd)),Pd={},_={get exports(){return Pd},set exports(t){Pd=t}},Md=ft,Nd=TypeError,Fd=Object.getOwnPropertyDescriptor,w=Dt&&!function(){if(void 0!==this)return 1;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),Rd=K,Ld=TypeError,S=r,jd=Q,Bd=ut,zd=ht,Hd=ct,Gd=w?function(t,e){if(Md(t)&&!Fd(t,"length").writable)throw Nd("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Wd=f,Yd=Ao,Vd=eo,Ud=Td,xr=y("splice"),Xd=Math.max,qd=Math.min;S({target:"Array",proto:!0,forced:!xr},{splice:function(t,e){var i,n,o,r,s,a,l=jd(this),h=Hd(l),u=Bd(t,h),t=arguments.length;for(0===t?i=n=0:n=1===t?(i=0,h-u):(i=t-2,qd(Xd(zd(e),0),h-u)),Wd(h+i-n),o=Yd(l,n),r=0;r<n;r++)(s=u+r)in l&&Vd(o,r,l[s]);if(i<(o.length=n)){for(r=u;r<h-n;r++)a=r+i,(s=r+n)in l?l[a]=l[s]:Ud(l,a);for(r=h;h-n+i<r;r--)Ud(l,r-1)}else if(n<i)for(r=h-n;u<r;r--)a=r+i-1,(s=r+n-1)in l?l[a]=l[s]:Ud(l,a);for(r=0;r<i;r++)l[r+u]=arguments[r+2];return Gd(l,h-n+i),o}});var hs=ah("Array").splice,Kd=u,$d=hs,Zd=Array.prototype,Qd=(_.exports=function(t){var e=t.splice;return t===Zd||Kd(Zd,t)&&e===Zd.splice?$d:e},e(Pd)),Jd={},Yi={get exports(){return Jd},set exports(t){Jd=t}},tp=Dt,m=l,ep=Ot,Ur=n,ip=Dn,np=yn,op=Et,rp=Q,sp=At,ap=Object.assign,lp=Object.defineProperty,hp=m([].concat),te=!ap||Ur(function(){var t,e,i,n;return tp&&1!==ap({b:1},ap(lp({},"a",{enumerable:!0,get:function(){lp(this,"b",{value:3,enumerable:!1})}}),{b:2})).b||(e={},n="abcdefghijklmnopqrst",(t={})[i=Symbol()]=7,n.split("").forEach(function(t){e[t]=t}),7!=ap({},t)[i])||ip(ap({},e)).join("")!=n})?function(t,e){for(var i=rp(t),n=arguments.length,o=1,r=np.f,s=op.f;o<n;)for(var a,l=sp(arguments[o++]),h=r?hp(ip(l),r(l)):ip(l),u=h.length,c=0;c<u;)a=h[c++],tp&&!ep(s,l,a)||(i[a]=l[a]);return i}:ap;r({target:"Object",stat:!0,arity:2,forced:Object.assign!==te},{assign:te});var b=h.Object.assign,up=(Yi.exports=b,e(Jd)),cp={},Ut={get exports(){return cp},set exports(t){cp=t}},k=r,dp=Ui.includes;k({target:"Array",proto:!0,forced:n(function(){return!Array(1).includes()})},{includes:function(t){return dp(this,t,1<arguments.length?arguments[1]:void 0)}});var C=ah("Array").includes,pp=Pt,mp=H,fp=o("match"),gp=function(t){var e;return pp(t)&&(void 0!==(e=t[fp])?!!e:"RegExp"==mp(t))},vp=TypeError,yp=o("match"),d=r,bp=function(t){if(gp(t))throw vp("The method doesn't accept regular expressions");return t},wp=V,kp=jo,vs=function(e){var i=/./;try{"/./"[e](i)}catch(t){try{return i[yp]=!1,"/./"[e](i)}catch(t){}}return!1},xp=l("".indexOf);d({target:"String",proto:!0,forced:!vs("includes")},{includes:function(t){return!!~xp(kp(wp(this)),kp(bp(t)),1<arguments.length?arguments[1]:void 0)}});function _p(a){return function(t){for(var e,i=Fp(t),n=Np(i),o=n.length,r=0,s=[];r<o;)e=n[r++],Mp&&!Rp(i,e)||Lp(s,a?[e,i[e]]:i[e]);return s}}var vo=ah("String").includes,Cp=u,Sp=C,Dp=vo,Tp=Array.prototype,Op=String.prototype,Ep=(Ut.exports=function(t){var e=t.includes;return t===Tp||Cp(Tp,t)&&e===Tp.includes?Sp:"string"==typeof t||t===Op||Cp(Op,t)&&e===Op.includes?Dp:e},e(cp)),Ap={},x={get exports(){return Ap},set exports(t){Ap=t}},Ip=(x.exports=is,e(Ap)),Pp={},ls={get exports(){return Pp},set exports(t){Pp=t}},Mp=Dt,go=l,Np=Dn,Fp=U,Rp=go(Et.f),Lp=go([].push),ss=r,jp={entries:_p(!0),values:_p(!1)}.values;ss({target:"Object",stat:!0},{values:function(t){return jp(t)}});function Bp(e){return function(t){t=Wp(Gp(t));return 1&e&&(t=Yp(t,Vp,"")),t=2&e?Yp(t,Up,"$1"):t}}var fo=h.Object.values,zp=(ls.exports=fo,e(Pp)),Hp={},Li={get exports(){return Hp},set exports(t){Hp=t}},rs="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",Gp=V,Wp=jo,as=rs,Yp=l("".replace),Vp=RegExp("^["+as+"]+"),Up=RegExp("(^|[^"+as+"])["+as+"]+$"),Ac={start:Bp(1),end:Bp(2),trim:Bp(3)},pr=n,St=l,Xp=jo,qp=Ac.trim,os=rs,Kp=t.parseInt,ns=t.Symbol,$p=ns&&ns.iterator,Zp=/^[+-]?0x/i,Qp=St(Zp.exec),cs=8!==Kp(os+"08")||22!==Kp(os+"0x16")||$p&&!pr(function(){Kp(Object($p))})?function(t,e){t=qp(Xp(t));return Kp(t,e>>>0||(Qp(Zp,t)?16:10))}:Kp;r({global:!0,forced:parseInt!=cs},{parseInt:cs});Li.exports=h.parseInt;var Jp=e(Hp),tm={},Wi={get exports(){return tm},set exports(t){tm=t}},p=r,fs=G,em=Ui.indexOf,ft=Rh,im=fs([].indexOf),nm=!!im&&1/im([1],1,-0)<0;p({target:"Array",proto:!0,forced:nm||!ft("indexOf")},{indexOf:function(t){var e=1<arguments.length?arguments[1]:void 0;return nm?im(this,t,e)||0:em(this,t,e)}});var w=ah("Array").indexOf,om=u,rm=w,sm=Array.prototype,N=(Wi.exports=function(t){var e=t.indexOf;return t===sm||om(sm,t)&&e===sm.indexOf?rm:e},e(tm)),am={},f={get exports(){return am},set exports(t){am=t}},lm=us.PROPER,hm=n,um=rs,Ao=r,cm=Ac.trim;Ao({target:"String",proto:!0,forced:function(t){return hm(function(){return!!um[t]()||"âÂá "!=="âÂá "[t]()||lm&&um[t].name!==t})}("trim")},{trim:function(){return cm(this)}});var eo=ah("String").trim,dm=u,pm=eo,mm=String.prototype,fm=(f.exports=function(t){var e=t.trim;return"string"==typeof t||t===mm||dm(mm,t)&&e===mm.trim?pm:e},e(am)),gm={},y={get exports(){return gm},set exports(t){gm=t}},vm=(y.exports=ih,e(gm)),ym={},S={get exports(){return ym},set exports(t){ym=t}},bm=h,wm=a,km=(bm.JSON||(bm.JSON={stringify:JSON.stringify}),S.exports=function(t,e,i){return wm(bm.JSON.stringify,null,arguments)},e(ym)),xm={},xr={get exports(){return xm},set exports(t){xm=t}},_m=Q,Cm=ut,Sm=ct;r({target:"Array",proto:!0},{fill:function(t){for(var e=_m(this),i=Sm(e),n=arguments.length,o=Cm(1<n?arguments[1]:void 0,i),n=2<n?arguments[2]:void 0,r=void 0===n?i:Cm(n,i);o<r;)e[o++]=t;return e}});var hs=ah("Array").fill,Dm=u,Tm=hs,Om=Array.prototype,Em=(xr.exports=function(t){var e=t.fill;return t===Om||Dm(Om,t)&&e===Om.fill?Tm:e},e(xm)),Am={},_={get exports(){return Am},set exports(t){Am=t}};function Im(t){if(t){var e,i=t;for(e in Im.prototype)i[e]=Im.prototype[e];return i}}(_.exports=Im).prototype.on=Im.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},Im.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},Im.prototype.off=Im.prototype.removeListener=Im.prototype.removeAllListeners=Im.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)this._callbacks={};else{var i=this._callbacks["$"+t];if(i)if(1==arguments.length)delete this._callbacks["$"+t];else{for(var n,o=0;o<i.length;o++)if((n=i[o])===e||n.fn===e){i.splice(o,1);break}0===i.length&&delete this._callbacks["$"+t]}}return this},Im.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),i=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(i)for(var n=0,o=(i=i.slice(0)).length;n<o;++n)i[n].apply(this,e);return this},Im.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Im.prototype.hasListeners=function(t){return!!this.listeners(t).length};yn=Am;
/*! Hammer.JS - v2.0.17-rc - 2019-12-16
	 * http://naver.github.io/egjs
	 *
	 * Forked By Naver egjs
	 * Copyright (c) hammerjs
	 * Licensed under the MIT license */function Pm(){return(Pm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i,n=arguments[e];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function Mm(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function Nm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Fm="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}:Object.assign,Rm=["","webkit","Moz","MS","ms","o"],At="undefined"==typeof document?{style:{}}:document.createElement("div"),Lm=Math.round,jm=Math.abs,Bm=Date.now;function zm(t,e){for(var i,n=e[0].toUpperCase()+e.slice(1),o=0;o<Rm.length;){if((i=(i=Rm[o])?i+n:e)in t)return i;o++}}var Hm="undefined"==typeof window?{}:window,Gm=zm(At.style,"touchAction"),Wm=void 0!==Gm;var Ym,Vm,Um="compute",Xm="manipulation",qm="none",Km="pan-x",$m="pan-y",Zm=Wm&&(Ym={},Vm=Hm.CSS&&Hm.CSS.supports,["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return Ym[t]=!Vm||Hm.CSS.supports("touch-action",t)}),Ym),Qm="ontouchstart"in Hm,Jm=void 0!==zm(Hm,"PointerEvent"),tf=Qm&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ef="touch",nf="mouse",of=25,rf=1,sf=4,af=8,lf=1,hf=2,uf=4,cf=8,df=16,pf=hf|uf,mf=cf|df,ff=pf|mf,gf=["x","y"],vf=["clientX","clientY"];function yf(t,e,i){if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(var n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function bf(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function wf(t,e){return-1<t.indexOf(e)}var kf=(()=>{function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===Um&&(t=this.compute()),Wm&&this.manager.element.style&&Zm[t]&&(this.manager.element.style[Gm]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t,e,i,n=[];return yf(this.manager.recognizers,function(t){bf(t.options.enable,[t])&&(n=n.concat(t.getTouchAction()))}),wf(t=n.join(" "),qm)||(e=wf(t,Km),i=wf(t,$m),e&&i)?qm:e||i?e?Km:$m:wf(t,Xm)?Xm:"auto"},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(!this.manager.session.prevented){var n=this.actions,o=wf(n,qm)&&!Zm[qm],r=wf(n,$m)&&!Zm[$m],n=wf(n,Km)&&!Zm[Km];if(o)if(1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;return n&&r?void 0:o||r&&i&pf||n&&i&mf?this.preventSrc(e):void 0}e.preventDefault()},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t})();function xf(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function _f(t){var e=t.length;if(1===e)return{x:Lm(t[0].clientX),y:Lm(t[0].clientY)};for(var i=0,n=0,o=0;o<e;)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:Lm(i/e),y:Lm(n/e)}}function Cf(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:Lm(t.pointers[i].clientX),clientY:Lm(t.pointers[i].clientY)},i++;return{timeStamp:Bm(),pointers:e,center:_f(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Sf(t,e,i){var n=e[(i=i||gf)[0]]-t[i[0]],e=e[i[1]]-t[i[1]];return Math.sqrt(n*n+e*e)}function Df(t,e,i){var n=e[(i=i||gf)[0]]-t[i[0]],e=e[i[1]]-t[i[1]];return 180*Math.atan2(e,n)/Math.PI}function Tf(t,e){return t===e?lf:jm(t)>=jm(e)?t<0?hf:uf:e<0?cf:df}function Of(t,e,i){return{x:e/t||0,y:i/t||0}}function Ef(t,e){var i,n,o,r,s,a,l=t.session,h=e.pointers,u=h.length,u=(l.firstInput||(l.firstInput=Cf(e)),1<u&&!l.firstMultiple?l.firstMultiple=Cf(e):1===u&&(l.firstMultiple=!1),l.firstInput),c=l.firstMultiple,d=(c||u).center,p=e.center=_f(h),m=(e.timeStamp=Bm(),e.deltaTime=e.timeStamp-u.timeStamp,e.angle=Df(d,p),e.distance=Sf(d,p),u=l,p=(d=e).center,a=u.offsetDelta||{},i=u.prevDelta||{},m=u.prevInput||{},d.eventType!==rf&&m.eventType!==sf||(i=u.prevDelta={x:m.deltaX||0,y:m.deltaY||0},a=u.offsetDelta={x:p.x,y:p.y}),d.deltaX=i.x+(p.x-a.x),d.deltaY=i.y+(p.y-a.y),e.offsetDirection=Tf(e.deltaX,e.deltaY),Of(e.deltaTime,e.deltaX,e.deltaY)),u=(e.overallVelocityX=m.x,e.overallVelocityY=m.y,e.overallVelocity=jm(m.x)>jm(m.y)?m.x:m.y,e.scale=c?(u=c.pointers,Sf(h[0],h[1],vf)/Sf(u[0],u[1],vf)):1,e.rotation=c?(d=c.pointers,Df(h[1],h[0],vf)+Df(d[1],d[0],vf)):0,e.maxPointers=!l.prevInput||e.pointers.length>l.prevInput.maxPointers?e.pointers.length:l.prevInput.maxPointers,i=e,a=(p=l).lastInterval||i,m=i.timeStamp-a.timeStamp,i.eventType!==af&&(of<m||void 0===a.velocity)?(n=(r=Of(m,m=i.deltaX-a.deltaX,s=i.deltaY-a.deltaY)).x,o=r.y,r=jm(r.x)>jm(r.y)?r.x:r.y,s=Tf(m,s),p.lastInterval=i):(r=a.velocity,n=a.velocityX,o=a.velocityY,s=a.direction),i.velocity=r,i.velocityX=n,i.velocityY=o,i.direction=s,t.element),c=e.srcEvent,h=c.composedPath?c.composedPath()[0]:c.path?c.path[0]:c.target;xf(h,u)&&(u=h),e.target=u}function Af(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,r=e&rf&&n-o==0,n=e&(sf|af)&&n-o==0;i.isFirst=!!r,i.isFinal=!!n,r&&(t.session={}),i.eventType=e,Ef(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function If(t){return t.trim().split(/\s+/g)}function Pf(e,t,i){yf(If(t),function(t){e.addEventListener(t,i,!1)})}function Mf(e,t,i){yf(If(t),function(t){e.removeEventListener(t,i,!1)})}function Nf(t){t=t.ownerDocument||t;return t.defaultView||t.parentWindow||window}var Ff=(()=>{function t(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){bf(e.options.enable,[e])&&i.handler(t)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Pf(this.element,this.evEl,this.domHandler),this.evTarget&&Pf(this.target,this.evTarget,this.domHandler),this.evWin&&Pf(Nf(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Mf(this.element,this.evEl,this.domHandler),this.evTarget&&Mf(this.target,this.evTarget,this.domHandler),this.evWin&&Mf(Nf(this.element),this.evWin,this.domHandler)},t})();function Rf(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}var Lf={pointerdown:rf,pointermove:2,pointerup:sf,pointercancel:af,pointerout:af},jf={2:ef,3:"pen",4:nf,5:"kinect"},Bf="pointerdown",zf="pointermove pointerup pointercancel",Hf=(Hm.MSPointerEvent&&!Hm.PointerEvent&&(Bf="MSPointerDown",zf="MSPointerMove MSPointerUp MSPointerCancel"),(e=>{function i(){var t=i.prototype;return t.evEl=Bf,t.evWin=zf,(t=e.apply(this,arguments)||this).store=t.manager.session.pointerEvents=[],t}return Mm(i,e),i.prototype.handler=function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),n=Lf[n],o=jf[t.pointerType]||t.pointerType,r=o===ef,s=Rf(e,t.pointerId,"pointerId");n&rf&&(0===t.button||r)?s<0&&(e.push(t),s=e.length-1):n&(sf|af)&&(i=!0),s<0||(e[s]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(s,1))},i})(Ff));function Gf(t){return Array.prototype.slice.call(t,0)}function Wf(t,i,e){for(var n=[],o=[],r=0;r<t.length;){var s=i?t[r][i]:t[r];Rf(o,s)<0&&n.push(t[r]),o[r]=s,r++}return n=e?i?n.sort(function(t,e){return t[i]>e[i]}):n.sort():n}var Yf={touchstart:rf,touchmove:2,touchend:sf,touchcancel:af},Vf=(e=>{function i(){var t;return i.prototype.evTarget="touchstart touchmove touchend touchcancel",(t=e.apply(this,arguments)||this).targetIds={},t}return Mm(i,e),i.prototype.handler=function(t){var e=Yf[t.type],i=function(t,e){var i,n,o=Gf(t.touches),r=this.targetIds;if(e&(2|rf)&&1===o.length)return r[o[0].identifier]=!0,[o,o];var s=Gf(t.changedTouches),a=[],l=this.target;if(n=o.filter(function(t){return xf(t.target,l)}),e===rf)for(i=0;i<n.length;)r[n[i].identifier]=!0,i++;i=0;for(;i<s.length;)r[s[i].identifier]&&a.push(s[i]),e&(sf|af)&&delete r[s[i].identifier],i++;if(a.length)return[Wf(n.concat(a),"identifier",!0),a]}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:ef,srcEvent:t})},i})(Ff);var Uf={mousedown:rf,mousemove:2,mouseup:sf},Xf=(e=>{function i(){var t=i.prototype;return t.evEl="mousedown",t.evWin="mousemove mouseup",(t=e.apply(this,arguments)||this).pressed=!1,t}return Mm(i,e),i.prototype.handler=function(t){var e=Uf[t.type];e&rf&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=sf),this.pressed&&(e&sf&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:nf,srcEvent:t}))},i})(Ff),qf=2500,Kf=25;function $f(t){var e,i,t=t.changedPointers[0];t.identifier===this.primaryTouch&&(e={x:t.clientX,y:t.clientY},i=this.lastTouches,this.lastTouches.push(e),setTimeout(function(){var t=i.indexOf(e);-1<t&&i.splice(t,1)},qf))}var Zf=(()=>(i=>{function t(t,e){var r=i.call(this,t,e)||this;return r.handler=function(t,e,i){var n=i.pointerType===ef,o=i.pointerType===nf;if(!(o&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)!function(t,e){t&rf?(this.primaryTouch=e.changedPointers[0].identifier,$f.call(this,e)):t&(sf|af)&&$f.call(this,e)}.call(Nm(Nm(r)),e,i);else if(o&&function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var o=this.lastTouches[n],r=Math.abs(e-o.x),o=Math.abs(i-o.y);if(r<=Kf&&o<=Kf)return!0}return!1}.call(Nm(Nm(r)),i))return;r.callback(t,e,i)}},r.touch=new Vf(r.manager,r.handler),r.mouse=new Xf(r.manager,r.handler),r.primaryTouch=null,r.lastTouches=[],r}return Mm(t,i),t.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t})(Ff))();function Qf(t,e,i){return Array.isArray(t)&&(yf(t,i[e],i),1)}var Jf=1;function tg(t,e){e=e.manager;return e?e.get(t):t}function eg(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var ig=(()=>{function t(t){this.options=Pm({enable:!0},t=void 0===t?{}:t),this.id=Jf++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return Fm(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){var e;return Qf(t,"recognizeWith",this)||(e=this.simultaneous)[(t=tg(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},e.dropRecognizeWith=function(t){return Qf(t,"dropRecognizeWith",this)||(t=tg(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){var e;return Qf(t,"requireFailure",this)||-1===Rf(e=this.requireFail,t=tg(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){return Qf(t,"dropRequireFailure",this)||(t=tg(t,this),-1<(t=Rf(this.requireFail,t))&&this.requireFail.splice(t,1)),this},e.hasRequireFailures=function(){return 0<this.requireFail.length},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(e){var i=this,t=this.state;function n(t){i.manager.emit(t,e)}t<8&&n(i.options.event+eg(t)),n(i.options.event),e.additionalEvent&&n(e.additionalEvent),8<=t&&n(i.options.event+eg(t))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=32},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){t=Fm({},t);bf(this.options.enable,[this,t])?(56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)):(this.reset(),this.state=32)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t})(),ng=(e=>{function t(t){return(t=e.call(this,Pm({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},t=void 0===t?{}:t))||this).pTime=!1,t.pCenter=!1,t._timer=null,t._input=null,t.count=0,t}Mm(t,e);var i=t.prototype;return i.getTouchAction=function(){return[Xm]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,o=t.distance<i.threshold,r=t.deltaTime<i.time;if(this.reset(),t.eventType&rf&&0===this.count)return this.failTimeout();if(o&&r&&n){if(t.eventType!==sf)return this.failTimeout();o=!this.pTime||t.timeStamp-this.pTime<i.interval,r=!this.pCenter||Sf(this.pCenter,t.center)<i.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,r&&o?this.count+=1:this.count=1,this._input=t,0==this.count%i.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){e.state=8,e.tryEmit()},i.interval),2):8}return 32},i.failTimeout=function(){var t=this;return this._timer=setTimeout(function(){t.state=32},this.options.interval),32},i.reset=function(){clearTimeout(this._timer)},i.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t})(ig),og=(e=>{function t(t){return e.call(this,Pm({pointers:1},t=void 0===t?{}:t))||this}Mm(t,e);var i=t.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,n=6&e,t=this.attrTest(t);return n&&(i&af||!t)?16|e:n||t?i&sf?8|e:2&e?4|e:2:32},t})(ig);function rg(t){return t===df?"down":t===cf?"up":t===hf?"left":t===uf?"right":""}var sg=(i=>{function t(t){return(t=i.call(this,Pm({event:"pan",threshold:10,pointers:1,direction:ff},t=void 0===t?{}:t))||this).pX=null,t.pY=null,t}Mm(t,i);var e=t.prototype;return e.getTouchAction=function(){var t=this.options.direction,e=[];return t&pf&&e.push($m),t&mf&&e.push(Km),e},e.directionTest=function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,r=t.deltaX,s=t.deltaY;return o&e.direction||(n=e.direction&pf?(o=0===r?lf:r<0?hf:uf,i=r!==this.pX,Math.abs(t.deltaX)):(o=0===s?lf:s<0?cf:df,i=s!==this.pY,Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},e.attrTest=function(t){return og.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},e.emit=function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=rg(t.direction);e&&(t.additionalEvent=this.options.event+e),i.prototype.emit.call(this,t)},t})(og),ag=(n=>{function t(t){return n.call(this,Pm({event:"swipe",threshold:10,velocity:.3,direction:pf|mf,pointers:1},t=void 0===t?{}:t))||this}Mm(t,n);var e=t.prototype;return e.getTouchAction=function(){return sg.prototype.getTouchAction.call(this)},e.attrTest=function(t){var e,i=this.options.direction;return i&(pf|mf)?e=t.overallVelocity:i&pf?e=t.overallVelocityX:i&mf&&(e=t.overallVelocityY),n.prototype.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers===this.options.pointers&&jm(e)>this.options.velocity&&t.eventType&sf},e.emit=function(t){var e=rg(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},t})(og),lg=(i=>{function t(t){return i.call(this,Pm({event:"pinch",threshold:0,pointers:2},t=void 0===t?{}:t))||this}Mm(t,i);var e=t.prototype;return e.getTouchAction=function(){return[qm]},e.attrTest=function(t){return i.prototype.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},e.emit=function(t){var e;1!==t.scale&&(e=t.scale<1?"in":"out",t.additionalEvent=this.options.event+e),i.prototype.emit.call(this,t)},t})(og),hg=(e=>{function t(t){return e.call(this,Pm({event:"rotate",threshold:0,pointers:2},t=void 0===t?{}:t))||this}Mm(t,e);var i=t.prototype;return i.getTouchAction=function(){return[qm]},i.attrTest=function(t){return e.prototype.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)},t})(og),ug=(e=>{function t(t){return(t=e.call(this,Pm({event:"press",pointers:1,time:251,threshold:9},t=void 0===t?{}:t))||this)._timer=null,t._input=null,t}Mm(t,e);var i=t.prototype;return i.getTouchAction=function(){return["auto"]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,o=t.distance<i.threshold,r=i.time<t.deltaTime;if(this._input=t,!o||!n||t.eventType&(sf|af)&&!r)this.reset();else if(t.eventType&rf)this.reset(),this._timer=setTimeout(function(){e.state=8,e.tryEmit()},i.time);else if(t.eventType&sf)return 8;return 32},i.reset=function(){clearTimeout(this._timer)},i.emit=function(t){8===this.state&&(t&&t.eventType&sf?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Bm(),this.manager.emit(this.options.event,this._input)))},t})(ig),cg={domEvents:!1,touchAction:Um,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},dg=[[hg,{enable:!1}],[lg,{enable:!1},["rotate"]],[ag,{direction:pf}],[sg,{direction:pf},["swipe"]],[ng],[ng,{event:"doubletap",taps:2},["tap"]],[ug]];function pg(i,n){var o,r=i.element;r.style&&(yf(i.options.cssProps,function(t,e){o=zm(r.style,e),n?(i.oldCssProps[o]=r.style[o],r.style[o]=t):r.style[o]=i.oldCssProps[o]||""}),n||(i.oldCssProps={}))}var mg=(()=>{function t(t,e){var i=this;this.options=Fm({},cg,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((e=this).options.inputClass||(Jm?Hf:tf?Vf:Qm?Zf:Xf))(e,Af),this.touchAction=new kf(this,this.options.touchAction),pg(this,!0),yf(this.options.recognizers,function(t){var e=i.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}var e=t.prototype;return e.set=function(t){return Fm(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);for(var i,n=this.recognizers,o=e.curRecognizer,r=((!o||8&o.state)&&(o=e.curRecognizer=null),0);r<n.length;)i=n[r],2===e.stopped||o&&i!==o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&14&i.state&&(o=e.curRecognizer=i),r++}},e.get=function(t){if(t instanceof ig)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){var e;return Qf(t,"add",this)?this:((e=this.get(t.options.event))&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t)},e.remove=function(t){var e;return Qf(t,"remove",this)||(e=this.get(t),t&&-1!==(e=Rf(t=this.recognizers,e))&&(t.splice(e,1),this.touchAction.update())),this},e.on=function(t,e){var i;return void 0!==t&&void 0!==e&&(i=this.handlers,yf(If(t),function(t){i[t]=i[t]||[],i[t].push(e)})),this},e.off=function(t,e){var i;return void 0!==t&&(i=this.handlers,yf(If(t),function(t){e?i[t]&&i[t].splice(Rf(i[t],e),1):delete i[t]})),this},e.emit=function(t,e){this.options.domEvents&&(i=t,n=e,(o=document.createEvent("Event")).initEvent(i,!0,!0),(o.gesture=n).target.dispatchEvent(o));var i,n,o,r=this.handlers[t]&&this.handlers[t].slice();if(r&&r.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<r.length;)r[s](e),s++}},e.destroy=function(){this.element&&pg(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t})(),fg={touchstart:rf,touchmove:2,touchend:sf,touchcancel:af},gg=(e=>{function i(){var t=i.prototype;return t.evTarget="touchstart",t.evWin="touchstart touchmove touchend touchcancel",(t=e.apply(this,arguments)||this).started=!1,t}return Mm(i,e),i.prototype.handler=function(t){var e,i=fg[t.type];i===rf&&(this.started=!0),this.started&&(e=function(t,e){var i=Gf(t.touches),t=Gf(t.changedTouches);e&(sf|af)&&(i=Wf(i.concat(t),"identifier",!0));return[i,t]}.call(this,t,i),i&(sf|af)&&e[0].length-e[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:e[0],changedPointers:e[1],pointerType:ef,srcEvent:t}))},i})(Ff);function vg(i,t,e){var n="DEPRECATED METHOD: "+t+"\n"+e+" AT \n";return function(){var t=new Error("get-stack-trace"),t=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",e=window.console&&(window.console.warn||window.console.log);return e&&e.call(window.console,n,t),i.apply(this,arguments)}}var yg=vg(function(t,e,i){for(var n=Object.keys(e),o=0;o<n.length;)i&&void 0!==t[n[o]]||(t[n[o]]=e[n[o]]),o++;return t},"extend","Use `assign`."),bg=vg(function(t,e){return yg(t,e,!0)},"merge","Use `assign`.");function wg(t,e,i){var e=e.prototype,n=t.prototype=Object.create(e);n.constructor=t,n._super=e,i&&Fm(n,i)}function kg(t,e){return function(){return t.apply(e,arguments)}}m=(()=>{function t(t,e){return void 0===e&&(e={}),new mg(t,Pm({recognizers:dg.concat()},e))}return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=ff,t.DIRECTION_DOWN=df,t.DIRECTION_LEFT=hf,t.DIRECTION_RIGHT=uf,t.DIRECTION_UP=cf,t.DIRECTION_HORIZONTAL=pf,t.DIRECTION_VERTICAL=mf,t.DIRECTION_NONE=lf,t.DIRECTION_DOWN=df,t.INPUT_START=rf,t.INPUT_MOVE=2,t.INPUT_END=sf,t.INPUT_CANCEL=af,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=32,t.Manager=mg,t.Input=Ff,t.TouchAction=kf,t.TouchInput=Vf,t.MouseInput=Xf,t.PointerEventInput=Hf,t.TouchMouseInput=Zf,t.SingleTouchInput=gg,t.Recognizer=ig,t.AttrRecognizer=og,t.Tap=ng,t.Pan=sg,t.Swipe=ag,t.Pinch=lg,t.Rotate=hg,t.Press=ug,t.on=Pf,t.off=Mf,t.each=yf,t.merge=bg,t.extend=yg,t.bindFn=kg,t.assign=Fm,t.inherit=wg,t.bindFn=kg,t.prefixed=zm,t.toArray=Gf,t.inArray=Rf,t.uniqueArray=Wf,t.splitStr=If,t.boolOrFn=bf,t.hasParent=xf,t.addEventListeners=Pf,t.removeEventListeners=Mf,t.defaults=Fm({},cg,{preset:dg}),t})(),m.defaults,Ur=m;function xg(e,t){var i,n=Xu(e);return Kh&&(i=Kh(e),t&&(i=P(i).call(i,function(t){return su(e,t).enumerable})),n.push.apply(n,i)),n}function _g(e){for(var t=1;t<arguments.length;t++){var i,n=null!=arguments[t]?arguments[t]:{};t%2?I(i=xg(Object(n),!0)).call(i,function(t){ku(e,t,n[t])}):gu?wu(e,gu(n)):I(i=xg(Object(n))).call(i,function(t){Ku(e,t,su(n,t))})}return e}function Cg(t,e){var i,n,o,r,s=void 0!==cd&&Fc(t)||t["@@iterator"];if(s)return n=!(i=!0),{s:function(){s=s.call(t)},n:function(){var t=s.next();return i=t.done,t},e:function(t){n=!0,o=t},f:function(){try{i||null==s.return||s.return()}finally{if(n)throw o}}};if(E(t)||(s=((t,e)=>{var i;if(t)return"string"==typeof t?Sg(t,e):"Map"===(i="Object"===(i=vd(i=Object.prototype.toString.call(t)).call(i,8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Pc(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Sg(t,e):void 0})(t))||e&&t&&"number"==typeof t.length)return s&&(t=s),r=0,{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Sg(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var Dg=cd("DELETE");function Tg(){var t=Og.apply(void 0,arguments);return function t(e){for(var i=0,n=Xu(e);i<n.length;i++){var o=n[i];e[o]===Dg?delete e[o]:"object"===D(e[o])&&null!==e[o]&&t(e[o])}}(t),t}function Og(){for(var t,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];if(i.length<2)return i[0];if(2<i.length)return Og.apply(void 0,M(t=[Tg(i[0],i[1])]).call(t,hd(vd(i).call(i,2))));var o,r=i[0],s=i[1],a=Cg(bd(s));try{for(a.s();!(o=a.n()).done;){var l=o.value;Object.prototype.propertyIsEnumerable.call(s,l)&&(s[l]===Dg?delete r[l]:null===r[l]||null===s[l]||"object"!==D(r[l])||"object"!==D(s[l])||E(r[l])||E(s[l])?r[l]=function e(t){return E(t)?Ou(t).call(t,function(t){return e(t)}):"object"===D(t)&&null!==t?Og({},t):t}(s[l]):r[l]=Og(r[l],s[l]))}}catch(t){a.e(t)}finally{a.f()}return r}var Eg="undefined"!=typeof window?window.Hammer||Ur:function(){return{on:t,off:t,destroy:t,emit:t,get:function(){return{set:t}}};function t(){}};function Ag(e){var i=this,n=(this._cleanupQueue=[],this.active=!1,this._dom={container:e,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){i._dom.overlay.parentNode.removeChild(i._dom.overlay)}),Eg(this._dom.overlay)),t=(n.on("tap",A(t=this._onTapOverlay).call(t,this)),this._cleanupQueue.push(function(){n.destroy()}),["tap","doubletap","press","pinch","pan","panstart","panmove","panend"]);I(t).call(t,function(t){n.on(t,function(t){t.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(t){((t,e)=>{for(;t;){if(t===e)return 1;t=t.parentNode}})(t.target,e)||i.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",i._onClick)})),this._escListener=function(t){("key"in t?"Escape"===t.key:27===t.keyCode)&&i.deactivate()}}yn(Ag.prototype),Ag.current=null,Ag.prototype.destroy=function(){this.deactivate();var t,e,i=Cg(Id(t=Qd(t=this._cleanupQueue).call(t,0)).call(t));try{for(i.s();!(e=i.n()).done;)(0,e.value)()}catch(t){i.e(t)}finally{i.f()}},Ag.prototype.activate=function(){Ag.current&&Ag.current.deactivate(),(Ag.current=this).active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Ag.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Ag.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var Ig=/^\/?Date\((-?\d+)/i,Pg=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Mg=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ng=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Fg=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Rg(t){return t instanceof Number||"number"==typeof t}function Lg(t){return t instanceof String||"string"==typeof t}function jg(t){return"object"===D(t)&&null!==t}function Bg(t,e,i,n){var o=!1;(o=!0===n?null===e[i]&&void 0!==t[i]:o)?delete t[i]:t[i]=e[i]}te=up;function zg(t,e){var i,n,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];for(i in e)!Object.prototype.hasOwnProperty.call(e,i)&&!0!==o||("object"===D(e[i])&&null!==e[i]&&Ip(e[i])===Object.prototype?void 0===t[i]?t[i]=zg({},e[i],o):"object"===D(t[i])&&null!==t[i]&&Ip(t[i])===Object.prototype?zg(t[i],e[i],o):Bg(t,e,i,r):E(e[i])?t[i]=vd(n=e[i]).call(n):Bg(t,e,i,r));return t}function Hg(t){var e=D(t);return"object"===e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":E(t)?"Array":t instanceof Date?"Date":"Object":"number"===e?"Number":"boolean"===e?"Boolean":"string"===e?"String":void 0===e?"undefined":e}function Gg(t,e){var i;return M(i=[]).call(i,hd(t),[e])}function Wg(t){return vd(t).call(t)}Yi=zp;b={asBoolean:function(t,e){return null!=(t="function"==typeof t?t():t)?0!=t:e||null},asNumber:function(t,e){return null!=(t="function"==typeof t?t():t)?Number(t)||e||null:e||null},asString:function(t,e){return null!=(t="function"==typeof t?t():t)?String(t):e||null},asSize:function(t,e){return Lg(t="function"==typeof t?t():t)?t:Rg(t)?t+"px":e||null},asElement:function(t,e){return(t="function"==typeof t?t():t)||e||null}};function Yg(t){var e;switch(t.length){case 3:case 4:return(e=Mg.exec(t))?{r:Jp(e[1]+e[1],16),g:Jp(e[2]+e[2],16),b:Jp(e[3]+e[3],16)}:null;case 6:case 7:return(e=Pg.exec(t))?{r:Jp(e[1],16),g:Jp(e[2],16),b:Jp(e[3],16)}:null;default:return null}}function Vg(t,e,i){return"#"+vd(t=((1<<24)+(t<<16)+(e<<8)+i).toString(16)).call(t,1)}function Ug(t,e,i){t/=255,e/=255,i/=255;var n=Math.min(t,Math.min(e,i)),o=Math.max(t,Math.max(e,i));return n===o?{h:0,s:0,v:n}:{h:60*((t===n?3:i===n?1:5)-(t===n?e-i:i===n?t-e:i-t)/(o-n))/360,s:(o-n)/o,v:o}}var Xg=function(t){var i={};return I(t=t.split(";")).call(t,function(t){var e;""!=fm(t).call(t)&&(t=t.split(":"),e=fm(e=t[0]).call(e),t=fm(t=t[1]).call(t),i[e]=t)}),i},qg=function(e){var t;return Ou(t=Xu(e)).call(t,function(t){return t+": "+e[t]}).join("; ")};function Kg(t,e,i){var n,o,r,s=Math.floor(6*t),t=6*t-s,a=i*(1-e),l=i*(1-t*e),h=i*(1-(1-t)*e);switch(s%6){case 0:n=i,o=h,r=a;break;case 1:n=l,o=i,r=a;break;case 2:n=a,o=i,r=h;break;case 3:n=a,o=l,r=i;break;case 4:n=h,o=a,r=i;break;case 5:n=i,o=a,r=l}return{r:Math.floor(255*n),g:Math.floor(255*o),b:Math.floor(255*r)}}function $g(t,e,i){t=Kg(t,e,i);return Vg(t.r,t.g,t.b)}function Zg(t){var e=Yg(t);if(e)return Ug(e.r,e.g,e.b);throw new TypeError("'".concat(t,"' is not a valid color."))}function Qg(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function Jg(t){return Ng.test(t)}function tv(t){return Fg.test(t)}function ev(t){if(null===t||"object"!==D(t))return null;if(t instanceof Element)return t;var e,i=vm(t);for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&"object"==D(t[e])&&(i[e]=ev(t[e]));return i}var iv={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},nv=(()=>{function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;v(this,e),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return T(e,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return iv[t]}},{key:"setColor",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if("none"!==t){var i,n=this._isColorString(t);if(!0===Lg(t=void 0!==n?n:t)?!0===Jg(t)?i={r:(n=t.substr(4).substr(0,t.length-5).split(","))[0],g:n[1],b:n[2],a:1}:!0===tv(t)?i={r:(n=t.substr(5).substr(0,t.length-6).split(","))[0],g:n[1],b:n[2],a:n[3]}:!0===Qg(t)&&(i={r:(n=Yg(t)).r,g:n.g,b:n.b,a:1}):t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b&&(n=void 0!==t.a?t.a:"1.0",i={r:t.r,g:t.g,b:t.b,a:n}),void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+km(t));this._setColor(i,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this;!0===(!(0<arguments.length&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=up({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",Lh(function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){!0===(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=up({},t));var e=Ug((this.color=t).r,t.g,t.b),i=2*Math.PI,n=this.r*e.s,o=this.centerCoordinates.x+n*Math.sin(i*e.h),n=this.centerCoordinates.y+n*Math.cos(i*e.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=n-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=Ug(this.color.r,this.color.g,this.color.b),t=(e.v=t/100,Kg(e.h,e.s,e.v));t.a=this.color.a,this.color=t,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.color,e=Ug(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d"),n=(void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.colorPickerCanvas.clientWidth),o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Em(i).call(i),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var t;this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext?(t=this.colorPickerCanvas.getContext("2d"),this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)):((t=document.createElement("DIV")).style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)),this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var e=this;this.opacityRange.onchange=function(){e._setOpacity(this.value)},this.opacityRange.oninput=function(){e._setOpacity(this.value)},this.brightnessRange.onchange=function(){e._setBrightness(this.value)},this.brightnessRange.oninput=function(){e._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=A(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=A(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=A(t=this._save).call(t,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=A(t=this._loadLast).call(t,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new Eg(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(t){t.isFirst&&e._moveSelector(t)}),this.hammer.on("tap",function(t){e._moveSelector(t)}),this.hammer.on("panstart",function(t){e._moveSelector(t)}),this.hammer.on("panmove",function(t){e._moveSelector(t)}),this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){for(var t,e,i,n,o=this.colorPickerCanvas.getContext("2d"),r=(void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1)),o.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.colorPickerCanvas.clientWidth),s=this.colorPickerCanvas.clientHeight,a=(o.clearRect(0,0,r,s),this.centerCoordinates={x:.5*r,y:.5*s},this.r=.49*r,2*Math.PI/360),l=1/this.r,h=0;h<360;h++)for(i=0;i<this.r;i++)t=this.centerCoordinates.x+i*Math.sin(a*h),e=this.centerCoordinates.y+i*Math.cos(a*h),n=Kg(h*(1/360),i*l,1),o.fillStyle="rgb("+n.r+","+n.g+","+n.b+")",o.fillRect(t-.5,e-.5,2,2);o.strokeStyle="rgba(0,0,0,1)",o.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),o.stroke(),this.hueCircle=o.getImageData(0,0,r,s)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,t=t.center.y-e.top,e=.5*this.colorPickerDiv.clientHeight,n=.5*this.colorPickerDiv.clientWidth,i=i-n,t=t-e,o=Math.atan2(i,t),i=.98*Math.min(Math.sqrt(i*i+t*t),n),t=Math.cos(o)*i+e,e=Math.sin(o)*i+n;this.colorPickerSelector.style.top=t-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=e-.5*this.colorPickerSelector.clientWidth+"px";n=(n=o/(2*Math.PI))<0?1+n:n,t=i/this.r,e=Ug(this.color.r,this.color.g,this.color.b),e.h=n,e.s=t,o=Kg(e.h,e.s,e.v);o.a=this.color.a,this.color=o,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),e})();function ov(){for(var t,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];if(i.length<1)throw new TypeError("Invalid arguments.");return 1===i.length?document.createTextNode(i[0]):((t=document.createElement(i[0])).appendChild(ov.apply(void 0,hd(vd(i).call(i,1)))),t)}var rv,k=(()=>{function r(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:function(){return!1};v(this,r),this.parent=t,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},up(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new nv(n),this.wrapper=void 0}return T(r,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;if("string"==typeof t)this.options.filter=t;else if(E(t))this.options.filter=t.join();else if("object"===D(t)){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==P(t)&&(this.options.filter=P(t)),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===P(this.options)&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var t,e=P(this.options),i=0,n=!1;for(t in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,t)&&(n=this.allowCreation=!1,"function"==typeof e?n=(n=e(t,[]))||this._handleObject(this.configureOptions[t],[t],!0):!0!==e&&-1===N(e).call(e,t)||(n=!0),!1!==n&&(this.allowCreation=!0,0<i&&this._makeItem([]),this._makeHeader(t),this._handleObject(this.configureOptions[t],[t])),i++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){if(!0!==this.allowCreation)return 0;var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var i=arguments.length,n=new Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return I(n).call(n,function(t){e.appendChild(t)}),this.domElements.push(e),this.domElements.length}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerText=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+e.length,!0===i){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(ov("i","b",t))}else n.innerText=t+":";return n}},{key:"_makeDropdown",value:function(t,e,i){var n=document.createElement("select"),o=(n.className="vis-configuration vis-config-select",0);void 0!==e&&-1!==N(t).call(t,e)&&(o=N(t).call(t,e));for(var r=0;r<t.length;r++){var s=document.createElement("option");s.value=t[r],r===o&&(s.selected="selected"),s.innerText=t[r],n.appendChild(s)}var a=this,e=(n.onchange=function(){a._update(this.value,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,e,n)}},{key:"_makeRange",value:function(t,e,i){var n=t[0],o=t[1],r=t[2],t=t[3],s=document.createElement("input");s.className="vis-configuration vis-config-range";try{s.type="range",s.min=o,s.max=r}catch(t){}s.step=t;var t="",a=0,l=(void 0!==e?(e<0&&1.2*e<o?(s.min=Math.ceil(1.2*e),a=s.min,t="range increased"):e/1.2<o&&(s.min=Math.ceil(e/1.2),a=s.min,t="range increased"),r<1.2*e&&1!==r&&(s.max=Math.ceil(1.2*e),a=s.max,t="range increased"),s.value=e):s.value=n,document.createElement("input")),h=(l.className="vis-configuration vis-config-rangeinput",l.value=s.value,this),o=(s.onchange=function(){l.value=this.value,h._update(Number(this.value),i)},s.oninput=function(){l.value=this.value},this._makeLabel(i[i.length-1],i)),r=this._makeItem(i,o,s,l);""!==t&&this.popupHistory[r]!==a&&(this.popupHistory[r]=a,this._setupPopup(t,r))}},{key:"_makeButton",value:function(){var t,e=this;!0===this.options.showButton&&((t=document.createElement("div")).className="vis-configuration vis-config-button",t.innerText="generate options",t.onclick=function(){e._printOptions()},t.onmouseover=function(){t.className="vis-configuration vis-config-button hover"},t.onmouseout=function(){t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t))}},{key:"_setupPopup",value:function(t,e){var i,n=this;!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit&&((i=document.createElement("div")).id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=t,i.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:e})}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t,e=this;void 0!==this.popupDiv.html&&(t=this.domElements[this.popupDiv.index].getBoundingClientRect(),this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Lh(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Lh(function(){e._removePopup()},1800))}},{key:"_makeCheckbox",value:function(t,e,i){var n=document.createElement("input"),o=(n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=t,void 0===e||(n.checked=e)===t||"object"===D(t)&&e===t.enabled||this.changedOptions.push({path:i,value:e}),this),t=(n.onchange=function(){o._update(this.checked,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,t,n)}},{key:"_makeTextInput",value:function(t,e,i){var n=document.createElement("input"),o=(n.type="text",n.className="vis-configuration vis-config-text",(n.value=e)!==t&&this.changedOptions.push({path:i,value:e}),this),t=(n.onchange=function(){o._update(this.value,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,t,n)}},{key:"_makeColorField",value:function(t,e,i){var n=this,t=t[1],o=document.createElement("div"),t=("none"!==(e=void 0===e?t:e)?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=e):o.className="vis-configuration vis-config-colorBlock none",e=void 0===e?t:e,o.onclick=function(){n._showColorPicker(e,o,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,t,o)}},{key:"_showColorPicker",value:function(t,e,i){var n=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(t){t="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=t,n._update(t,i)}),this.colorPicker.setCloseCallback(function(){e.onclick=function(){n._showColorPicker(t,e,i)}})}},{key:"_handleObject",value:function(t){var e,i,n,o,r,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],a=2<arguments.length&&void 0!==arguments[2]&&arguments[2],l=!1,h=P(this.options),u=!1;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(l=!0,i=t[e],n=Gg(s,e),"function"==typeof h&&!1===(l=h(e,s))&&!E(i)&&"string"!=typeof i&&"boolean"!=typeof i&&i instanceof Object&&(this.allowCreation=!1,l=this._handleObject(i,n,!0),this.allowCreation=!1===a),!1!==l)&&(u=!0,o=this._getValue(n),E(i)?this._handleArray(i,o,n):"string"==typeof i?this._makeTextInput(i,o,n):"boolean"==typeof i?this._makeCheckbox(i,o,n):i instanceof Object?this.hideOption(s,e,this.moduleOptions)||(void 0!==i.enabled?(o=Gg(n,"enabled"),!0===(o=this._getValue(o))?(r=this._makeLabel(e,n,!0),this._makeItem(n,r),u=this._handleObject(i,n)||u):this._makeCheckbox(i,o,n)):(r=this._makeLabel(e,n,!0),this._makeItem(n,r),u=this._handleObject(i,n)||u)):console.error("dont know how to handle",i,e,n));return u}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e)&&this.changedOptions.push({path:i,value:Number(e)})}},{key:"_update",value:function(t,e){t=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",t),this.initialized=!0,this.parent.setOptions(t)}},{key:"_constructOptions",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=i;t="false"!==(t="true"===t||t)&&t;for(var o=0;o<e.length;o++)"global"!==e[o]&&(void 0===n[e[o]]&&(n[e[o]]={}),o!==e.length-1?n=n[e[o]]:n[e[o]]=t);return i}},{key:"_printOptions",value:function(){for(var t=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(ov("pre","const options = "+km(t,null,2)))}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),r})(),d=(()=>{function i(t,e){v(this,i),this.container=t,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return T(i,[{key:"setPosition",value:function(t,e){this.x=Jp(t),this.y=Jp(e)}},{key:"setText",value:function(t){if(t instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(t)}else this.frame.innerText=t}},{key:"show",value:function(t){var e,i,n,o,r,s,a;!0===(t=void 0===t?!0:t)?(t=this.frame.clientHeight,e=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,n=this.frame.parentNode.clientWidth,r=o=0,"flip"==this.overflowMethod?(a=!(s=!1),this.y-t<this.padding&&(a=!1),o=(s=this.x+e>n-this.padding?!0:s)?this.x-e:this.x,r=a?this.y-t:this.y):((r=(r=this.y-t)+t+this.padding>i?i-t-this.padding:r)<this.padding&&(r=this.padding),(o=(o=this.x)+e+this.padding>n?n-e-this.padding:o)<this.padding&&(o=this.padding)),this.frame.style.left=o+"px",this.frame.style.top=r+"px",this.frame.style.visibility="visible",this.hidden=!1):this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),i})(),sv=!1,av="background: #FFeeee; color: #dd0000",vs=(()=>{function d(){v(this,d)}return T(d,null,[{key:"validate",value:function(t,e,i){sv=!1;var n=rv=e;return void 0!==i&&(n=e[i]),d.parse(t,n,[]),sv}},{key:"parse",value:function(t,e,i){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&d.check(n,t,e,i)}},{key:"check",value:function(t,e,i,n){var o,r,s;void 0===i[t]&&void 0===i.__any__?d.getSuggestion(t,i,n):(r=!0,void 0===i[o=t]&&void 0!==i.__any__&&(o="__any__",r="object"===d.getType(e[t])),s=i[o],r&&void 0!==s.__type__&&(s=s.__type__),d.checkFields(t,e,i,o,s,n))}},{key:"checkFields",value:function(e,t,i,n,o,r){function s(t){console.error("%c"+t+d.printLocation(r,e),av)}var a=d.getType(t[e]),l=o[a];void 0!==l?"array"===d.getType(l)&&-1===N(l).call(l,t[e])?(s('Invalid option detected in "'+e+'". Allowed values are:'+d.print(l)+' not "'+t[e]+'". '),sv=!0):"object"===a&&"__any__"!==n&&(r=Gg(r,e),d.parse(t[e],i[n],r)):void 0===o.any&&(s('Invalid type received for "'+e+'". Expected: '+d.print(Xu(o))+". Received ["+a+'] "'+t[e]+'"'),sv=!0)}},{key:"getType",value:function(t){var e=D(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":E(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(t,e,i){var n=d.findInOptions(t,e,i,!1),o=d.findInOptions(t,rv,[],!0),o=void 0!==n.indexMatch?" in "+d.printLocation(n.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+'"?\n\n':o.distance<=4&&n.distance>o.distance?" in "+d.printLocation(n.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+d.printLocation(o.path,o.closestMatch,""):n.distance<=8?'. Did you mean "'+n.closestMatch+'"?'+d.printLocation(n.path,t):". Did you mean one of these: "+d.print(Xu(e))+d.printLocation(i,t);console.error('%cUnknown option detected: "'+t+'"'+o,av),sv=!0}},{key:"findInOptions",value:function(t,e,i){var n,o=3<arguments.length&&void 0!==arguments[3]&&arguments[3],r=1e9,s="",a=[],l=t.toLowerCase(),h=void 0;for(n in e){var u,c;void 0!==e[n].__type__&&!0===o?r>(c=d.findInOptions(t,e[n],Gg(i,n))).distance&&(s=c.closestMatch,a=c.path,r=c.distance,h=c.indexMatch):(-1!==N(c=n.toLowerCase()).call(c,l)&&(h=n),(u=d.levenshteinDistance(t,n))<r&&(s=n,a=Wg(i),r=u))}return{closestMatch:s,path:a,distance:r,indexMatch:h}}},{key:"printLocation",value:function(t,e){for(var i="\n\n"+(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",n=0;n<t.length;n++){for(var o=0;o<n+1;o++)i+="  ";i+=t[n]+": {\n"}for(var r=0;r<t.length+1;r++)i+="  ";i+=e+"\n";for(var s=0;s<t.length+1;s++){for(var a=0;a<t.length-s;a++)i+="  ";i+="}\n"}return i+"\n\n"}},{key:"print",value:function(t){return km(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;for(var i,n=[],o=0;o<=e.length;o++)n[o]=[o];for(i=0;i<=t.length;i++)n[0][i]=i;for(o=1;o<=e.length;o++)for(i=1;i<=t.length;i++)e.charAt(o-1)==t.charAt(i-1)?n[o][i]=n[o-1][i-1]:n[o][i]=Math.min(n[o-1][i-1]+1,Math.min(n[o][i-1]+1,n[o-1][i]+1));return n[e.length][t.length]}}]),d})(),C=nv,vo=Object.freeze({__proto__:null,Activator:Ag,Alea:function(){for(var t,e,i,n,o,r,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return t=a.length?a:[_d()],e=ld(function(){for(var t=(()=>{var o=4022871197;return function(t){for(var e=t.toString(),i=0;i<e.length;i++){var n=.02519603282416938*(o+=e.charCodeAt(i));o=(n=(n-(o=n>>>0))*o)>>>0,o+=4294967296*(n-=o)}return 2.3283064365386963e-10*(o>>>0)}})(),e=t(" "),i=t(" "),n=t(" "),o=0;o<arguments.length;o++)(e-=t(o<0||arguments.length<=o?void 0:arguments[o]))<0&&(e+=1),(i-=t(o<0||arguments.length<=o?void 0:arguments[o]))<0&&(i+=1),(n-=t(o<0||arguments.length<=o?void 0:arguments[o]))<0&&(n+=1);return[e,i,n]}(t),3),i=e[0],n=e[1],o=e[2],r=1,h.uint32=function(){return 4294967296*h()},h.fract53=function(){return h()+11102230246251565e-32*(2097152*h()|0)},h.algorithm="Alea",h.seed=t,h.version="0.9",h;function h(){var t=2091639*i+2.3283064365386963e-10*r;return i=n,n=o,o=t-(r=0|t)}},ColorPicker:C,Configurator:k,DELETE:Dg,HSVToHex:$g,HSVToRGB:Kg,Hammer:Eg,Popup:d,RGBToHSV:Ug,RGBToHex:Vg,VALIDATOR_PRINT_STYLE:"background: #FFeeee; color: #dd0000",Validator:vs,addClassName:function(t,e){var i=t.className.split(" "),e=e.split(" "),i=M(i).call(i,P(e).call(e,function(t){return!Ep(i).call(i,t)}));t.className=i.join(" ")},addCssText:function(t,e){var i=Xg(t.style.cssText),e=Xg(e),i=_g(_g({},i),e);t.style.cssText=qg(i)},addEventListener:function(t,e,i,n){var o;t.addEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&Ep(o=navigator.userAgent).call(o,"Firefox")&&(e="DOMMouseScroll"),t.addEventListener(e,i,n)):t.attachEvent("on"+e,i)},binarySearchCustom:function(t,e,i,n){for(var o=0,r=0,s=t.length-1;r<=s&&o<1e4;){var a=Math.floor((r+s)/2),l=t[a],l=e(void 0===n?l[i]:l[i][n]);if(0==l)return a;-1==l?r=a+1:s=a-1,o++}return-1},binarySearchValue:function(t,e,i,n,o){var r,s,a,l,h=0,u=0,c=t.length-1;for(o=null!=o?o:function(t,e){return t==e?0:t<e?-1:1};u<=c&&h<1e4;){if(l=Math.floor(.5*(c+u)),r=t[Math.max(0,l-1)][i],s=t[l][i],a=t[Math.min(t.length-1,l+1)][i],0==o(s,e))return l;if(o(r,e)<0&&0<o(s,e))return"before"==n?Math.max(0,l-1):l;if(o(s,e)<0&&0<o(a,e))return"before"==n?l:Math.min(t.length-1,l+1);o(s,e)<0?u=l+1:c=l-1,h++}return-1},bridgeObject:ev,copyAndExtendArray:Gg,copyArray:Wg,deepExtend:zg,deepObjectAssign:Tg,easingFunctions:{linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},equalArray:function(t,e){if(t.length!==e.length)return!1;for(var i=0,n=t.length;i<n;i++)if(t[i]!=e[i])return!1;return!0},extend:te,fillIfDefined:function t(e,i){var n,o,r,s=2<arguments.length&&void 0!==arguments[2]&&arguments[2];for(n in e)void 0!==i[n]&&(null===i[n]||"object"!==D(i[n])?Bg(e,i,n,s):(o=e[n],r=i[n],jg(o)&&jg(r)&&t(o,r,s)))},forEach:function(t,e){if(E(t))for(var i=t.length,n=0;n<i;n++)e(t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e(t[o],o,t)},getAbsoluteLeft:function(t){return t.getBoundingClientRect().left},getAbsoluteRight:function(t){return t.getBoundingClientRect().right},getAbsoluteTop:function(t){return t.getBoundingClientRect().top},getScrollBarWidth:function(){(i=document.createElement("p")).style.width="100%",i.style.height="200px";var t=document.createElement("div"),e=(t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(i),document.body.appendChild(t),i.offsetWidth),i=(t.style.overflow="scroll",i.offsetWidth);return e==i&&(i=t.clientWidth),document.body.removeChild(t),e-i},getTarget:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.event,e=null;return t&&(t.target?e=t.target:t.srcElement&&(e=t.srcElement)),e instanceof Element&&(null==e.nodeType||3!=e.nodeType||(e=e.parentNode)instanceof Element)?e:null},getType:Hg,hasParent:function(t,e){for(var i=t;i;){if(i===e)return!0;if(!i.parentNode)return!1;i=i.parentNode}return!1},hexToHSV:Zg,hexToRGB:Yg,insertSort:function(t,e){for(var i=0;i<t.length;i++){for(var n=t[i],o=void 0,o=i;0<o&&e(n,t[o-1])<0;o--)t[o]=t[o-1];t[o]=n}return t},isDate:function(t){if(t instanceof Date)return!0;if(Lg(t)){if(Ig.exec(t))return!0;if(!isNaN(Date.parse(t)))return!0}return!1},isNumber:Rg,isObject:jg,isString:Lg,isValidHex:Qg,isValidRGB:Jg,isValidRGBA:tv,mergeOptions:function(t,e,i){function n(t){return null!=t}function o(t){return null!==t&&"object"===D(t)}var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(!o(t))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!n(i))throw new Error("Parameter option must have a value");if(!o(r))throw new Error("Parameter globalOptions must be an object");var s=e[i],a=(r=o(r)&&!(t=>{for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0})(r)?r[i]:void 0)?r.enabled:void 0;if(void 0!==s)if("boolean"==typeof s)o(t[i])||(t[i]={}),t[i].enabled=s;else{if(null===s&&!o(t[i])){if(!n(r))return;t[i]=vm(r)}if(o(s)){var l=!0,s=(void 0!==s.enabled?l=s.enabled:void 0!==a&&(l=r.enabled),t),a=e,r=i;o(s[r])||(s[r]={});var h,u=a[r],c=s[r];for(h in u)Object.prototype.hasOwnProperty.call(u,h)&&(c[h]=u[h]);t[i].enabled=l}}},option:b,overrideOpacity:function(t,e){var i;return Ep(t).call(t,"rgba")?t:Ep(t).call(t,"rgb")?"rgba("+(i=t.substr(N(t).call(t,"(")+1).replace(")","").split(","))[0]+","+i[1]+","+i[2]+","+e+")":null==(i=Yg(t))?t:"rgba("+i.r+","+i.g+","+i.b+","+e+")"},parseColor:function(t,e){var i,n,o;return Lg(t)?!0===Qg(i=Jg(i=t)?Vg((n=Ou(n=i.substr(4).substr(0,i.length-5).split(",")).call(n,function(t){return Jp(t)}))[0],n[1],n[2]):i)?(o={h:(n=Zg(i)).h,s:.8*n.s,v:Math.min(1,1.02*n.v)},{background:i,border:n=$g((n={h:n.h,s:Math.min(1,1.25*n.s),v:.8*n.v}).h,n.s,n.v),highlight:{background:o=$g(o.h,o.s,o.v),border:n},hover:{background:o,border:n}}):{background:i,border:i,highlight:{background:i,border:i},hover:{background:i,border:i}}:e?{background:t.background||e.background,border:t.border||e.border,highlight:Lg(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||e.highlight.background,border:t.highlight&&t.highlight.border||e.highlight.border},hover:Lg(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||e.hover.border,background:t.hover&&t.hover.background||e.hover.background}}:{background:t.background||void 0,border:t.border||void 0,highlight:Lg(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Lg(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}},preventDefault:function(t){(t=t||window.event)&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},pureDeepObjectAssign:function(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return Tg.apply(void 0,M(t=[{},t]).call(t,i))},recursiveDOMDelete:function t(e){if(e)for(;!0===e.hasChildNodes();){var i=e.firstChild;i&&(t(i),e.removeChild(i))}},removeClassName:function(t,e){var i=t.className.split(" "),n=e.split(" "),i=P(i).call(i,function(t){return!Ep(n).call(n,t)});t.className=i.join(" ")},removeCssText:function(t,e){var i,n=Xg(t.style.cssText),o=Xg(e);for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&delete n[i];t.style.cssText=qg(n)},removeEventListener:function(t,e,i,n){var o;t.removeEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&Ep(o=navigator.userAgent).call(o,"Firefox")&&(e="DOMMouseScroll"),t.removeEventListener(e,i,n)):t.detachEvent("on"+e,i)},selectiveBridgeObject:function(t,e){if(null===e||"object"!==D(e))return null;for(var i=vm(e),n=0;n<t.length;n++)Object.prototype.hasOwnProperty.call(e,t[n])&&"object"==D(e[t[n]])&&(i[t[n]]=ev(e[t[n]]));return i},selectiveDeepExtend:function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(E(i))throw new TypeError("Arrays are not supported by deepExtend");for(var o=0;o<t.length;o++){var r=t[o];if(Object.prototype.hasOwnProperty.call(i,r))if(i[r]&&i[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?zg(e[r],i[r],!1,n):Bg(e,i,r,n);else{if(E(i[r]))throw new TypeError("Arrays are not supported by deepExtend");Bg(e,i,r,n)}}return e},selectiveExtend:function(t,e){if(!E(t))throw new Error("Array with property names expected as first argument");for(var i=arguments.length,n=new Array(2<i?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];for(var r=0,s=n;r<s.length;r++)for(var a=s[r],l=0;l<t.length;l++){var h=t[l];a&&Object.prototype.hasOwnProperty.call(a,h)&&(e[h]=a[h])}return e},selectiveNotDeepExtend:function(t,e,i){var n,o=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(E(i))throw new TypeError("Arrays are not supported by deepExtend");for(n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&!Ep(t).call(t,n))if(i[n]&&i[n].constructor===Object)void 0===e[n]&&(e[n]={}),e[n].constructor===Object?zg(e[n],i[n]):Bg(e,i,n,o);else if(E(i[n])){e[n]=[];for(var r=0;r<i[n].length;r++)e[n].push(i[n][r])}else Bg(e,i,n,o);return e},throttle:function(t){var e=!1;return function(){e||(e=!0,requestAnimationFrame(function(){e=!1,t()}))}},toArray:Yi,topMost:function(t,e){E(e)||(e=[e]);var i,n=Cg(t);try{for(n.s();!(i=n.n()).done;){var o=i.value;if(o){for(var r=o[e[0]],s=1;s<e.length;s++)r=r&&r[e[s]];if(void 0!==r)break}}}catch(t){n.e(t)}finally{n.f()}return r},updateProperty:function(t,e,i){return t[e]!==i&&(t[e]=i,!0)}}),lv={},Ut={get exports(){return lv},set exports(t){lv=t}},x={},hv={},is={get exports(){return hv},set exports(t){hv=t}},Dn={};function uv(){var t={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return t}var cv=/javascript\s*\:/gim;Dn.whiteList=uv(),Dn.getDefaultWhiteList=uv,Dn.onAttr=function(t,e,i){},Dn.onIgnoreAttr=function(t,e,i){},Dn.safeAttrValue=function(t,e){return cv.test(e)?"":e};var dv={indexOf:function(t,e){var i,n;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var n,o;if(Array.prototype.forEach)return t.forEach(e,i);for(n=0,o=t.length;n<o;n++)e.call(i,t[n],n,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}};var pv=Dn,mv=function(n,o){";"!==(n=dv.trimRight(n))[n.length-1]&&(n+=";");var t=n.length,r=!1,s=0,a=0,l="";function e(){var t,e,i;r||-1!==(e=(t=dv.trim(n.slice(s,a))).indexOf(":"))&&(i=dv.trim(t.slice(0,e)),e=dv.trim(t.slice(e+1)),i)&&(i=o(s,l.length,i,e,t))&&(l+=i+"; "),s=a+1}for(;a<t;a++){var i=n[a];if("/"===i&&"*"===n[a+1]){var h=n.indexOf("*/",a+2);if(-1===h)break;s=(a=h+1)+1,r=!1}else"("===i?r=!0:")"===i?r=!1:";"===i?r||e():"\n"===i&&e()}return dv.trim(l)};function fv(t){return null==t}function gv(t){(t=(t=>{var e,i={};for(e in t)i[e]=t[e];return i})(t||{})).whiteList=t.whiteList||pv.whiteList,t.onAttr=t.onAttr||pv.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||pv.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||pv.safeAttrValue,this.options=t}gv.prototype.process=function(t){var e,l,h,u,c;return(t=(t=t||"").toString())?(e=this.options,l=e.whiteList,h=e.onAttr,u=e.onIgnoreAttr,c=e.safeAttrValue,mv(t,function(t,e,i,n,o){var r,s=l[i],a=!1;if(!0===s?a=s:"function"==typeof s?a=s(n):s instanceof RegExp&&(a=s.test(n)),!0!==a&&(a=!1),n=c(i,n))return s={position:e,sourcePosition:t,source:o,isWhite:a},a?fv(r=h(i,n,s))?i+":"+n:r:fv(r=u(i,n,s))?void 0:r})):""};var vv,Et=is,yv=hv,bv=Dn,wv=gv;for(vv in(yv=Et.exports=function(t,e){return new wv(e).process(t)}).FilterCSS=wv,bv)yv[vv]=bv[vv];"undefined"!=typeof window&&(window.filterCSS=Et.exports);var go={indexOf:function(t,e){var i,n;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var n,o;if(Array.prototype.forEach)return t.forEach(e,i);for(n=0,o=t.length;n<o;n++)e.call(i,t[n],n,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){t=/\s|\n|\t/.exec(t);return t?t.index:-1}},ss=hv.FilterCSS,ls=hv.getDefaultWhiteList,kv=go;function xv(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var _v=new ss;function Cv(t){return t.replace(Sv,"&lt;").replace(Dv,"&gt;")}var Sv=/</g,Dv=/>/g,Tv=/"/g,Ov=/&quot;/g,Ev=/&#([a-zA-Z0-9]*);?/gim,Av=/&colon;?/gim,Iv=/&newline;?/gim,Pv=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Mv=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Nv=/u\s*r\s*l\s*\(.*/gi;function Fv(t){return t.replace(Tv,"&quot;")}function Rv(t){return t.replace(Ov,'"')}function Lv(t){return t.replace(Ev,function(t,e){return"x"===e[0]||"X"===e[0]?String.fromCharCode(parseInt(e.substr(1),16)):String.fromCharCode(parseInt(e,10))})}function jv(t){return t.replace(Av,":").replace(Iv," ")}function Bv(t){for(var e="",i=0,n=t.length;i<n;i++)e+=t.charCodeAt(i)<32?" ":t.charAt(i);return kv.trim(e)}function zv(t){return t=Bv(t=jv(t=Lv(t=Rv(t))))}function Hv(t){return t=Cv(t=Fv(t))}x.whiteList=xv(),x.getDefaultWhiteList=xv,x.onTag=function(t,e,i){},x.onIgnoreTag=function(t,e,i){},x.onTagAttr=function(t,e,i){},x.onIgnoreTagAttr=function(t,e,i){},x.safeAttrValue=function(t,e,i,n){if(i=zv(i),"href"===e||"src"===e){if("#"===(i=kv.trim(i)))return"#";if("http://"!==i.substr(0,7)&&"https://"!==i.substr(0,8)&&"mailto:"!==i.substr(0,7)&&"tel:"!==i.substr(0,4)&&"data:image/"!==i.substr(0,11)&&"ftp://"!==i.substr(0,6)&&"./"!==i.substr(0,2)&&"../"!==i.substr(0,3)&&"#"!==i[0]&&"/"!==i[0])return""}else if("background"===e){if(Pv.lastIndex=0,Pv.test(i))return""}else if("style"===e){if(Mv.lastIndex=0,Mv.test(i))return"";if(Nv.lastIndex=0,Nv.test(i)&&(Pv.lastIndex=0,Pv.test(i)))return"";!1!==n&&(i=(n=n||_v).process(i))}return i=Hv(i)},x.escapeHtml=Cv,x.escapeQuote=Fv,x.unescapeQuote=Rv,x.escapeHtmlEntities=Lv,x.escapeDangerHtml5Entities=jv,x.clearNonPrintableCharacter=Bv,x.friendlyAttrValue=zv,x.escapeAttrValue=Hv,x.onIgnoreTagStripAll=function(){return""},x.StripTagBody=function(r,s){"function"!=typeof s&&(s=function(){});var a=!Array.isArray(r),l=[],h=!1;return{onIgnoreTag:function(t,e,i){var n,o;return o=t,a||-1!==kv.indexOf(r,o)?i.isClosing?(n=i.position+(o="[/removed]").length,l.push([!1!==h?h:i.position,n]),h=!1,o):(h=h||i.position,"[removed]"):s(t,e,i)},remove:function(e){var i="",n=0;return kv.forEach(l,function(t){i+=e.slice(n,t[0]),n=t[1]}),i+=e.slice(n)}}},x.stripCommentTag=function(t){for(var e="",i=0;i<t.length;){var n=t.indexOf("\x3c!--",i);if(-1===n){e+=t.slice(i);break}e+=t.slice(i,n);n=t.indexOf("--\x3e",n);if(-1===n)break;i=n+3}return e},x.stripBlankChar=function(t){return t.split("").filter(function(t){t=t.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)}).join("")},x.cssFilter=_v,x.getDefaultCSSWhiteList=ls;var fo={},Gv=go;var Wv=/[^a-zA-Z0-9\\_:.-]/gim;function Yv(t){return'"'===(e=t)[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]?t.substr(1,t.length-2):t;var e}fo.parseTag=function(t,e,i){var n,o,r,s="",a=0,l=!1,h=!1,u=0,c=t.length,d="";t:for(u=0;u<c;u++){var p=t.charAt(u);if(!1===l)"<"===p&&(l=u);else if(!1===h){if("<"===p)s+=i(t.slice(a,u)),a=l=u;else if(">"===p||u===c-1)s+=i(t.slice(a,l)),n=t.slice(l,u+1),o=n,r=void 0,r=Gv.spaceIndex(o),o=-1===r?o.slice(1,-1):o.slice(1,r+1),d=o="/"===(o="/"===(o=Gv.trim(o).toLowerCase()).slice(0,1)?o.slice(1):o).slice(-1)?o.slice(0,-1):o,s+=e(l,s.length,d,n,"</"===n.slice(0,2)),a=u+1,l=!1;else if('"'===p||"'"===p)for(var m=1,f=t.charAt(u-m);""===f.trim()||"="===f;){if("="===f){h=p;continue t}f=t.charAt(u-++m)}}else p===h&&(h=!1)}return a<c&&(s+=i(t.substr(a))),s},fo.parseAttr=function(t,i){var e=0,n=0,o=[],r=!1,s=t.length;function a(t,e){(t=(t=Gv.trim(t)).replace(Wv,"").toLowerCase()).length<1||(t=i(t,e||""))&&o.push(t)}for(var l=0;l<s;l++){var h,u=t.charAt(l);if(!1===r&&"="===u)r=t.slice(e,l),n='"'===t.charAt(e=l+1)||"'"===t.charAt(e)?e:((t,e)=>{for(;e<t.length;e++){var i=t[e];if(" "!==i)return"'"===i||'"'===i?e:-1}})(t,l+1);else if(!1!==r&&l===n){if(-1===(h=t.indexOf(u,l+1)))break;a(r,Gv.trim(t.slice(n+1,h))),r=!1,e=(l=h)+1}else/\s|\n|\t/.test(u)&&(t=t.replace(/\s|\n|\t/g," "),!1===r?-1!==(h=((t,e)=>{for(;e<t.length;e++){var i=t[e];if(" "!==i)return"="===i?e:-1}})(t,l))?l=h-1:(a(Gv.trim(t.slice(e,l))),r=!1,e=l+1):-1===(h=((t,e)=>{for(;0<e;e--){var i=t[e];if(" "!==i)return"="===i?e:-1}})(t,l-1))&&(a(r,Yv(Gv.trim(t.slice(e,l)))),r=!1,e=l+1))}return e<t.length&&(!1===r?a(t.slice(e)):a(r,Yv(Gv.trim(t.slice(e))))),Gv.trim(o.join(" "))};var Vv=hv.FilterCSS,Uv=x,Xv=fo.parseTag,qv=fo.parseAttr,Kv=go;function $v(t){return null==t}function Zv(t){(t=(t=>{var e,i={};for(e in t)i[e]=t[e];return i})(t||{})).stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=Uv.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=(t=>{var e,i={};for(e in t)Array.isArray(t[e])?i[e.toLowerCase()]=t[e].map(function(t){return t.toLowerCase()}):i[e.toLowerCase()]=t[e];return i})(t.whiteList||t.allowList):t.whiteList=Uv.whiteList,t.onTag=t.onTag||Uv.onTag,t.onTagAttr=t.onTagAttr||Uv.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||Uv.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||Uv.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||Uv.safeAttrValue,t.escapeHtml=t.escapeHtml||Uv.escapeHtml,!1===(this.options=t).css?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new Vv(t.css))}Zv.prototype.process=function(t){var a,l,h,u,c,d,p,m,e,i;return(t=(t=t||"").toString())?(i=this.options,a=i.whiteList,l=i.onTag,h=i.onIgnoreTag,u=i.onTagAttr,c=i.onIgnoreTagAttr,d=i.safeAttrValue,p=i.escapeHtml,m=this.cssFilter,i.stripBlankChar&&(t=Uv.stripBlankChar(t)),i.allowCommentTag||(t=Uv.stripCommentTag(t)),e=!1,i.stripIgnoreTagBody&&(e=Uv.StripTagBody(i.stripIgnoreTagBody,h),h=e.onIgnoreTag),i=Xv(t,function(t,e,o,i,n){var r,s,t={sourcePosition:t,position:e,isClosing:n,isWhite:Object.prototype.hasOwnProperty.call(a,o)},e=l(o,i,t);return $v(e)?t.isWhite?t.isClosing?"</"+o+">":(n=i,n=-1===(s=Kv.spaceIndex(n))?{html:"",closing:"/"===n[n.length-2]}:{html:n=(s="/"===(n=Kv.trim(n.slice(s+1,-1)))[n.length-1])?Kv.trim(n.slice(0,-1)):n,closing:s},r=a[o],s=qv(n.html,function(t,e){var i=-1!==Kv.indexOf(r,t),n=u(o,t,e,i);return $v(n)?i?(e=d(o,t,e,m))?t+'="'+e+'"':t:$v(n=c(o,t,e,i))?void 0:n:n}),i="<"+o,s&&(i+=" "+s),n.closing&&(i+=" /"),i+">"):$v(e=h(o,i,t))?p(i):e:e},p),e?e.remove(i):i):""};var Qv,Jv,as=Ut,ty=lv,ey=x,iy=fo,ny=Zv;function oy(t,e){return new ny(e).process(t)}for(Qv in(ty=as.exports=oy).filterXSS=oy,ty.FilterXSS=ny,ey)ty[Qv]=ey[Qv];for(Jv in iy)ty[Jv]=iy[Jv];"undefined"!=typeof window&&(window.filterXSS=as.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=as.exports);var ry=lv;let sy,ay=new Uint8Array(16);let ly=[];for(let t=0;t<256;++t)ly.push((t+256).toString(16).slice(1));var hy={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function uy(t,e,i){if(hy.randomUUID&&!e&&!t)return hy.randomUUID();var n,o=(t=t||{}).random||(t.rng||function(){if(sy=sy||"undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto))return sy(ay);throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")})();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){i=i||0;for(let t=0;t<16;++t)e[i+t]=o[t];return e}return t=o,n=0,(ly[t[n+0]]+ly[t[n+1]]+ly[t[n+2]]+ly[t[n+3]]+"-"+ly[t[n+4]]+ly[t[n+5]]+"-"+ly[t[n+6]]+ly[t[n+7]]+"-"+ly[t[n+8]]+ly[t[n+9]]+"-"+ly[t[n+10]]+ly[t[n+11]]+ly[t[n+12]]+ly[t[n+13]]+ly[t[n+14]]+ly[t[n+15]]).toLowerCase()}function cy(e,t){var i,n=Xu(e);return Kh&&(i=Kh(e),t&&(i=P(i).call(i,function(t){return su(e,t).enumerable})),n.push.apply(n,i)),n}function dy(e){for(var t=1;t<arguments.length;t++){var i,n=null!=arguments[t]?arguments[t]:{};t%2?I(i=cy(Object(n),!0)).call(i,function(t){ku(e,t,n[t])}):gu?wu(e,gu(n)):I(i=cy(Object(n))).call(i,function(t){Ku(e,t,su(n,t))})}return e}function py(t){var e;return t&&(e=null!=(e=t.idProp)?e:t._idProp)?B.isDataViewLike(e,t):void 0}var my=/^\/?Date\((-?\d+)/i,fy=/^\d+$/;function gy(e,i){var t;if(void 0!==e){if(null===e)return null;if(!i)return e;if("string"!=typeof i&&!(i instanceof String))throw new Error("Type must be a string");switch(i){case"boolean":case"Boolean":return Boolean(e);case"number":case"Number":return Lg(e)&&!isNaN(Date.parse(e))?j(e).valueOf():Number(e.valueOf());case"string":case"String":return String(e);case"Date":try{return gy(e,"Moment").toDate()}catch(t){throw t instanceof TypeError?new TypeError("Cannot convert object of type "+Hg(e)+" to type "+i):t}case"Moment":if(Rg(e))return j(e);if(e instanceof Date)return j(e.valueOf());if(j.isMoment(e))return j(e);if(Lg(e))return(t=my.exec(e))?j(Number(t[1])):(t=fy.exec(e))?j(Number(e)):j(e);throw new TypeError("Cannot convert object of type "+Hg(e)+" to type "+i);case"ISODate":if(Rg(e))return new Date(e);if(e instanceof Date)return e.toISOString();if(j.isMoment(e))return e.toDate().toISOString();if(Lg(e))return(t=my.exec(e))?new Date(Number(t[1])).toISOString():j(e).format();throw new Error("Cannot convert object of type "+Hg(e)+" to type ISODate");case"ASPDate":if(Rg(e))return"/Date("+e+")/";if(e instanceof Date||j.isMoment(e))return"/Date("+e.valueOf()+")/";if(Lg(e))return"/Date("+((t=my.exec(e))?new Date(Number(t[1])):new Date(e)).valueOf()+")/";throw new Error("Cannot convert object of type "+Hg(e)+" to type ASPDate");default:throw new Error("Unknown type ".concat(i))}}}function vy(e,t){var i,n=1<arguments.length&&void 0!==t?t:{start:"Date",end:"Date"},t=e._idProp,o=new B.DataSet({fieldId:t}),r=Ou(i=B.createNewDataPipeFrom(e)).call(i,function(i){var t;return Bu(t=Xu(i)).call(t,function(t,e){return t[e]=gy(i[e],n[e]),t},{})}).to(o);return r.all().start(),{add:function(){var t;return(t=e.getDataSet()).add.apply(t,arguments)},remove:function(){var t;return(t=e.getDataSet()).remove.apply(t,arguments)},update:function(){var t;return(t=e.getDataSet()).update.apply(t,arguments)},updateOnly:function(){var t;return(t=e.getDataSet()).updateOnly.apply(t,arguments)},clear:function(){var t;return(t=e.getDataSet()).clear.apply(t,arguments)},forEach:A(i=I(o)).call(i,o),get:A(i=o.get).call(i,o),getIds:A(i=o.getIds).call(i,o),off:A(i=o.off).call(i,o),on:A(i=o.on).call(i,o),get length(){return o.length},idProp:t,type:n,rawDS:e,coercedDS:o,dispose:function(){return r.stop()}}}function yy(t){var e=new ry.FilterXSS(t);return function(t){return e.process(t)}}function by(t){return t}var wy=yy(),F=dy(dy({},vo),{},{convert:gy,setupXSSProtection:function(t){t&&(!0===t.disabled?(wy=by,console.warn("You disabled XSS protection for vis-Timeline. I sure hope you know what you're doing!")):t.filterOptions&&(wy=yy(t.filterOptions)))}}),ky=(Ku(F,"xss",{get:function(){return wy}}),{}),ns={get exports(){return ky},set exports(t){ky=t}},St=t,os=n,pr=l,xy=jo,_y=Ac.trim,Cy=pr("".charAt),Sy=St.parseFloat,cs=St.Symbol,Dy=cs&&cs.iterator,Li=1/Sy("\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff-0")!=-1/0||Dy&&!os(function(){Sy(Object(Dy))})?function(t){var t=_y(xy(t)),e=Sy(t);return 0===e&&"-"==Cy(t,0)?-0:e}:Sy;r({global:!0,forced:parseFloat!=Li},{parseFloat:Li});ns.exports=h.parseFloat;var Ty=e(ky),Oy=(()=>{function i(t,e){v(this,i),this.options=null,this.props=null}return T(i,[{key:"setOptions",value:function(t){t&&F.extend(this.options,t)}},{key:"redraw",value:function(){return!1}},{key:"destroy",value:function(){}},{key:"_isResized",value:function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t}}]),i})(),Ey={},Ui={get exports(){return Ey},set exports(t){Ey=t}},Ay=ht,Iy=jo,Py=V,My=RangeError;r({target:"String",proto:!0},{repeat:function(t){var e=Iy(Py(this)),i="",n=Ay(t);if(n<0||n==1/0)throw My("Wrong number of repetitions");for(;0<n;(n>>>=1)&&(e+=e))1&n&&(i+=e);return i}});function Ny(t,e){var i=t.length,n=Hy(i/2);if(i<8){for(var o,r,s=t,a=e,l=s.length,h=1;h<l;){for(o=s[r=h];r&&0<a(s[r-1],o);)s[r]=s[--r];r!==h++&&(s[r]=o)}return s}for(var u=t,c=Ny(zy(t,0,n),e),d=Ny(zy(t,n),e),p=e,m=c.length,f=d.length,g=0,v=0;g<m||v<f;)u[g+v]=g<m&&v<f?p(c[g],d[v])<=0?c[g++]:d[v++]:g<m?c[g++]:d[v++];return u}var fs=ah("String").repeat,Fy=u,Ry=fs,Ly=String.prototype,jy=(Ui.exports=function(t){var e=t.repeat;return"string"==typeof t||t===Ly||Fy(Ly,t)&&e===Ly.repeat?Ry:e},e(Ey)),By={},p={get exports(){return By},set exports(t){By=t}},zy=qo,Hy=Math.floor,ft=Ny,w=Vt.match(/firefox\/(\d+)/i),Wi=!!w&&+w[1],us=/MSIE|Trident/.test(Vt),rs=Vt.match(/AppleWebKit\/(\d+)\./),Ao=!!rs&&+rs[1],eo=r,f=l,Gy=$,Wy=Q,Yy=ct,Vy=Td,Uy=jo,y=n,Xy=ft,a=Rh,qy=Wi,Ky=us,$y=Xt,Zy=Ao,Qy=[],Jy=f(Qy.sort),tb=f(Qy.push),S=y(function(){Qy.sort(void 0)}),hs=y(function(){Qy.sort(null)}),xr=a("sort"),eb=!y(function(){if($y)return $y<70;if(!(qy&&3<qy)){if(Ky)return!0;if(Zy)return Zy<603;for(var t,e,i,n="",o=65;o<76;o++){switch(t=String.fromCharCode(o),o){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(i=0;i<47;i++)Qy.push({k:t+i,v:e})}for(Qy.sort(function(t,e){return e.v-t.v}),i=0;i<Qy.length;i++)t=Qy[i].k.charAt(0),n.charAt(n.length-1)!==t&&(n+=t);return"DGBEFHACIJK"!==n}});eo({target:"Array",proto:!0,forced:S||!hs||!xr||!eb},{sort:function(t){void 0!==t&&Gy(t);var e=Wy(this);if(eb)return void 0===t?Jy(e):Jy(e,t);for(var i,n,o=[],r=Yy(e),s=0;s<r;s++)s in e&&tb(o,e[s]);for(Xy(o,(n=t,function(t,e){return void 0===e?-1:void 0===t?1:void 0!==n?+n(t,e)||0:Uy(t)>Uy(e)?1:-1})),i=Yy(o),s=0;s<i;)e[s]=o[s++];for(;s<r;)Vy(e,s++);return e}});var _=ah("Array").sort,ib=u,nb=_,ob=Array.prototype,rb=(p.exports=function(t){var e=t.sort;return t===ob||ib(ob,t)&&e===ob.sort?nb:e},e(By));function sb(t,e,i){if(i&&!E(i))return sb(t,e,[i]);if(e.hiddenDates=[],i&&1==E(i)){for(var n,o,r=0;r<i.length;r++)void 0===jy(i[r])&&((o={}).start=t(i[r].start).toDate().valueOf(),o.end=t(i[r].end).toDate().valueOf(),e.hiddenDates.push(o));rb(n=e.hiddenDates).call(n,function(t,e){return t.start-e.start})}}function ab(t,e,i){if(i&&!E(i))return ab(t,e,[i]);if(i&&void 0!==e.domProps.centerContainer.width){sb(t,e,i);for(var n=t(e.range.start),o=t(e.range.end),r=(e.range.end-e.range.start)/e.domProps.centerContainer.width,s=0;s<i.length;s++)if(void 0!==jy(i[s])){var a=t(i[s].start),l=t(i[s].end);if("Invalid Date"==a._d)throw new Error("Supplied start date is not valid: ".concat(i[s].start));if("Invalid Date"==l._d)throw new Error("Supplied end date is not valid: ".concat(i[s].end));if(4*r<=l-a){var h=0,u=o.clone();switch(jy(i[s])){case"daily":a.day()!=l.day()&&(h=1),a.dayOfYear(n.dayOfYear()),a.year(n.year()),a.subtract(7,"days"),l.dayOfYear(n.dayOfYear()),l.year(n.year()),l.subtract(7-h,"days"),u.add(1,"weeks");break;case"weekly":var c=l.diff(a,"days"),d=a.day();a.date(n.date()),a.month(n.month()),a.year(n.year()),l=a.clone(),a.day(d),l.day(d),l.add(c,"days"),a.subtract(1,"weeks"),l.subtract(1,"weeks"),u.add(1,"weeks");break;case"monthly":a.month()!=l.month()&&(h=1),a.month(n.month()),a.year(n.year()),a.subtract(1,"months"),l.month(n.month()),l.year(n.year()),l.subtract(1,"months"),l.add(h,"months"),u.add(1,"months");break;case"yearly":a.year()!=l.year()&&(h=1),a.year(n.year()),a.subtract(1,"years"),l.year(n.year()),l.subtract(1,"years"),l.add(h,"years"),u.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",jy(i[s]))}for(;a<u;)switch(e.hiddenDates.push({start:a.valueOf(),end:l.valueOf()}),jy(i[s])){case"daily":a.add(1,"days"),l.add(1,"days");break;case"weekly":a.add(1,"weeks"),l.add(1,"weeks");break;case"monthly":a.add(1,"months"),l.add(1,"months");break;case"yearly":a.add(1,"y"),l.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",jy(i[s]))}e.hiddenDates.push({start:a.valueOf(),end:l.valueOf()})}}lb(e);var p=yb(e.range.start,e.hiddenDates),m=yb(e.range.end,e.hiddenDates),f=e.range.start,g=e.range.end;1==p.hidden&&(f=1==e.range.startToFront?p.startDate-1:p.endDate+1),1==m.hidden&&(g=1==e.range.endToFront?m.startDate-1:m.endDate+1),1!=p.hidden&&1!=m.hidden||e.range._applyRange(f,g)}}function lb(t){for(var e=t.hiddenDates,i=[],n=0;n<e.length;n++)for(var o=0;o<e.length;o++)n!=o&&1!=e[o].remove&&1!=e[n].remove&&(e[o].start>=e[n].start&&e[o].end<=e[n].end?e[o].remove=!0:e[o].start>=e[n].start&&e[o].start<=e[n].end?(e[n].end=e[o].end,e[o].remove=!0):e[o].end>=e[n].start&&e[o].end<=e[n].end&&(e[n].start=e[o].start,e[o].remove=!0));for(n=0;n<e.length;n++)!0!==e[n].remove&&i.push(e[n]);t.hiddenDates=i,rb(t=t.hiddenDates).call(t,function(t,e){return t.start-e.start})}function hb(t,e,i){for(var n=!1,o=e.current.valueOf(),r=0;r<e.hiddenDates.length;r++){var s=e.hiddenDates[r].start,a=e.hiddenDates[r].end;if(s<=o&&o<a){n=!0;break}}1==n&&o<e._end.valueOf()&&o!=i&&(i=t(i),t=t(a),i.year()!=t.year()?e.switchedYear=!0:i.month()!=t.month()?e.switchedMonth=!0:i.dayOfYear()!=t.dayOfYear()&&(e.switchedDay=!0),e.current=t)}function ub(t,e,i){var n,o,r;return 0==t.body.hiddenDates.length?(o=t.range.conversion(i),(e.valueOf()-o.offset)*o.scale):(1==(n=yb(e,t.body.hiddenDates)).hidden&&(e=n.startDate),n=db(t.body.hiddenDates,t.range.start,t.range.end),e<t.range.start?(o=t.range.conversion(i,n),r=pb(t.body.hiddenDates,e,o.offset),e=t.options.moment(e).toDate().valueOf(),-(o.offset-(e+=r).valueOf())*o.scale):(o=(e=e>t.range.end?(r={start:t.range.start,end:e},mb(t.options.moment,t.body.hiddenDates,r,e)):mb(t.options.moment,t.body.hiddenDates,t.range,e),t.range.conversion(i,n)),(e.valueOf()-o.offset)*o.scale))}function cb(t,e,i){var n;return 0==t.body.hiddenDates.length?(n=t.range.conversion(i),new Date(e/n.scale+n.offset)):(n=db(t.body.hiddenDates,t.range.start,t.range.end),n=(t.range.end-t.range.start-n)*e/i,e=gb(t.body.hiddenDates,t.range,n),new Date(e+n+t.range.start))}function db(t,e,i){for(var n=0,o=0;o<t.length;o++){var r=t[o].start,s=t[o].end;e<=r&&s<i&&(n+=s-r)}return n}function pb(t,e,i){for(var n=0,o=0;o<t.length;o++){var r=t[o].start,s=t[o].end;e<=r&&s<=i&&(n+=s-r)}return n}function mb(t,e,i,n){return n=t(n).toDate().valueOf(),n-=fb(t,e,i,n)}function fb(t,e,i,n){var o=0;n=t(n).toDate().valueOf();for(var r=0;r<e.length;r++){var s=e[r].start,a=e[r].end;s>=i.start&&a<i.end&&a<=n&&(o+=a-s)}return o}function gb(t,e,i){for(var n=0,o=0,r=e.start,s=0;s<t.length;s++){var a=t[s].start,l=t[s].end;if(a>=e.start&&l<e.end){if(o+=a-r,r=l,i<=o)break;n+=l-a}}return n}function vb(t,e,i,n){t=yb(e,t);return 1==t.hidden?i<0?1==n?t.startDate-(t.endDate-e)-1:t.startDate-1:1==n?t.endDate+(e-t.startDate)+1:t.endDate+1:e}function yb(t,e){for(var i=0;i<e.length;i++){var n=e[i].start,o=e[i].end;if(n<=t&&t<o)return{hidden:!0,startDate:n,endDate:o}}return{hidden:!1,startDate:n,endDate:o}}At=Object.freeze({__proto__:null,convertHiddenOptions:sb,correctTimeForHidden:mb,getAccumulatedHiddenDuration:gb,getHiddenDurationBefore:fb,getHiddenDurationBeforeStart:pb,getHiddenDurationBetween:db,getIsHidden:yb,printDates:function(t){for(var e=0;e<t.length;e++)console.log(e,new Date(t[e].start),new Date(t[e].end),t[e].start,t[e].end,t[e].remove)},removeDuplicates:lb,snapAwayFromHidden:vb,stepOverHiddenDates:hb,toScreen:ub,toTime:cb,updateHiddenDates:ab});function bb(i){var n=(()=>{if("undefined"==typeof Reflect||!g)return!1;if(g.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g(Boolean,[],function(){})),!0}catch(t){return!1}})();return function(){var t,e=O(i);return bh(this,n?(t=O(this).constructor,g(e,arguments,t)):e.apply(this,arguments))}}var wb=(()=>{yh(s,Oy);var r=bb(s);function s(t,e){v(this,s),i=r.call(this);var i,n=Xh().hours(0).minutes(0).seconds(0).milliseconds(0),o=n.clone().add(-3,"days").valueOf(),n=n.clone().add(3,"days").valueOf();return(i.millisecondsPerPixelCache=void 0)===e?(i.start=o,i.end=n):(i.start=e.start||o,i.end=e.end||n),i.rolling=!1,i.body=t,i.deltaDifference=0,i.scaleOffset=0,i.startToFront=!1,i.endToFront=!0,i.defaultOptions={rtl:!1,start:null,end:null,moment:Xh,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},i.options=F.extend({},i.defaultOptions),i.props={touch:{}},i.animationTimer=null,i.body.emitter.on("panstart",A(o=i._onDragStart).call(o,Jl(i))),i.body.emitter.on("panmove",A(n=i._onDrag).call(n,Jl(i))),i.body.emitter.on("panend",A(t=i._onDragEnd).call(t,Jl(i))),i.body.emitter.on("mousewheel",A(o=i._onMouseWheel).call(o,Jl(i))),i.body.emitter.on("touch",A(n=i._onTouch).call(n,Jl(i))),i.body.emitter.on("pinch",A(t=i._onPinch).call(t,Jl(i))),i.body.dom.rollingModeBtn.addEventListener("click",A(o=i.startRolling).call(o,Jl(i))),i.setOptions(e),i}return T(s,[{key:"setOptions",value:function(t){t&&(F.selectiveExtend(["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","zoomFriction","rtl","showCurrentTime","rollingMode","horizontalScroll"],this.options,t),t.rollingMode&&t.rollingMode.follow&&this.startRolling(),"start"in t||"end"in t)&&this.setRange(t.start,t.end)}},{key:"startRolling",value:function(){var o=this;!function t(){o.stopRolling(),o.rolling=!0;var e=o.end-o.start,i=F.convert(new Date,"Date").valueOf(),n=o.options.rollingMode&&o.options.rollingMode.offset||.5;o.setRange(i-e*n,i+e*(1-n),{animation:!1}),1e3<(e=(e=1/o.conversion(o.body.domProps.center.width).scale/10)<30?30:e)&&(e=1e3),o.body.dom.rollingModeBtn.style.visibility="hidden",o.currentTimeTimer=Lh(t,e)}()}},{key:"stopRolling",value:function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")}},{key:"setRange",value:function(t,e,o,r,s){!0!==(o=o||{}).byUser&&(o.byUser=!1);var a=this,l=null!=t?F.convert(t,"Date").valueOf():null,h=null!=e?F.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,o.animation){var u,c,d=this.start,p=this.end,m="object"===D(o.animation)&&"duration"in o.animation?o.animation.duration:500,t="object"===D(o.animation)&&"easingFunction"in o.animation?o.animation.easingFunction:"easeInOutQuad",f=F.easingFunctions[t];if(f)return u=_d(),c=!1,function t(){if(!a.props.touch.dragging){var e=_d()-u,i=f(e/m),e=m<e,n=(g=a._applyRange(e||null===l?l:d+(l-d)*i,e||null===h?h:p+(h-p)*i),ab(a.options.moment,a.body,a.options.hiddenDates),c=c||g,{start:new Date(a.start),end:new Date(a.end),byUser:o.byUser,event:o.event});if(s&&s(i,g,e),g&&a.body.emitter.emit("rangechange",n),e){if(c&&(a.body.emitter.emit("rangechanged",n),r))return r()}else a.animationTimer=Lh(t,20)}}();throw new Error(M(e="Unknown easing function ".concat(km(t),". Choose from: ")).call(e,Xu(F.easingFunctions).join(", ")))}var g=this._applyRange(l,h);if(ab(this.options.moment,this.body,this.options.hiddenDates),g){var i={start:new Date(this.start),end:new Date(this.end),byUser:o.byUser,event:o.event};if(this.body.emitter.emit("rangechange",i),clearTimeout(a.timeoutID),a.timeoutID=Lh(function(){a.body.emitter.emit("rangechanged",i)},200),r)return r()}}},{key:"getMillisecondsPerPixel",value:function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache}},{key:"_cancelAnimation",value:function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)}},{key:"_applyRange",value:function(t,e){var i,n=null!=t?F.convert(t,"Date").valueOf():this.start,o=null!=e?F.convert(e,"Date").valueOf():this.end,r=null!=this.options.max?F.convert(this.options.max,"Date").valueOf():null,s=null!=this.options.min?F.convert(this.options.min,"Date").valueOf():null;if(isNaN(n)||null===n)throw new Error('Invalid start "'.concat(t,'"'));if(isNaN(o)||null===o)throw new Error('Invalid end "'.concat(e,'"'));o<n&&(o=n),null!==s&&n<s&&(n+=i=s-n,o+=i,null!=r)&&r<o&&(o=r),null!==r&&r<o&&(n-=i=o-r,o-=i,null!=s)&&n<s&&(n=s),null!==this.options.zoomMin&&o-n<(t=(t=Ty(this.options.zoomMin))<0?0:t)&&(this.end-this.start===t&&n>=this.start-.5&&o<=this.end?(n=this.start,o=this.end):(n-=(i=t-(o-n))/2,o+=i/2)),null!==this.options.zoomMax&&(e=(e=Ty(this.options.zoomMax))<0?0:e)<o-n&&(this.end-this.start===e&&n<this.start&&o>this.end?(n=this.start,o=this.end):(n+=(i=o-n-e)/2,o-=i/2));r=this.start!=n||this.end!=o;return n>=this.start&&n<=this.end||o>=this.start&&o<=this.end||this.start>=n&&this.start<=o||this.end>=n&&this.end<=o||this.body.emitter.emit("checkRangedItems"),this.start=n,this.end=o,r}},{key:"getRange",value:function(){return{start:this.start,end:this.end}}},{key:"conversion",value:function(t,e){return s.conversion(this.start,this.end,t,e)}},{key:"_onDragStart",value:function(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(t)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root)&&(this.body.dom.root.style.cursor="move")}},{key:"_onDrag",value:function(t){var e,i,n,o,r;t&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(kb(n=this.options.direction),e="horizontal"==n?t.deltaX:t.deltaY,e-=this.deltaDifference,i=this.props.touch.end-this.props.touch.start,i-=db(this.body.hiddenDates,this.start,this.end),n="horizontal"==n?this.body.domProps.center.width:this.body.domProps.center.height,n=this.options.rtl?e/n*i:-e/n*i,i=this.props.touch.start+n,n=this.props.touch.end+n,o=vb(this.body.hiddenDates,i,this.previousDelta-e,!0),r=vb(this.body.hiddenDates,n,this.previousDelta-e,!0),o!=i||r!=n?(this.deltaDifference+=e,this.props.touch.start=o,this.props.touch.end=r,this._onDrag(t)):(this.previousDelta=e,this._applyRange(i,n),o=new Date(this.start),r=new Date(this.end),this.body.emitter.emit("rangechange",{start:o,end:r,byUser:!0,event:t}),this.body.emitter.emit("panmove")))}},{key:"_onDragEnd",value:function(t){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:t}))}},{key:"_onMouseWheel",value:function(t){var e,i,n=0;t.wheelDelta?n=t.wheelDelta/120:t.detail?n=-t.detail/3:t.deltaY&&(n=-t.deltaY/3),this.options.zoomKey&&!t[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable||this.options.zoomable&&this.options.moveable&&this._isInsideRange(t)&&n&&(i=this.options.zoomFriction||5,i=n<0?1-n/i:1/(1+n/i),e=this.rolling?(e=this.options.rollingMode&&this.options.rollingMode.offset||.5,this.start+(this.end-this.start)*e):(e=this.getPointer({x:t.clientX,y:t.clientY},this.body.dom.center),this._pointerToDate(e)),this.zoom(i,e,n,t),t.preventDefault())}},{key:"_onTouch",value:function(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.props.touch.centerDate=null,this.scaleOffset=0,this.deltaDifference=0,F.preventDefault(t)}},{key:"_onPinch",value:function(t){var e,i,n,o,r;this.options.zoomable&&this.options.moveable&&(F.preventDefault(t),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(t.center,this.body.dom.center),this.props.touch.centerDate=this._pointerToDate(this.props.touch.center)),this.stopRolling(),e=1/(t.scale+this.scaleOffset),o=this.props.touch.centerDate,r=db(this.body.hiddenDates,this.start,this.end),i=o-(n=fb(this.options.moment,this.body.hiddenDates,this,o))+(this.props.touch.start-(o-n))*e,n=o+(r=r-n)+(this.props.touch.end-(o+r))*e,this.startToFront=1-e<=0,this.endToFront=e-1<=0,o=vb(this.body.hiddenDates,i,1-e,!0),r=vb(this.body.hiddenDates,n,e-1,!0),o==i&&r==n||(this.props.touch.start=o,this.props.touch.end=r,this.scaleOffset=1-t.scale,i=o,n=r),this.setRange(i,n,{animation:!1,byUser:!0,event:t}),this.startToFront=!1,this.endToFront=!0)}},{key:"_isInsideRange",value:function(t){var t=t.center?t.center.x:t.clientX,e=this.body.dom.centerContainer.getBoundingClientRect(),e=this.options.rtl?t-e.left:e.right-t,t=this.body.util.toTime(e);return t>=this.start&&t<=this.end}},{key:"_pointerToDate",value:function(t){var e=this.options.direction;return kb(e),"horizontal"==e?this.body.util.toTime(t.x).valueOf():(e=this.body.domProps.center.height,e=this.conversion(e),t.y/e.scale+e.offset)}},{key:"getPointer",value:function(t,e){e=e.getBoundingClientRect();return this.options.rtl?{x:e.right-t.x,y:t.y-e.top}:{x:t.x-e.left,y:t.y-e.top}}},{key:"zoom",value:function(t,e,i,n){null==e&&(e=(this.start+this.end)/2);var o=db(this.body.hiddenDates,this.start,this.end),r=fb(this.options.moment,this.body.hiddenDates,this,e),o=o-r,r=e-r+(this.start-(e-r))*t,e=e+o+(this.end-(e+o))*t,o=(this.startToFront=!(0<i),this.endToFront=!(0<-i),vb(this.body.hiddenDates,r,i,!0)),t=vb(this.body.hiddenDates,e,-i,!0),i=(o==r&&t==e||(r=o,e=t),{animation:!1,byUser:!0,event:n});this.setRange(r,e,i),this.startToFront=!1,this.endToFront=!0}},{key:"move",value:function(t){var e=this.end-this.start,i=this.start+e*t,e=this.end+e*t;this.start=i,this.end=e}},{key:"moveTo",value:function(t){var t=(this.start+this.end)/2-t,e=this.start-t,t=this.end-t;this.setRange(e,t,{animation:!1,byUser:!0,event:null})}}],[{key:"conversion",value:function(t,e,i,n){return void 0===n&&(n=0),0!=i&&e-t!=0?{offset:t,scale:i/(e-t-n)}:{offset:0,scale:1}}}]),s})();function kb(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'.concat(t,'". Choose "horizontal" or "vertical".'))}var xb={},m={get exports(){return xb},set exports(t){xb=t}},C=r,_b=Nr.some;C({target:"Array",proto:!0,forced:!Rh("some")},{some:function(t){return _b(this,t,1<arguments.length?arguments[1]:void 0)}});var k=ah("Array").some,Cb=u,Sb=k,Db=Array.prototype,Tb=(m.exports=function(t){var e=t.some;return t===Db||Cb(Db,t)&&e===Db.some?Sb:e},e(xb)),Ob={},d={get exports(){return Ob},set exports(t){Ob=t}},Eb=(d.exports=h.setInterval,e(Ob)),Ab=null;var Ib="undefined"!=typeof window?function n(o,t){var r,s,a=t||{preventDefault:!1};return o.Manager?((r=o).assign(t=function(t,e){var i=Object.create(a);return e&&r.assign(i,e),n(new r(t,i),i)},r),t.Manager=function(t,e){var i=Object.create(a);return e&&r.assign(i,e),n(new r.Manager(t,i),i)},t):(s=Object.create(o),(t=o.element).hammer||(t.hammer=[]),t.hammer.push(s),o.on("hammer.input",function(t){!0!==a.preventDefault&&a.preventDefault!==t.pointerType||t.preventDefault(),t.isFirst&&(Ab=t.target)}),s._handlers={},s.on=function(t,i){return e(t).forEach(function(t){var e=s._handlers[t];e||(s._handlers[t]=e=[],o.on(t,l)),e.push(i)}),s},s.off=function(t,i){return e(t).forEach(function(t){var e=s._handlers[t];e&&(0<(e=i?e.filter(function(t){return t!==i}):[]).length?s._handlers[t]=e:(o.off(t,l),delete s._handlers[t]))}),s},s.emit=function(t,e){Ab=e.target,o.emit(t,e)},s.destroy=function(){var t=o.element.hammer,e=t.indexOf(s);-1!==e&&t.splice(e,1),t.length||delete o.element.hammer,s._handlers={},o.destroy()},s);function e(t){return t.match(/[^ ]+/g)}function l(t){if("hammer.input"!==t.type){if(t.srcEvent._handled||(t.srcEvent._handled={}),t.srcEvent._handled[t.type])return;t.srcEvent._handled[t.type]=!0}for(var e=!1,i=(t.stopPropagation=function(){e=!0},t.srcEvent.stopPropagation.bind(t.srcEvent)),n=("function"==typeof i&&(t.srcEvent.stopPropagation=function(){i(),t.stopPropagation()}),t.firstTarget=Ab);n&&!e;){var o=n.hammer;if(o)for(var r,s=0;s<o.length;s++)if(r=o[s]._handlers[t.type])for(var a=0;a<r.length&&!e;a++)r[a](t);n=n.parentNode}}}(window.Hammer||Ur,{preventDefault:"mouse"}):function(){return{on:e,off:e,destroy:e,emit:e,get:function(t){return{set:e}}};function e(){}};function Pb(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)}var Mb=(()=>{function r(t,e,i,n,o){v(this,r),this.moment=o&&o.moment||Xh,this.options=o||{},this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(t,e,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,E(n)?this.hiddenDates=n:this.hiddenDates=null!=n?[n]:[],this.format=r.FORMAT}return T(r,[{key:"setMoment",value:function(t){this.moment=t,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())}},{key:"setFormat",value:function(t){var e=F.deepExtend({},r.FORMAT);this.format=F.deepExtend(e,t)}},{key:"setRange",value:function(t,e,i){if(!(t instanceof Date&&e instanceof Date))throw"No legal start or end date in method setRange";this._start=null!=t?this.moment(t.valueOf()):_d(),this._end=null!=e?this.moment(e.valueOf()):_d(),this.autoScale&&this.setMinimumStep(i)}},{key:"start",value:function(){this.current=this._start.clone(),this.roundToMinor()}},{key:"roundToMinor",value:function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step){var t=this.current.clone();switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}t.isSame(this.current)||(this.current=this.moment(vb(this.hiddenDates,this.current.valueOf(),-1,!0)))}}},{key:"hasNext",value:function(){return this.current.valueOf()<=this._end.valueOf()}},{key:"next",value:function(){var t,e=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":0!==this.current.weekday()?(this.current.weekday(0),this.current.add(this.step,"week")):!1===this.options.showMajorLabels||((t=this.current.clone()).add(1,"week"),t.isSame(this.current,"month"))?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1));break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":0<this.current.milliseconds()&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":0<this.current.seconds()&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":0<this.current.minutes()&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":0<this.current.hours()&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==e&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,hb(this.moment,this,e)}},{key:"getCurrent",value:function(){return this.current.clone()}},{key:"setScale",value:function(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=0<t.step?t.step:1,this.autoScale=!1)}},{key:"setAutoScale",value:function(t){this.autoScale=t}},{key:"setMinimumStep",value:function(t){var e;null!=t&&(e=31104e6,t<31104e9&&(this.scale="year",this.step=1e3),t<15552e9&&(this.scale="year",this.step=500),t<31104e8&&(this.scale="year",this.step=100),t<50*e&&(this.scale="year",this.step=50),t<10*e&&(this.scale="year",this.step=10),t<5*e&&(this.scale="year",this.step=5),t<e&&(this.scale="year",this.step=1),t<7776e6&&(this.scale="month",this.step=3),t<2592e6&&(this.scale="month",this.step=1),t<6048e5&&this.options.showWeekScale&&(this.scale="week",this.step=1),t<1728e5&&(this.scale="day",this.step=2),t<864e5&&(this.scale="day",this.step=1),t<432e5&&(this.scale="weekday",this.step=1),t<144e5&&(this.scale="hour",this.step=4),t<36e5&&(this.scale="hour",this.step=1),t<9e5&&(this.scale="minute",this.step=15),t<6e5&&(this.scale="minute",this.step=10),t<3e5&&(this.scale="minute",this.step=5),t<6e4&&(this.scale="minute",this.step=1),t<15e3&&(this.scale="second",this.step=15),t<1e4&&(this.scale="second",this.step=10),t<5e3&&(this.scale="second",this.step=5),t<1e3&&(this.scale="second",this.step=1),t<200&&(this.scale="millisecond",this.step=200),t<100&&(this.scale="millisecond",this.step=100),t<50&&(this.scale="millisecond",this.step=50),t<10&&(this.scale="millisecond",this.step=10),t<5&&(this.scale="millisecond",this.step=5),t<1)&&(this.scale="millisecond",this.step=1)}},{key:"isMajor",value:function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":return this.options.showWeekScale?1==t.isoWeekday():1==t.date();case"week":return 1==t.date();case"month":return 0==t.month();default:return!1}}},{key:"getLabelMinor",value:function(t){var e;return(t=null==t?this.current:t)instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.minorLabels?this.format.minorLabels(t,this.scale,this.step):(e=this.format.minorLabels[this.scale],("week"!==this.scale||1!==t.date()||0===t.weekday())&&e&&0<e.length?this.moment(t).format(e):"")}},{key:"getLabelMajor",value:function(t){var e;return(t=null==t?this.current:t)instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.majorLabels?this.format.majorLabels(t,this.scale,this.step):(e=this.format.majorLabels[this.scale])&&0<e.length?this.moment(t).format(e):""}},{key:"getClassName",value:function(){var t,e=this.moment,i=this.moment(this.current),n=i.locale?i.locale("en"):i.lang("en"),o=this.step,r=[];function s(t){return t/o%2==0?" vis-even":" vis-odd"}function a(t){return t.isSame(_d(),"day")?" vis-today":t.isSame(e().add(1,"day"),"day")?" vis-tomorrow":t.isSame(e().add(-1,"day"),"day")?" vis-yesterday":""}function l(t){return t.isSame(_d(),"week")?" vis-current-week":""}function h(t){return t.isSame(_d(),"month")?" vis-current-month":""}switch(this.scale){case"millisecond":r.push(a(n)),r.push(s(n.milliseconds()));break;case"second":r.push(a(n)),r.push(s(n.seconds()));break;case"minute":r.push(a(n)),r.push(s(n.minutes()));break;case"hour":r.push(M(t="vis-h".concat(n.hours())).call(t,4==this.step?"-h"+(n.hours()+4):"")),r.push(a(n)),r.push(s(n.hours()));break;case"weekday":r.push("vis-".concat(n.format("dddd").toLowerCase())),r.push(a(n)),r.push(l(n)),r.push(s(n.date()));break;case"day":r.push("vis-day".concat(n.date())),r.push("vis-".concat(n.format("MMMM").toLowerCase())),r.push(a(n)),r.push(h(n)),r.push(this.step<=2?a(n):""),r.push(this.step<=2?"vis-".concat(n.format("dddd").toLowerCase()):""),r.push(s(n.date()-1));break;case"week":r.push("vis-week".concat(n.format("w"))),r.push(l(n)),r.push(s(n.week()));break;case"month":r.push("vis-".concat(n.format("MMMM").toLowerCase())),r.push(h(n)),r.push(s(n.month()));break;case"year":r.push("vis-year".concat(n.year())),r.push(n.isSame(_d(),"year")?" vis-current-year":""),r.push(s(n.year()))}return P(r).call(r,String).join(" ")}}],[{key:"snap",value:function(t,e,i){var n=Xh(t);if("year"==e){var t=n.year()+Math.round(n.month()/12);n.year(Math.round(t/i)*i),n.month(0),n.date(0),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("month"==e)15<n.date()?(n.date(1),n.add(1,"month")):n.date(1),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0);else if("week"==e)2<n.weekday()?(n.weekday(0),n.add(1,"week")):n.weekday(0),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0);else if("day"==e){switch(i){case 5:case 2:n.hours(24*Math.round(n.hours()/24));break;default:n.hours(12*Math.round(n.hours()/12))}n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("weekday"==e){switch(i){case 5:case 2:n.hours(12*Math.round(n.hours()/12));break;default:n.hours(6*Math.round(n.hours()/6))}n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("hour"==e)4===i?n.minutes(60*Math.round(n.minutes()/60)):n.minutes(30*Math.round(n.minutes()/30)),n.seconds(0),n.milliseconds(0);else if("minute"==e){switch(i){case 15:case 10:n.minutes(5*Math.round(n.minutes()/5)),n.seconds(0);break;case 5:n.seconds(60*Math.round(n.seconds()/60));break;default:n.seconds(30*Math.round(n.seconds()/30))}n.milliseconds(0)}else if("second"==e)switch(i){case 15:case 10:n.seconds(5*Math.round(n.seconds()/5)),n.milliseconds(0);break;case 5:n.milliseconds(1e3*Math.round(n.milliseconds()/1e3));break;default:n.milliseconds(500*Math.round(n.milliseconds()/500))}else"millisecond"==e&&(t=5<i?i/2:1,n.milliseconds(Math.round(n.milliseconds()/t)*t));return n}}]),r})();function Nb(i){var n=(()=>{if("undefined"==typeof Reflect||!g)return!1;if(g.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g(Boolean,[],function(){})),!0}catch(t){return!1}})();return function(){var t,e=O(i);return bh(this,n?(t=O(this).constructor,g(e,arguments,t)):e.apply(this,arguments))}}Mb.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}};var Fb=(()=>{yh(o,Oy);var n=Nb(o);function o(t,e){var i;return v(this,o),(i=n.call(this)).dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},i.props={range:{start:0,end:0,minimumStep:0},lineTop:0},i.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,maxMinorChars:7,format:F.extend({},Mb.FORMAT),moment:Xh,timeAxis:null},i.options=F.extend({},i.defaultOptions),i.body=t,i._create(),i.setOptions(e),i}return T(o,[{key:"setOptions",value:function(t){t&&(F.selectiveExtend(["showMinorLabels","showMajorLabels","showWeekScale","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,t),F.selectiveDeepExtend(["format"],this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.axis=t.orientation:"object"===D(t.orientation)&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)),"locale"in t)&&("function"==typeof Xh.locale?Xh.locale(t.locale):Xh.lang(t.locale))}},{key:"_create",value:function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"}},{key:"destroy",value:function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null}},{key:"redraw",value:function(){var t=this.props,e=this.dom.foreground,i=this.dom.background,n="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,o=e.parentNode!==n,r=(this._calculateCharSize(),this.options.showMinorLabels&&"none"!==this.options.orientation.axis),s=this.options.showMajorLabels&&"none"!==this.options.orientation.axis,r=(t.minorLabelHeight=r?t.minorCharHeight:0,t.majorLabelHeight=s?t.majorCharHeight:0,t.height=t.minorLabelHeight+t.majorLabelHeight,t.width=e.offsetWidth,t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom:this.body.domProps.top).height,t.minorLineWidth=1,t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight,t.majorLineWidth=1,e.nextSibling),s=i.nextSibling;return e.parentNode&&e.parentNode.removeChild(e),i.parentNode&&i.parentNode.removeChild(i),e.style.height="".concat(this.props.height,"px"),this._repaintLabels(),r?n.insertBefore(e,r):n.appendChild(e),s?this.body.dom.backgroundVertical.insertBefore(i,s):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||o}},{key:"_repaintLabels",value:function(){var t,e,i,n,o,r,s,a,l=this.options.orientation.axis,h=F.convert(this.body.range.start,"Number"),u=F.convert(this.body.range.end,"Number"),c=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),c=c-fb(this.options.moment,this.body.hiddenDates,this.body.range,c),d=(c-=this.body.util.toTime(0).valueOf(),new Mb(new Date(h),new Date(u),c,this.body.hiddenDates,this.options)),h=(d.setMoment(this.options.moment),this.options.format&&d.setFormat(this.options.format),this.options.timeAxis&&d.setScale(this.options.timeAxis),this.step=d,this.dom),p=(h.redundant.lines=h.lines,h.redundant.majorTexts=h.majorTexts,h.redundant.minorTexts=h.minorTexts,h.lines=[],h.majorTexts=[],h.minorTexts=[],0),m=void 0,f=0;for(d.start(),e=d.getCurrent(),n=this.body.util.toScreen(e);d.hasNext()&&f<1e3;)f++,o=d.isMajor(),a=d.getClassName(),t=e,i=n,d.next(),e=d.getCurrent(),r=p,p=(n=this.body.util.toScreen(e))-i,r="week"===d.scale||.4*r<=p,this.options.showMinorLabels&&r&&(this._repaintMinorText(i,d.getLabelMinor(t),l,a).style.width="".concat(p,"px")),o&&this.options.showMajorLabels?(0<i&&(null==m&&(m=i),this._repaintMajorText(i,d.getLabelMajor(t),l,a)),s=this._repaintMajorLine(i,p,l,a)):r?s=this._repaintMinorLine(i,p,l,a):s&&(s.style.width="".concat(Jp(s.style.width)+p,"px"));1e3!==f||Rb||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to ".concat(1e3," lines.")),Rb=!0),this.options.showMajorLabels&&(u=this.body.util.toTime(0),h=(c=d.getLabelMajor(u)).length*(this.props.majorCharWidth||10)+10,null==m||h<m)&&this._repaintMajorText(0,c,l,a),I(F).call(F,this.dom.redundant,function(t){for(;t.length;){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}})}},{key:"_repaintMinorText",value:function(t,e,i,n){var o=this.dom.redundant.minorTexts.shift(),r=(o||(r=document.createTextNode(""),(o=document.createElement("div")).appendChild(r),this.dom.foreground.appendChild(o)),this.dom.minorTexts.push(o),o.innerHTML=F.xss(e),"top"==i?this.props.majorLabelHeight:0);return this._setXY(o,t,r),o.className="vis-text vis-minor ".concat(n),o}},{key:"_repaintMajorText",value:function(t,e,i,n){var o=this.dom.redundant.majorTexts.shift(),r=(o||(r=document.createElement("div"),(o=document.createElement("div")).appendChild(r),this.dom.foreground.appendChild(o)),o.childNodes[0].innerHTML=F.xss(e),o.className="vis-text vis-major ".concat(n),"top"==i?0:this.props.minorLabelHeight);return this._setXY(o,t,r),this.dom.majorTexts.push(o),o}},{key:"_setXY",value:function(t,e,i){e=this.options.rtl?-1*e:e;t.style.transform=M(t="translate(".concat(e,"px, ")).call(t,i,"px)")}},{key:"_repaintMinorLine",value:function(t,e,i,n){var o=this.dom.redundant.lines.shift(),r=(o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o),this.props),e=(o.style.width="".concat(e,"px"),o.style.height="".concat(r.minorLineHeight,"px"),"top"==i?r.majorLabelHeight:this.body.domProps.top.height),i=t-r.minorLineWidth/2;return this._setXY(o,i,e),o.className=M(t="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-minor ")).call(t,n),o}},{key:"_repaintMajorLine",value:function(t,e,i,n){var o=this.dom.redundant.lines.shift(),r=(o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o),this.props),e=(o.style.width="".concat(e,"px"),o.style.height="".concat(r.majorLineHeight,"px"),"top"==i?0:this.body.domProps.top.height),i=t-r.majorLineWidth/2;return this._setXY(o,i,e),o.className=M(t="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-major ")).call(t,n),o}},{key:"_calculateCharSize",value:function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth}}]),o})(),Rb=!1;function Lb(t){for(var o=t&&t.preventDefault||!1,e=t&&t.container||window,n={},s={keydown:{},keyup:{}},a={},i=97;i<=122;i++)a[String.fromCharCode(i)]={code:i-97+65,shift:!1};for(i=65;i<=90;i++)a[String.fromCharCode(i)]={code:i,shift:!0};for(i=0;i<=9;i++)a[""+i]={code:48+i,shift:!1};for(i=1;i<=12;i++)a["F"+i]={code:111+i,shift:!1};for(i=0;i<=9;i++)a["num"+i]={code:96+i,shift:!1};a["num*"]={code:106,shift:!1},a["num+"]={code:107,shift:!1},a["num-"]={code:109,shift:!1},a["num/"]={code:111,shift:!1},a["num."]={code:110,shift:!1},a.left={code:37,shift:!1},a.up={code:38,shift:!1},a.right={code:39,shift:!1},a.down={code:40,shift:!1},a.space={code:32,shift:!1},a.enter={code:13,shift:!1},a.shift={code:16,shift:void 0},a.esc={code:27,shift:!1},a.backspace={code:8,shift:!1},a.tab={code:9,shift:!1},a.ctrl={code:17,shift:!1},a.alt={code:18,shift:!1},a.delete={code:46,shift:!1},a.pageup={code:33,shift:!1},a.pagedown={code:34,shift:!1},a["="]={code:187,shift:!1},a["-"]={code:189,shift:!1},a["]"]={code:221,shift:!1},a["["]={code:219,shift:!1};function r(t){h(t,"keydown")}function l(t){h(t,"keyup")}function h(t,e){if(void 0!==s[e][t.keyCode]){for(var i=s[e][t.keyCode],n=0;n<i.length;n++)(void 0===i[n].shift||1==i[n].shift&&1==t.shiftKey||0==i[n].shift&&0==t.shiftKey)&&i[n].fn(t);1==o&&t.preventDefault()}}return n.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===a[t])throw new Error("unsupported key: "+t);void 0===s[i][a[t].code]&&(s[i][a[t].code]=[]),s[i][a[t].code].push({fn:e,shift:a[t].shift})},n.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),a)a.hasOwnProperty(i)&&n.bind(i,t,e)},n.getKey=function(t){for(var e in a)if(a.hasOwnProperty(e)){if(1==t.shiftKey&&1==a[e].shift&&t.keyCode==a[e].code)return e;if(0==t.shiftKey&&0==a[e].shift&&t.keyCode==a[e].code)return e;if(t.keyCode==a[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},n.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===a[t])throw new Error("unsupported key: "+t);if(void 0!==e){var n=[],o=s[i][a[t].code];if(void 0!==o)for(var r=0;r<o.length;r++)o[r].fn==e&&o[r].shift==a[t].shift||n.push(s[i][a[t].code][r]);s[i][a[t].code]=n}else s[i][a[t].code]=[]},n.reset=function(){s={keydown:{},keyup:{}}},n.destroy=function(){s={keydown:{},keyup:{}},e.removeEventListener("keydown",r,!0),e.removeEventListener("keyup",l,!0)},e.addEventListener("keydown",r,!0),e.addEventListener("keyup",l,!0),n}function jb(e){this.active=!1,this.dom={container:e},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=Ib(this.dom.overlay),this.hammer.on("tap",A(t=this._onTapOverlay).call(t,this));var i=this,t=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];I(t).call(t,function(t){i.hammer.on(t,function(t){t.stopPropagation()})}),document&&document.body&&(this.onClick=function(t){((t,e)=>{for(;t;){if(t===e)return 1;t=t.parentNode}})(t.target,e)||i.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=Lb(),this.escListener=A(t=this.deactivate).call(t,this)}yn(jb.prototype),jb.current=null,jb.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null},jb.prototype.activate=function(){var t;jb.current&&jb.current.deactivate(),(jb.current=this).active=!0,this.dom.overlay.style.display="none",F.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),A(t=this.keycharm).call(t,"esc",this.escListener)},jb.prototype.deactivate=function(){jb.current===this&&(jb.current=null),this.active=!1,this.dom.overlay.style.display="",F.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},jb.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()};var vs={current:"current",time:"time",deleteSelected:"Delete selected"},te={current:"attuale",time:"tempo",deleteSelected:"Cancella la selezione"},b={current:"huidige",time:"tijd",deleteSelected:"Selectie verwijderen"},Yi={current:"Aktuelle",time:"Zeit",deleteSelected:"LÃ¶sche Auswahl"},is={current:"actuel",time:"heure",deleteSelected:"Effacer la selection"},Dn={current:"corriente",time:"hora",deleteSelected:"Eliminar selecciÃ³n"},Et={current:"Ð¿Ð¾ÑÐ¾ÑÐ½Ð¸Ð¹",time:"ÑÐ°Ñ",deleteSelected:"ÐÐ¸Ð´Ð°Ð»Ð¸ÑÐ¸ Ð¾Ð±ÑÐ°Ð½Ðµ"},ss={current:"ÑÐµÐºÑÑÐµÐµ",time:"Ð²ÑÐµÐ¼Ñ",deleteSelected:"Ð£Ð´Ð°Ð»Ð¸ÑÑ Ð²ÑÐ±ÑÐ°Ð½Ð½Ð¾Ðµ"},ls={current:"aktualny",time:"czas",deleteSelected:"UsuÅ wybrane"},go={current:"atual",time:"data",deleteSelected:"Apagar selecionado"},Ut={current:"ç¾å¨",time:"æå»",deleteSelected:"é¸æããããã®ãåé¤"},x={current:"nuvarande",time:"tid",deleteSelected:"Radera valda"},fo={current:"nÃ¥vÃ¦rende",time:"tid",deleteSelected:"Slett valgte"},as={current:"einamas",time:"laikas",deleteSelected:"PaÅ¡alinti pasirinktÄ"},Bb={en:vs,en_EN:vs,en_US:vs,it:te,it_IT:te,it_CH:te,nl:b,nl_NL:b,nl_BE:b,de:Yi,de_DE:Yi,fr:is,fr_FR:is,fr_CA:is,fr_BE:is,es:Dn,es_ES:Dn,uk:Et,uk_UA:Et,ru:ss,ru_RU:ss,pl:ls,pl_PL:ls,pt:go,pt_BR:go,pt_PT:go,ja:Ut,ja_JP:Ut,lt:as,lt_LT:as,sv:x,sv_SE:x,nb:fo,nn:fo,nb_NO:fo,nn_NO:fo};function zb(i){var n=(()=>{if("undefined"==typeof Reflect||!g)return!1;if(g.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g(Boolean,[],function(){})),!0}catch(t){return!1}})();return function(){var t,e=O(i);return bh(this,n?(t=O(this).constructor,g(e,arguments,t)):e.apply(this,arguments))}}var Hb=(()=>{yh(r,Oy);var o=zb(r);function r(t,e){v(this,r),(i=o.call(this)).body=t,i.defaultOptions={moment:Xh,locales:Bb,locale:"en",id:void 0,title:void 0},i.options=F.extend({},i.defaultOptions),i.setOptions(e),i.options.locales=F.extend({},Bb,i.options.locales);var i,n=i.defaultOptions.locales[i.defaultOptions.locale];return I(t=Xu(i.options.locales)).call(t,function(t){i.options.locales[t]=F.extend({},n,i.options.locales[t])}),e&&null!=e.time?i.customTime=e.time:i.customTime=new Date,i.eventParams={},i._create(),i}return T(r,[{key:"setOptions",value:function(t){t&&F.selectiveExtend(["moment","locale","locales","id","title","rtl","snap"],this.options,t)}},{key:"_create",value:function(){var t=document.createElement("div"),e=(t["custom-time"]=this,t.className="vis-custom-time ".concat(this.options.id||""),t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t,document.createElement("div"));function i(t){this.body.range._onMouseWheel(t)}e.style.position="relative",e.style.top="0px",this.options.rtl?e.style.right="-10px":e.style.left="-10px",e.style.height="100%",e.style.width="20px",e.addEventListener?(e.addEventListener("mousewheel",A(i).call(i,this),!1),e.addEventListener("DOMMouseScroll",A(i).call(i,this),!1)):e.attachEvent("onmousewheel",A(i).call(i,this)),t.appendChild(e),this.hammer=new Ib(e),this.hammer.on("panstart",A(t=this._onDragStart).call(t,this)),this.hammer.on("panmove",A(e=this._onDrag).call(e,this)),this.hammer.on("panend",A(t=this._onDragEnd).call(t,this)),this.hammer.get("pan").set({threshold:5,direction:Ib.DIRECTION_ALL}),this.hammer.get("press").set({time:1e4})}},{key:"destroy",value:function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null}},{key:"redraw",value:function(){var t=this.body.dom.backgroundVertical,t=(this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar)),this.body.util.toScreen(this.customTime)),e=this.options.locales[this.options.locale],i=(e||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),e=this.options.locales.en),this.options.title);return void 0===i?i=(i=M(e="".concat(e.time,": ")).call(e,this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss"))).charAt(0).toUpperCase()+i.substring(1):"function"==typeof i&&(i=i.call(this,this.customTime)),this.options.rtl?this.bar.style.right="".concat(t,"px"):this.bar.style.left="".concat(t,"px"),this.bar.title=i,!1}},{key:"hide",value:function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)}},{key:"setCustomTime",value:function(t){this.customTime=F.convert(t,"Date"),this.redraw()}},{key:"getCustomTime",value:function(){return new Date(this.customTime.valueOf())}},{key:"setCustomMarker",value:function(t,e){var i=document.createElement("div");i.className="vis-custom-time-marker",i.innerHTML=F.xss(t),i.style.position="absolute",e&&(i.setAttribute("contenteditable","true"),i.addEventListener("pointerdown",function(){i.focus()}),i.addEventListener("input",A(e=this._onMarkerChange).call(e,this)),i.title=t,i.addEventListener("blur",A(e=function(t){this.title!=t.target.innerHTML&&(this._onMarkerChanged(t),this.title=t.target.innerHTML)}).call(e,this))),this.bar.appendChild(i)}},{key:"setCustomTitle",value:function(t){this.options.title=t}},{key:"_onDragStart",value:function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation()}},{key:"_onDrag",value:function(t){var e,i,n,o;this.eventParams.dragging&&(e=this.options.rtl?-1*t.deltaX:t.deltaX,e=this.body.util.toScreen(this.eventParams.customTime)+e,e=this.body.util.toTime(e),i=this.body.util.getScale(),n=this.body.util.getStep(),o=(o=this.options.snap)?o(e,i,n):e,this.setCustomTime(o),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation())}},{key:"_onDragEnd",value:function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation())}},{key:"_onMarkerChange",value:function(t){this.body.emitter.emit("markerchange",{id:this.options.id,title:t.target.innerHTML,event:t}),t.stopPropagation()}},{key:"_onMarkerChanged",value:function(t){this.body.emitter.emit("markerchanged",{id:this.options.id,title:t.target.innerHTML,event:t}),t.stopPropagation()}}],[{key:"customTimeFromTarget",value:function(t){for(var e=t.target;e;){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null}}]),r})(),Gb=(()=>{function t(){v(this,t)}return T(t,[{key:"_create",value:function(t){var e,i=this,n=(this.dom={},this.dom.container=t,this.dom.container.style.position="relative",this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.loadingScreen=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.loadingScreen.className="vis-loading-screen",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",function(){!0===i.initialDrawDone&&i._redraw()}),this.on("rangechanged",function(){i.initialRangeChangeDone||(i.initialRangeChangeDone=!0)}),this.on("touch",A(o=this._onTouch).call(o,this)),this.on("panmove",A(o=this._onDrag).call(o,this)),this),o=(this._origRedraw=A(o=this._redraw).call(o,this),this._redraw=F.throttle(this._origRedraw),this.on("_change",function(t){n.itemSet&&n.itemSet.initialItemSetDrawn&&t&&1==t.queue?n._redraw():n._origRedraw()}),this.hammer=new Ib(this.dom.root),this.hammer.get("pinch").set({enable:!0})),o=(o&&(o.getTouchAction=function(){return["pan-y"]}),this.hammer.get("pan").set({threshold:5,direction:Ib.DIRECTION_ALL}),this.timelineListeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"]);function r(t){this.isActive()&&this.emit("mousewheel",t);var e,i,n=0,o=0;if("detail"in t&&(o=-1*t.detail),"wheelDelta"in t&&(o=t.wheelDelta),"wheelDeltaY"in t&&(o=t.wheelDeltaY),"wheelDeltaX"in t&&(n=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(n=-1*o,o=0),"deltaY"in t&&(o=-1*t.deltaY),"deltaX"in t&&(n=t.deltaX),t.deltaMode&&(1===t.deltaMode?(n*=40,o*=40):(n*=40,o*=800)),this.options.preferZoom){if(!this.options.zoomKey||t[this.options.zoomKey])return}else if(this.options.zoomKey&&t[this.options.zoomKey])return;(this.options.verticalScroll||this.options.horizontalScroll)&&(this.options.verticalScroll&&Math.abs(o)>=Math.abs(n)?(e=(i=this.props.scrollTop)+o,this.isActive()&&this._setScrollTop(e)!==i&&(this._redraw(),this.emit("scroll",t),t.preventDefault())):this.options.horizontalScroll&&(e=(Math.abs(n)>=Math.abs(o)?n:o)/120*(this.range.end-this.range.start)/20,i=this.range.start+e,n=this.range.end+e,this.range.setRange(i,n,{animation:!1,byUser:!0,event:t}),t.preventDefault()))}I(o).call(o,function(e){function t(t){n.isActive()&&n.emit(e,t)}n.hammer.on(e,t),n.timelineListeners[e]=t}),Pb(this.hammer,function(t){n.emit("touch",t)}),o=this.hammer,(e=function(t){n.emit("release",t)}).inputHandler=function(t){t.isFinal&&e(t)},o.on("hammer.input",e.inputHandler);o="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":this.dom.centerContainer.addEventListener?"DOMMouseScroll":"onmousewheel";function s(t){var e;n.options.verticalScroll&&(t.preventDefault(),n.isActive())&&(e=-t.target.scrollTop,n._setScrollTop(e),n._redraw(),n.emit("scrollSide",t))}this.dom.top.addEventListener,this.dom.bottom.addEventListener,this.dom.centerContainer.addEventListener(o,A(r).call(r,this),!1),this.dom.top.addEventListener(o,A(r).call(r,this),!1),this.dom.bottom.addEventListener(o,A(r).call(r,this),!1),this.dom.left.parentNode.addEventListener("scroll",A(s).call(s,this)),this.dom.right.parentNode.addEventListener("scroll",A(s).call(s,this));var a=!1;function l(t){var e;if(t.preventDefault&&(n.emit("dragover",n.getEventProperties(t)),t.preventDefault()),-1<N(e=t.target.className).call(e,"timeline")&&!a)return t.dataTransfer.dropEffect="move",!(a=!0)}function h(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation();try{var e=JSON.parse(t.dataTransfer.getData("text"));if(!e||!e.content)return}catch(t){return!1}return a=!1,t.center={x:t.clientX,y:t.clientY},"item"!==e.target?n.itemSet._onAddItem(t):n.itemSet._onDropObjectOnItem(t),n.emit("drop",n.getEventProperties(t)),!1}if(this.dom.center.addEventListener("dragover",A(l).call(l,this),!1),this.dom.center.addEventListener("drop",A(h).call(h,this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!t)throw new Error("No container provided");t.appendChild(this.dom.root),t.appendChild(this.dom.loadingScreen)}},{key:"setOptions",value:function(e){var i,t,n,o;e&&(F.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","preferZoom","rtl","zoomKey","horizontalScroll","verticalScroll","longSelectPressTime","snap"],this.options,e),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!==D(this.options.orientation)&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in e&&("string"==typeof e.orientation?this.options.orientation={item:e.orientation,axis:e.orientation}:"object"===D(e.orientation)&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation)&&(this.options.orientation.axis=e.orientation.axis)),"both"===this.options.orientation.axis?this.timeAxis2||((i=this.timeAxis2=new Fb(this.body)).setOptions=function(t){t=t?F.extend({},t):{};t.orientation="top",Fb.prototype.setOptions.call(i,t)},this.components.push(i)):this.timeAxis2&&(-1!==(n=N(n=this.components).call(n,this.timeAxis2))&&Qd(t=this.components).call(t,n,1),this.timeAxis2.destroy(),this.timeAxis2=null),"function"==typeof e.drawPoints&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&sb(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new jb(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize()),I(t=this.components).call(t,function(t){return t.setOptions(e)}),"configure"in e&&(this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure),o=F.deepExtend({},this.options),I(n=this.components).call(n,function(t){F.deepExtend(o,t.options)}),this.configurator.setModuleOptions({global:o})),this._redraw()}},{key:"isActive",value:function(){return!this.activator||this.activator.active}},{key:"destroy",value:function(){var t,e;for(e in this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator),this.timelineListeners)this.timelineListeners.hasOwnProperty(e)&&delete this.timelineListeners[e];this.timelineListeners=null,this.hammer&&this.hammer.destroy(),this.hammer=null,I(t=this.components).call(t,function(t){return t.destroy()}),this.body=null}},{key:"setCustomTime",value:function(t,e){var i=P(i=this.customTimes).call(i,function(t){return e===t.options.id});if(0===i.length)throw new Error("No custom time bar found with id ".concat(km(e)));0<i.length&&i[0].setCustomTime(t)}},{key:"getCustomTime",value:function(e){var t=P(t=this.customTimes).call(t,function(t){return t.options.id===e});if(0===t.length)throw new Error("No custom time bar found with id ".concat(km(e)));return t[0].getCustomTime()}},{key:"setCustomTimeMarker",value:function(t,e,i){var n=P(n=this.customTimes).call(n,function(t){return t.options.id===e});if(0===n.length)throw new Error("No custom time bar found with id ".concat(km(e)));0<n.length&&n[0].setCustomMarker(t,i)}},{key:"setCustomTimeTitle",value:function(t,e){var i=P(i=this.customTimes).call(i,function(t){return t.options.id===e});if(0===i.length)throw new Error("No custom time bar found with id ".concat(km(e)));if(0<i.length)return i[0].setCustomTitle(t)}},{key:"getEventProperties",value:function(t){return{event:t}}},{key:"addCustomTime",value:function(t,e){t=void 0!==t?F.convert(t,"Date"):new Date;if(Tb(i=this.customTimes).call(i,function(t){return t.options.id===e}))throw new Error("A custom time with id ".concat(km(e)," already exists"));var i=new Hb(this.body,F.extend({},this.options,{time:t,id:e,snap:(this.itemSet||this).options.snap}));return this.customTimes.push(i),this.components.push(i),this._redraw(),e}},{key:"removeCustomTime",value:function(e){var i=this,t=P(t=this.customTimes).call(t,function(t){return t.options.id===e});if(0===t.length)throw new Error("No custom time bar found with id ".concat(km(e)));I(t).call(t,function(t){var e;Qd(e=i.customTimes).call(e,N(e=i.customTimes).call(e,t),1),Qd(e=i.components).call(e,N(e=i.components).call(e,t),1),t.destroy()})}},{key:"getVisibleItems",value:function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]}},{key:"getItemsAtCurrentTime",value:function(t){return this.time=t,this.itemSet&&this.itemSet.getItemsAtCurrentTime(this.time)||[]}},{key:"getVisibleGroups",value:function(){return this.itemSet&&this.itemSet.getVisibleGroups()||[]}},{key:"fit",value:function(t,e){var i,n,o=this.getDataRange();null===o.min&&null===o.max||(n=o.max-o.min,i=new Date(o.min.valueOf()-.01*n),o=new Date(o.max.valueOf()+.01*n),n=!t||void 0===t.animation||t.animation,this.range.setRange(i,o,{animation:n},e))}},{key:"getDataRange",value:function(){throw new Error("Cannot invoke abstract method getDataRange")}},{key:"setWindow",value:function(t,e,i,n){var o,r;"function"==typeof arguments[2]&&(n=arguments[2],i={}),1==arguments.length?(o=void 0===(r=t).animation||r.animation,this.range.setRange(r.start,r.end,{animation:o})):2==arguments.length&&"function"==typeof e?(o=void 0===(r=t).animation||r.animation,this.range.setRange(r.start,r.end,{animation:o},n=e)):(o=!i||void 0===i.animation||i.animation,this.range.setRange(t,e,{animation:o},n))}},{key:"moveTo",value:function(t,e,i){"function"==typeof arguments[1]&&(i=arguments[1],e={});var n=this.range.end-this.range.start,t=F.convert(t,"Date").valueOf(),e=!e||void 0===e.animation||e.animation;this.range.setRange(t-n/2,t+n/2,{animation:e},i)}},{key:"getWindow",value:function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}}},{key:"zoomIn",value:function(t,e,i){var n,o;!t||t<0||1<t||("function"==typeof arguments[1]&&(i=arguments[1],e={}),o=(n=this.getWindow()).start.valueOf(),n=n.end.valueOf(),this.setWindow(o+(o=((o=n-o)-o/(1+t))/2),n-o,e,i))}},{key:"zoomOut",value:function(t,e,i){var n,o;!t||t<0||1<t||("function"==typeof arguments[1]&&(i=arguments[1],e={}),o=(n=this.getWindow()).start.valueOf(),n=n.end.valueOf(),this.setWindow(o-(o=n-o)*t/2,n+o*t/2,e,i))}},{key:"redraw",value:function(){this._redraw()}},{key:"_redraw",value:function(){this.redrawCount++;var t=this.dom;if(t&&t.container&&0!=t.root.offsetWidth){var e=!1,i=this.options,n=this.props,o=(ab(this.options.moment,this.body,this.options.hiddenDates),"top"==i.orientation?(F.addClassName(t.root,"vis-top"),F.removeClassName(t.root,"vis-bottom")):(F.removeClassName(t.root,"vis-top"),F.addClassName(t.root,"vis-bottom")),i.rtl?(F.addClassName(t.root,"vis-rtl"),F.removeClassName(t.root,"vis-ltr")):(F.addClassName(t.root,"vis-ltr"),F.removeClassName(t.root,"vis-rtl")),t.root.style.maxHeight=F.option.asSize(i.maxHeight,""),t.root.style.minHeight=F.option.asSize(i.minHeight,""),t.root.style.width=F.option.asSize(i.width,""),t.root.offsetWidth),r=(n.border.left=1,n.border.right=1,n.border.top=1,n.border.bottom=1,n.center.height=t.center.offsetHeight,n.left.height=t.left.offsetHeight,n.right.height=t.right.offsetHeight,n.top.height=t.top.clientHeight||-n.border.top,n.bottom.height=Math.round(t.bottom.getBoundingClientRect().height)||t.bottom.clientHeight||-n.border.bottom,Math.max(n.left.height,n.center.height,n.right.height)),r=n.top.height+r+n.bottom.height+n.border.top+n.border.bottom,r=(t.root.style.height=F.option.asSize(i.height,"".concat(r,"px")),n.root.height=t.root.offsetHeight,n.background.height=n.root.height,n.root.height-n.top.height-n.bottom.height),r=(n.centerContainer.height=r,n.leftContainer.height=r,n.rightContainer.height=n.leftContainer.height,n.root.width=o,n.background.width=n.root.width,this.initialDrawDone||(n.scrollbarWidth=F.getScrollBarWidth()),t.leftContainer.clientWidth),o=t.rightContainer.clientWidth,s=(i.verticalScroll?i.rtl?(n.left.width=r||-n.border.left,n.right.width=o+n.scrollbarWidth||-n.border.right):(n.left.width=r+n.scrollbarWidth||-n.border.left,n.right.width=o||-n.border.right):(n.left.width=r||-n.border.left,n.right.width=o||-n.border.right),this._setDOM(),this._updateScrollTop()),a=("top"!=i.orientation.item&&(s+=Math.max(n.centerContainer.height-n.center.height-n.border.top-n.border.bottom,0)),t.center.style.transform="translateY(".concat(s,"px)"),0==n.scrollTop?"hidden":""),l=n.scrollTop==n.scrollTopMin?"hidden":"",a=(t.shadowTop.style.visibility=a,t.shadowBottom.style.visibility=l,t.shadowTopLeft.style.visibility=a,t.shadowBottomLeft.style.visibility=l,t.shadowTopRight.style.visibility=a,t.shadowBottomRight.style.visibility=l,i.verticalScroll&&(t.rightContainer.className="vis-panel vis-right vis-vertical-scroll",t.leftContainer.className="vis-panel vis-left vis-vertical-scroll",t.shadowTopRight.style.visibility="hidden",t.shadowBottomRight.style.visibility="hidden",t.shadowTopLeft.style.visibility="hidden",t.shadowBottomLeft.style.visibility="hidden",t.left.style.top="0px",t.right.style.top="0px"),(!i.verticalScroll||n.center.height<n.centerContainer.height)&&(t.left.style.top="".concat(s,"px"),t.right.style.top="".concat(s,"px"),t.rightContainer.className=t.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),t.leftContainer.className=t.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),n.left.width=r||-n.border.left,n.right.width=o||-n.border.right,this._setDOM()),n.center.height>n.centerContainer.height);this.hammer.get("pan").set({direction:a?Ib.DIRECTION_ALL:Ib.DIRECTION_HORIZONTAL}),this.hammer.get("press").set({time:this.options.longSelectPressTime}),I(l=this.components).call(l,function(t){e=t.redraw()||e});if(e){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")}}},{key:"_setDOM",value:function(){var t=this.props,e=this.dom,i=(t.leftContainer.width=t.left.width,t.rightContainer.width=t.right.width,t.root.width-t.left.width-t.right.width);t.center.width=i,t.centerContainer.width=i,t.top.width=i,t.bottom.width=i,e.background.style.height="".concat(t.background.height,"px"),e.backgroundVertical.style.height="".concat(t.background.height,"px"),e.backgroundHorizontal.style.height="".concat(t.centerContainer.height,"px"),e.centerContainer.style.height="".concat(t.centerContainer.height,"px"),e.leftContainer.style.height="".concat(t.leftContainer.height,"px"),e.rightContainer.style.height="".concat(t.rightContainer.height,"px"),e.background.style.width="".concat(t.background.width,"px"),e.backgroundVertical.style.width="".concat(t.centerContainer.width,"px"),e.backgroundHorizontal.style.width="".concat(t.background.width,"px"),e.centerContainer.style.width="".concat(t.center.width,"px"),e.top.style.width="".concat(t.top.width,"px"),e.bottom.style.width="".concat(t.bottom.width,"px"),e.background.style.left="0",e.background.style.top="0",e.backgroundVertical.style.left="".concat(t.left.width+t.border.left,"px"),e.backgroundVertical.style.top="0",e.backgroundHorizontal.style.left="0",e.backgroundHorizontal.style.top="".concat(t.top.height,"px"),e.centerContainer.style.left="".concat(t.left.width,"px"),e.centerContainer.style.top="".concat(t.top.height,"px"),e.leftContainer.style.left="0",e.leftContainer.style.top="".concat(t.top.height,"px"),e.rightContainer.style.left="".concat(t.left.width+t.center.width,"px"),e.rightContainer.style.top="".concat(t.top.height,"px"),e.top.style.left="".concat(t.left.width,"px"),e.top.style.top="0",e.bottom.style.left="".concat(t.left.width,"px"),e.bottom.style.top="".concat(t.top.height+t.centerContainer.height,"px"),e.center.style.left="0",e.left.style.left="0",e.right.style.left="0"}},{key:"setCurrentTime",value:function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)}},{key:"getCurrentTime",value:function(){if(this.currentTime)return this.currentTime.getCurrentTime();throw new Error("Option showCurrentTime must be true")}},{key:"_toTime",value:function(t){return cb(this,t,this.props.center.width)}},{key:"_toGlobalTime",value:function(t){return cb(this,t,this.props.root.width)}},{key:"_toScreen",value:function(t){return ub(this,t,this.props.center.width)}},{key:"_toGlobalScreen",value:function(t){return ub(this,t,this.props.root.width)}},{key:"_initAutoResize",value:function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()}},{key:"_startAutoResize",value:function(){var i=this;this._stopAutoResize(),this._onResize=function(){var t,e;1!=i.options.autoResize?i._stopAutoResize():i.dom.root&&(t=i.dom.root.offsetHeight,(e=i.dom.root.offsetWidth)==i.props.lastWidth&&t==i.props.lastHeight||(i.props.lastWidth=e,i.props.lastHeight=t,i.props.scrollbarWidth=F.getScrollBarWidth(),i.body.emitter.emit("_change")))},F.addEventListener(window,"resize",this._onResize),i.dom.root&&(i.props.lastWidth=i.dom.root.offsetWidth,i.props.lastHeight=i.dom.root.offsetHeight),this.watchTimer=Eb(this._onResize,1e3)}},{key:"_stopAutoResize",value:function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(F.removeEventListener(window,"resize",this._onResize),this._onResize=null)}},{key:"_onTouch",value:function(t){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop}},{key:"_onPinch",value:function(t){this.touch.allowDragging=!1}},{key:"_onDrag",value:function(t){var e;t&&this.touch.allowDragging&&(t=t.deltaY,e=this._getScrollTop(),t=this._setScrollTop(this.touch.initialScrollTop+t),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),t!=e)&&this.emit("verticalDrag")}},{key:"_setScrollTop",value:function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop}},{key:"_updateScrollTop",value:function(){var t=Math.min(this.props.centerContainer.height-this.props.border.top-this.props.border.bottom-this.props.center.height,0);return t!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),0<this.props.scrollTop&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop}},{key:"_getScrollTop",value:function(){return this.props.scrollTop}},{key:"_createConfigurator",value:function(){throw new Error("Cannot invoke abstract method _createConfigurator")}}]),t})();function Wb(i){var n=(()=>{if("undefined"==typeof Reflect||!g)return!1;if(g.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g(Boolean,[],function(){})),!0}catch(t){return!1}})();return function(){var t,e=O(i);return bh(this,n?(t=O(this).constructor,g(e,arguments,t)):e.apply(this,arguments))}}yn(Gb.prototype);var Yb=(()=>{yh(r,Oy);var o=Wb(r);function r(t,e){v(this,r),(i=o.call(this)).body=t,i.defaultOptions={rtl:!1,showCurrentTime:!0,alignCurrentTime:void 0,moment:Xh,locales:Bb,locale:"en"},i.options=F.extend({},i.defaultOptions),i.setOptions(e),i.options.locales=F.extend({},Bb,i.options.locales);var i,n=i.defaultOptions.locales[i.defaultOptions.locale];return I(t=Xu(i.options.locales)).call(t,function(t){i.options.locales[t]=F.extend({},n,i.options.locales[t])}),i.offset=0,i._create(),i}return T(r,[{key:"_create",value:function(){var t=document.createElement("div");t.className="vis-current-time",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t}},{key:"destroy",value:function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null}},{key:"setOptions",value:function(t){t&&F.selectiveExtend(["rtl","showCurrentTime","alignCurrentTime","moment","locale","locales"],this.options,t)}},{key:"redraw",value:function(){var t,e,i,n;return this.options.showCurrentTime?(e=this.body.dom.backgroundVertical,this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar),this.start()),e=this.options.moment(_d()+this.offset),this.options.alignCurrentTime&&(e=e.startOf(this.options.alignCurrentTime)),i=this.body.util.toScreen(e),(n=this.options.locales[this.options.locale])||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),n=this.options.locales.en),n=(n=M(t=M(t="".concat(n.current," ")).call(t,n.time,": ")).call(t,e.format("dddd, MMMM Do YYYY, H:mm:ss"))).charAt(0).toUpperCase()+n.substring(1),this.options.rtl?this.bar.style.transform="translateX(".concat(-1*i,"px)"):this.bar.style.transform="translateX(".concat(i,"px)"),this.bar.title=n):(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop()),!1}},{key:"start",value:function(){var i=this;!function t(){i.stop();var e=1/i.body.range.conversion(i.body.domProps.center.width).scale/10;1e3<(e=e<30?30:e)&&(e=1e3),i.redraw(),i.body.emitter.emit("currentTimeTick"),i.currentTimeTimer=Lh(t,e)}()}},{key:"stop",value:function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)}},{key:"setCurrentTime",value:function(t){var t=F.convert(t,"Date").valueOf(),e=_d();this.offset=t-e,this.redraw()}},{key:"getCurrentTime",value:function(){return new Date(_d()+this.offset)}}]),r})(),Vb={},vo={get exports(){return Vb},set exports(t){Vb=t}},Ac=r,Ub=Nr.find,Xb=!0;"find"in[]&&Array(1).find(function(){Xb=!1}),Ac({target:"Array",proto:!0,forced:Xb},{find:function(t){return Ub(this,t,1<arguments.length?arguments[1]:void 0)}});function qb(t){d0(t,y0,{value:{objectID:"O"+b0++,weakData:{}}})}function Kb(t,e){this.stopped=t,this.result=e}function $b(t,e,i){function n(t){return r&&A0(r,"normal",t),new Kb(!0,t)}function o(t){return d?(_0(t),f?g(t[0],t[1],n):g(t[0],t[1])):f?g(t,n):g(t)}var r,s,a,l,h,u,c=i&&i.that,d=!(!i||!i.AS_ENTRIES),p=!(!i||!i.IS_RECORD),m=!(!i||!i.IS_ITERATOR),f=!(!i||!i.INTERRUPTED),g=k0(e,c);if(p)r=t.iterator;else if(m)r=t;else{if(!(i=E0(t)))throw I0(C0(t)+" is not iterable");if(S0(i)){for(s=0,a=D0(t);s<a;s++)if((l=o(t[s]))&&T0(P0,l))return l;return new Kb(!1)}r=O0(t,i)}for(h=(p?t:r).next;!(u=x0(h,r)).done;){try{l=o(u.value)}catch(t){A0(r,"throw",t)}if("object"==typeof l&&l&&T0(P0,l))return l}return new Kb(!1)}function Zb(t,e){if(M0(e,t))return t;throw N0("Incorrect invocation")}var pr=ah("Array").find,Qb=u,Jb=pr,t0=Array.prototype,e0=(vo.exports=function(t){var e=t.find;return t===t0||Qb(t0,t)&&e===t0.find?Jb:e},e(Vb)),i0={},St={get exports(){return i0},set exports(t){i0=t}},n0={},cs={get exports(){return n0},set exports(t){n0=t}},os=n(function(){var t;"function"==typeof ArrayBuffer&&(t=new ArrayBuffer(8),Object.isExtensible(t))&&Object.defineProperty(t,"a",{value:8})}),Li=n,o0=Pt,r0=H,s0=os,a0=Object.isExtensible,ns=Li(function(){a0(1)})||s0?function(t){return!(!o0(t)||s0&&"ArrayBuffer"==r0(t))&&(!a0||a0(t))}:a0,fs=!n(function(){return Object.isExtensible(Object.preventExtensions({}))}),l0=r,h0=l,Ui=vn,u0=Pt,c0=me,d0=c.f,p0=Xo,m0=Lo,f0=ns,g0=fs,v0=!1,y0=J("meta"),b0=0,w0=cs.exports={enable:function(){w0.enable=function(){},v0=!0;var o=p0.f,r=h0([].splice),t={};t[y0]=1,o(t).length&&(p0.f=function(t){for(var e=o(t),i=0,n=e.length;i<n;i++)if(e[i]===y0){r(e,i,1);break}return e},l0({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:m0.f}))},fastKey:function(t,e){if(!u0(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!c0(t,y0)){if(!f0(t))return"F";if(!e)return"E";qb(t)}return t[y0].objectID},getWeakData:function(t,e){if(!c0(t,y0)){if(!f0(t))return!0;if(!e)return!1;qb(t)}return t[y0].weakData},onFreeze:function(t){return g0&&v0&&f0(t)&&!c0(t,y0)&&qb(t),t}},k0=(Ui[y0]=!0,nt),x0=Ot,_0=ot,C0=K,S0=Yu,D0=ct,T0=u,O0=Uu,E0=Vu,A0=Wu,I0=TypeError,P0=Kb.prototype,M0=u,N0=TypeError,F0=r,R0=t,L0=n0,j0=n,B0=Kt,z0=$b,H0=Zb,G0=Ct,W0=Pt,Y0=_r,V0=c.f,U0=Nr.forEach,X0=Dt,q0=s.set,K0=s.getterFor,$0=Uo,Z0=q,Q0=dr,J0=Dt,tw=o("species"),ew=oi,iw=dr,nw=function(t,e,i){for(var n in e)i&&i.unsafe&&t[n]?t[n]=e[n]:$0(t,n,e[n],i);return t},ow=nt,rw=Zb,sw=Y,aw=$b,lw=Pa,hw=Ma,uw=function(t){t=Z0(t);J0&&t&&!t[tw]&&Q0(t,tw,{configurable:!0,get:function(){return this}})},cw=Dt,dw=n0.fastKey,pw=s.set,mw=s.getterFor;(function(i,t,e){var n,r,s,o=-1!==i.indexOf("Map"),a=-1!==i.indexOf("Weak"),l=o?"set":"add",h=R0[i],u=h&&h.prototype,c={};X0&&G0(h)&&(a||u.forEach&&!j0(function(){(new h).entries().next()}))?(r=(n=t(function(t,e){q0(H0(t,r),{type:i,collection:new h}),null!=e&&z0(e,t[l],{that:t,AS_ENTRIES:o})})).prototype,s=K0(i),U0(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(n){var o="add"==n||"set"==n;n in u&&(!a||"clear"!=n)&&B0(r,n,function(t,e){var i=s(this).collection;return o||!a||W0(t)?(i=i[n](0===t?0:t,e),o?this:i):"get"==n&&void 0})}),a||V0(r,"size",{configurable:!0,get:function(){return s(this).collection.size}})):(n=e.getConstructor(t,i,o,l),L0.enable()),Y0(n,i,!1,!0),c[i]=n,F0({global:!0,forced:!0},c),a||e.setStrong(n,i,o)})("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},{getConstructor:function(t,i,n,o){function r(t,e,i){var n,o=l(t),r=s(t,e);return r?r.value=i:(o.last=r={index:n=dw(e,!0),key:e,value:i,previous:e=o.last,next:void 0,removed:!1},o.first||(o.first=r),e&&(e.next=r),cw?o.size++:t.size++,"F"!==n&&(o.index[n]=r)),t}function s(t,e){var i,t=l(t),n=dw(e);if("F"!==n)return t.index[n];for(i=t.first;i;i=i.next)if(i.key==e)return i}var t=t(function(t,e){rw(t,a),pw(t,{type:i,index:ew(null),first:void 0,last:void 0,size:0}),cw||(t.size=0),sw(e)||aw(e,t[o],{that:t,AS_ENTRIES:n})}),a=t.prototype,l=mw(i);return nw(a,{clear:function(){for(var t=l(this),e=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete e[i.index],i=i.next;t.first=t.last=void 0,cw?t.size=0:this.size=0},delete:function(t){var e,i,n=l(this),t=s(this,t);return t&&(e=t.next,i=t.previous,delete n.index[t.index],t.removed=!0,i&&(i.next=e),e&&(e.previous=i),n.first==t&&(n.first=e),n.last==t&&(n.last=i),cw?n.size--:this.size--),!!t},forEach:function(t){for(var e,i=l(this),n=ow(t,1<arguments.length?arguments[1]:void 0);e=e?e.next:i.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!s(this,t)}}),nw(a,n?{get:function(t){t=s(this,t);return t&&t.value},set:function(t,e){return r(this,0===t?0:t,e)}}:{add:function(t){return r(this,t=0===t?0:t,t)}}),cw&&iw(a,"size",{configurable:!0,get:function(){return l(this).size}}),t},setStrong:function(t,e,i){var n=e+" Iterator",o=mw(e),r=mw(n);lw(t,e,function(t,e){pw(this,{type:n,target:t,state:o(t),kind:e,last:void 0})},function(){for(var t=r(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?hw("keys"==e?i.key:"values"==e?i.value:[i.key,i.value],!1):(t.target=void 0,hw(void 0,!0))},i?"entries":"values",!i,!0),uw(e)}});St.exports=h.Set;var fw=e(i0),gw={},qo={get exports(){return gw},set exports(t){gw=t}},w=r,vw=Nr.findIndex,Vt="findIndex",yw=!0;Vt in[]&&Array(1)[Vt](function(){yw=!1}),w({target:"Array",proto:!0,forced:yw},{findIndex:function(t){return vw(this,t,1<arguments.length?arguments[1]:void 0)}});var rs=ah("Array").findIndex,bw=u,ww=rs,kw=Array.prototype,xw=(qo.exports=function(t){var e=t.findIndex;return t===kw||bw(kw,t)&&e===kw.findIndex?ww:e},e(gw));function _w(t,e){var i,n,o,r,s=void 0!==cd&&Fc(t)||t["@@iterator"];if(s)return n=!(i=!0),{s:function(){s=s.call(t)},n:function(){var t=s.next();return i=t.done,t},e:function(t){n=!0,o=t},f:function(){try{i||null==s.return||s.return()}finally{if(n)throw o}}};if(E(t)||(s=((t,e)=>{var i;if(t)return"string"==typeof t?Cw(t,e):"Map"===(i="Object"===(i=vd(i=Object.prototype.toString.call(t)).call(i,8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Pc(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Cw(t,e):void 0})(t))||e&&t&&"number"==typeof t.length)return s&&(t=s),r=0,{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Cw(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var Sw=.001;function Dw(t){rb(t).call(t,function(t,e){return t.data.start-e.data.start})}function Tw(t){rb(t).call(t,function(t,e){return("end"in t.data?t.data.end:t.data.start)-("end"in e.data?e.data.end:e.data.start)})}function Ow(t,e,i,n){return null===Mw(t,e.item,!1,function(t){return t.stack&&(i||null===t.top)},function(t){return t.stack},function(t){return e.axis},n)}function Ew(t,e,i){t=Mw(t,e.item,!1,function(t){return t.stack},function(t){return 1},function(t){return t.baseTop});i.height=t-i.top+.5*e.item.vertical}function Aw(t,e,i,n){for(var o=0;o<t.length;o++)if(null==t[o].data.subgroup)t[o].top=e.item.vertical;else if(void 0!==t[o].data.subgroup&&n){var r,s=0;for(r in i)i.hasOwnProperty(r)&&1==i[r].visible&&i[r].index<i[t[o].data.subgroup].index&&(s+=i[r].height,i[t[o].data.subgroup].top=s);t[o].top=s+.5*e.item.vertical}n||Iw(t,e,i)}function Iw(t,e,i){var n;Mw(rb(n=zp(i)).call(n,function(t,e){return t.index>e.index?1:t.index<e.index?-1:0}),{vertical:0},!0,function(t){return 1},function(t){return 1},function(t){return 0});for(var o=0;o<t.length;o++)void 0!==t[o].data.subgroup&&(t[o].top=i[t[o].data.subgroup].top+.5*e.item.vertical)}function Pw(t,e,i){var n,o=!1,r=[];for(n in i)i[n].hasOwnProperty("index")?r[i[n].index]=n:r.push(n);for(var s=0;s<r.length;s++)if(i.hasOwnProperty(n=r[s])){for(var a in o=o||i[n].stack,i[n].top=0,i)i[a].visible&&i[n].index>i[a].index&&(i[n].top+=i[a].height);for(var l=t[n],h=0;h<l.length;h++)void 0!==l[h].data.subgroup&&(l[h].top=i[l[h].data.subgroup].top+.5*e.item.vertical,i[n].stack)&&(l[h].baseTop=l[h].top);o&&i[n].stack&&Ew(t[n],e,i[n])}}function Mw(t,c,e,n,d,p,m){var o,f=function(t){return t.start},g=function(t){return t.end},v=(e||(f=!(!t[0]||!t[0].options.rtl)?function(t){return t.right}:function(t){return t.left},g=function(t){return f(t)+t.width+c.horizontal}),[]),y=[],b=null,w=0,r=_w(t);try{for(r.s();!(o=r.n()).done;)(()=>{var e,t=o.value;n(t)?v.push(t):d(t)&&(e=f(t),null!==b&&e<b-Sw&&(w=0),b=e,w=Nw(y,function(t){return f(t)-Sw>e},w),Qd(y).call(y,w,0,t),w++)})()}catch(t){r.e(t)}finally{r.f()}for(var b=null,k=null,w=0,x=0,_=0,C=0,s=function(){for(var t,e,n,o=v.shift(),r=(o.top=p(o),f(o)),s=g(o),a=(null!==b&&r<b-Sw&&(w=_=x=0,k=null),b=r,x=Nw(y,function(t){return r<g(t)-Sw},x),(null===k||k<s-Sw)&&(_=Nw(y,function(t){return s<f(t)-Sw},Math.max(x,_))),null!==k&&s<k-Sw&&(_=((t,e,n,o)=>{for(n=n||0,o=o||t.length,i=o-1;i>=n;i--)if(e(t[i]))return i;return n-1})(y,function(t){return s+Sw>=f(t)},x,horizontalOVerlapEndIndex)+1),rb(u=P(u=vd(y).call(y,x,_)).call(u,function(t){return r<g(t)-Sw&&s-Sw>f(t)})).call(u,function(t,e){return t.top-e.top})),l=0;l<a.length;l++){var h=a[l];e=h,n=c,(t=o).top-n.vertical+Sw<e.top+e.height&&t.top+t.height+n.vertical-Sw>e.top&&(o.top=h.top+h.height+c.vertical)}d(o)&&(w=Nw(y,function(t){return f(t)-Sw>r},w),Qd(y).call(y,w,0,o),w++);var u=o.top+o.height;if(C<u&&(C=u),m&&m())return{v:null}};0<v.length;){var a=s();if("object"===D(a))return a.v}return C}function Nw(t,e,i){i=i||0;var n=xw(n=vd(t).call(t,i)).call(n,e);return-1===n?t.length:n+i}var jo=Object.freeze({__proto__:null,nostack:Aw,orderByEnd:Tw,orderByStart:Dw,stack:Ow,stackSubgroups:Iw,stackSubgroupsWithInnerStack:Pw,substack:Ew}),Fw="__background__",Rw=(()=>{function s(t,e,i){var n=this;if(v(this,s),this.groupId=t,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.subgroupVisibility={},this.doInnerStack=!1,this.shouldBailStackItems=!1,this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=i,this.isVisible=null,this.stackDirty=!0,this._disposeCallbacks=[],e&&e.nestedGroups&&(this.nestedGroups=e.nestedGroups,this.showNested=0!=e.showNested),e&&e.subgroupStack)if("boolean"==typeof e.subgroupStack)this.doInnerStack=e.subgroupStack,this.subgroupStackAll=e.subgroupStack;else for(var o in e.subgroupStack)this.subgroupStack[o]=e.subgroupStack[o],this.doInnerStack=this.doInnerStack||e.subgroupStack[o];e&&e.heightMode?this.heightMode=e.heightMode:this.heightMode=i.options.groupHeightMode,this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;function r(){n.checkRangedItems=!0}this.itemSet.body.emitter.on("checkRangedItems",r),this._disposeCallbacks.push(function(){n.itemSet.body.emitter.off("checkRangedItems",r)}),this._create(),this.setData(e)}return T(s,[{key:"_create",value:function(){var t=document.createElement("div"),e=(this.itemSet.options.groupEditable.order?t.className="vis-label draggable":t.className="vis-label",this.dom.label=t,document.createElement("div")),t=(e.className="vis-inner",t.appendChild(e),this.dom.inner=e,document.createElement("div"));t.className="vis-group",(t["vis-group"]=this).dom.foreground=t,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)}},{key:"setData",value:function(t){if(!this.itemSet.groupTouchParams.isDragging){var e;if(t&&t.subgroupVisibility)for(var i in t.subgroupVisibility)this.subgroupVisibility[i]=t.subgroupVisibility[i];if((e=this.itemSet.options&&this.itemSet.options.groupTemplate?(n=A(n=this.itemSet.options.groupTemplate).call(n,this))(t,this.dom.inner):t&&t.content)instanceof Element){for(;this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(e)}else e instanceof Object&&e.isReactComponent||(e instanceof Object?n(t,this.dom.inner):this.dom.inner.innerHTML=null!=e?F.xss(e):F.xss(this.groupId||""));this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?F.removeClassName(this.dom.inner,"vis-hidden"):F.addClassName(this.dom.inner,"vis-hidden"),t&&t.nestedGroups?(this.nestedGroups&&this.nestedGroups==t.nestedGroups||(this.nestedGroups=t.nestedGroups),void 0===t.showNested&&void 0!==this.showNested||(0==t.showNested?this.showNested=!1:this.showNested=!0),F.addClassName(this.dom.label,"vis-nesting-group"),this.showNested?(F.removeClassName(this.dom.label,"collapsed"),F.addClassName(this.dom.label,"expanded")):(F.removeClassName(this.dom.label,"expanded"),F.addClassName(this.dom.label,"collapsed"))):this.nestedGroups&&(this.nestedGroups=null,F.removeClassName(this.dom.label,"collapsed"),F.removeClassName(this.dom.label,"expanded"),F.removeClassName(this.dom.label,"vis-nesting-group")),t&&(t.treeLevel||t.nestedInGroup)?(F.addClassName(this.dom.label,"vis-nested-group"),t.treeLevel?F.addClassName(this.dom.label,"vis-group-level-"+t.treeLevel):F.addClassName(this.dom.label,"vis-group-level-unknown-but-gte1")):F.addClassName(this.dom.label,"vis-group-level-0");var n=t&&t.className||null;n!=this.className&&(this.className&&(F.removeClassName(this.dom.label,this.className),F.removeClassName(this.dom.foreground,this.className),F.removeClassName(this.dom.background,this.className),F.removeClassName(this.dom.axis,this.className)),F.addClassName(this.dom.label,n),F.addClassName(this.dom.foreground,n),F.addClassName(this.dom.background,n),F.addClassName(this.dom.axis,n),this.className=n),this.style&&(F.removeCssText(this.dom.label,this.style),this.style=null),t&&t.style&&(F.addCssText(this.dom.label,t.style),this.style=t.style)}}},{key:"getLabelWidth",value:function(){return this.props.label.width}},{key:"_didMarkerHeightChange",value:function(){var t=this.dom.marker.clientHeight;if(t==this.lastMarkerHeight)return!1;this.lastMarkerHeight=t;var i={},n=0;if(I(F).call(F,this.items,function(t,e){t.dirty=!0,t.displayed&&(i[e]=t.redraw(!0),n=i[e].length)}),0<n)for(var e=0;e<n;e++)(e=>{I(F).call(F,i,function(t){t[e]()})})(e);return!0}},{key:"_calculateGroupSizeAndPosition",value:function(){var t=this.dom.foreground,e=t.offsetTop,i=t.offsetLeft,t=t.offsetWidth;this.top=e,this.right=i,this.width=t}},{key:"_shouldBailItemsRedraw",value:function(){var e=this,t=this.itemSet.options.onTimeout,t={relativeBailingTime:this.itemSet.itemsSettingTime,bailTimeMs:t&&t.timeoutMs,userBailFunction:t&&t.callback,shouldBailStackItems:this.shouldBailStackItems},i=null;if(!this.itemSet.initialDrawDone){if(t.shouldBailStackItems)return!0;Math.abs(_d()-new Date(t.relativeBailingTime))>t.bailTimeMs&&(t.userBailFunction&&null==this.itemSet.userContinueNotBail?t.userBailFunction(function(t){e.itemSet.userContinueNotBail=t,i=!t}):i=0==e.itemSet.userContinueNotBail)}return i}},{key:"_redrawItems",value:function(t,e,i,n){var o=this;if(t||this.stackDirty||this.isVisible&&!e){var r,s,a={byEnd:P(t=this.orderedItems.byEnd).call(t,function(t){return!t.isCluster}),byStart:P(e=this.orderedItems.byStart).call(e,function(t){return!t.isCluster})},l={byEnd:hd(new fw(P(e=Ou(t=this.orderedItems.byEnd).call(t,function(t){return t.cluster})).call(e,function(t){return!!t}))),byStart:hd(new fw(P(e=Ou(t=this.orderedItems.byStart).call(t,function(t){return t.cluster})).call(e,function(t){return!!t})))},t=function(){var t,e=o._updateItemsInRange(a,P(e=o.visibleItems).call(e,function(t){return!t.isCluster}),n),i=o._updateClustersInRange(l,P(i=o.visibleItems).call(i,function(t){return t.isCluster}),n);return M(t=[]).call(t,hd(e),hd(i))},e=function(i){var t,n={};for(t in o.subgroups)(e=>{var t=P(t=o.visibleItems).call(t,function(t){return t.data.subgroup===e});n[e]=i?rb(t).call(t,function(t,e){return i(t.data,e.data)}):t})(t);return n};"function"==typeof this.itemSet.options.order?(r=this).doInnerStack&&this.itemSet.options.stackSubgroups?(Pw(e(this.itemSet.options.order),i,this.subgroups),this.visibleItems=t(),this._updateSubGroupHeights(i)):(this.visibleItems=t(),this._updateSubGroupHeights(i),s=rb(s=P(s=vd(s=this.visibleItems).call(s)).call(s,function(t){return t.isCluster||!t.isCluster&&!t.cluster})).call(s,function(t,e){return r.itemSet.options.order(t.data,e.data)}),this.shouldBailStackItems=Ow(s,i,!0,A(s=this._shouldBailItemsRedraw).call(s,this))):(this.visibleItems=t(),this._updateSubGroupHeights(i),this.itemSet.options.stack?this.doInnerStack&&this.itemSet.options.stackSubgroups?Pw(e(),i,this.subgroups):this.shouldBailStackItems=Ow(this.visibleItems,i,!0,A(s=this._shouldBailItemsRedraw).call(s,this)):Aw(this.visibleItems,i,this.subgroups,this.itemSet.options.stackSubgroups));for(var h=0;h<this.visibleItems.length;h++)this.visibleItems[h].repositionX(),void 0===this.subgroupVisibility[this.visibleItems[h].data.subgroup]||this.subgroupVisibility[this.visibleItems[h].data.subgroup]||this.visibleItems[h].hide();this.itemSet.options.cluster&&I(F).call(F,this.items,function(t){t.cluster&&t.displayed&&t.hide()}),this.shouldBailStackItems&&this.itemSet.body.emitter.emit("destroyTimeline"),this.stackDirty=!1}}},{key:"_didResize",value:function(t,e){t=F.updateProperty(this,"height",e)||t;var e=this.dom.inner.clientWidth,i=this.dom.inner.clientHeight;return t=F.updateProperty(this.props.label,"width",e)||t,t=F.updateProperty(this.props.label,"height",i)||t}},{key:"_applyGroupHeight",value:function(t){this.dom.background.style.height="".concat(t,"px"),this.dom.foreground.style.height="".concat(t,"px"),this.dom.label.style.height="".concat(t,"px")}},{key:"_updateItemsVerticalPosition",value:function(t){for(var e=0,i=this.visibleItems.length;e<i;e++){var n=this.visibleItems[e];n.repositionY(t),this.isVisible||this.groupId==Fw||n.displayed&&n.hide()}}},{key:"redraw",value:function(e,i,n,t){var o,r,s=this,a=!1,l=this.isVisible,h=[function(){n=s._didMarkerHeightChange.call(s)||n},A(h=this._updateSubGroupHeights).call(h,this,i),A(h=this._calculateGroupSizeAndPosition).call(h,this),function(){var t;s.isVisible=A(t=s._isGroupVisible).call(t,s)(e,i)},function(){var t;A(t=s._redrawItems).call(t,s)(n,l,i,e)},A(h=this._updateSubgroupsSizes).call(h,this),function(){var t;o=A(t=s._calculateHeight).call(t,s)(i)},A(h=this._calculateGroupSizeAndPosition).call(h,this),function(){var t;a=A(t=s._didResize).call(t,s)(a,o)},function(){var t;A(t=s._applyGroupHeight).call(t,s)(o)},function(){var t;A(t=s._updateItemsVerticalPosition).call(t,s)(i)},A(h=function(){return a=!s.isVisible&&s.height?!1:a}).call(h,this)];return t?h:(I(h).call(h,function(t){r=t()}),r)}},{key:"_updateSubGroupHeights",value:function(e){var i,n=this;0<Xu(this.subgroups).length&&((i=this)._resetSubgroups(),I(F).call(F,this.visibleItems,function(t){void 0!==t.data.subgroup&&(i.subgroups[t.data.subgroup].height=Math.max(i.subgroups[t.data.subgroup].height,t.height+e.item.vertical),i.subgroups[t.data.subgroup].visible=void 0===n.subgroupVisibility[t.data.subgroup]||Boolean(n.subgroupVisibility[t.data.subgroup]))}))}},{key:"_isGroupVisible",value:function(t,e){return this.top<=t.body.domProps.centerContainer.height-t.body.domProps.scrollTop+e.axis&&this.top+this.height+e.axis>=-t.body.domProps.scrollTop}},{key:"_calculateHeight",value:function(t){var e,i,n,o,r="fixed"===this.heightMode?F.toArray(this.items):this.visibleItems;return 0<r.length?(i=r[0].top,n=r[0].top+r[0].height,I(F).call(F,r,function(t){i=Math.min(i,t.top),n=Math.max(n,t.top+t.height)}),i>t.axis&&(o=i-t.axis,n-=o,I(F).call(F,r,function(t){t.top-=o})),e=Math.ceil(n+t.item.vertical/2),"fitItems"!==this.heightMode&&(e=Math.max(e,this.props.label.height))):e=this.props.label.height,e}},{key:"show",value:function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)}},{key:"hide",value:function(){var t=this.dom.label,t=(t.parentNode&&t.parentNode.removeChild(t),this.dom.foreground),t=(t.parentNode&&t.parentNode.removeChild(t),this.dom.background),t=(t.parentNode&&t.parentNode.removeChild(t),this.dom.axis);t.parentNode&&t.parentNode.removeChild(t)}},{key:"add",value:function(t){var e;(this.items[t.id]=t).setParent(this),this.stackDirty=!0,void 0!==t.data.subgroup&&(this._addToSubgroup(t),this.orderSubgroups()),Ep(e=this.visibleItems).call(e,t)||(e=this.itemSet.body.range,this._checkIfVisible(t,this.visibleItems,e))}},{key:"_addToSubgroup",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t.data.subgroup,i=(null!=e&&void 0===this.subgroups[e]&&(this.subgroups[e]={height:0,top:0,start:t.data.start,end:t.data.end||t.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[e]||!1},this.subgroupIndex++),new Date(t.data.start)<new Date(this.subgroups[e].start)&&(this.subgroups[e].start=t.data.start),t.data.end||t.data.start);new Date(i)>new Date(this.subgroups[e].end)&&(this.subgroups[e].end=i),this.subgroups[e].items.push(t)}},{key:"_updateSubgroupsSizes",value:function(){var n=this;if(n.subgroups)for(var o in n.subgroups)(()=>{var t=n.subgroups[o].items[0].data.end||n.subgroups[o].items[0].data.start,e=n.subgroups[o].items[0].data.start,i=t-1;I(t=n.subgroups[o].items).call(t,function(t){new Date(t.data.start)<new Date(e)&&(e=t.data.start);t=t.data.end||t.data.start;new Date(t)>new Date(i)&&(i=t)}),n.subgroups[o].start=e,n.subgroups[o].end=new Date(i-1)})()}},{key:"orderSubgroups",value:function(){if(void 0!==this.subgroupOrderer){var t=[];if("string"==typeof this.subgroupOrderer){for(var e in this.subgroups)t.push({subgroup:e,sortField:this.subgroups[e].items[0].data[this.subgroupOrderer]});rb(t).call(t,function(t,e){return t.sortField-e.sortField})}else if("function"==typeof this.subgroupOrderer){for(var i in this.subgroups)t.push(this.subgroups[i].items[0].data);rb(t).call(t,this.subgroupOrderer)}if(0<t.length)for(var n=0;n<t.length;n++)this.subgroups[t[n].subgroup].index=n}}},{key:"_resetSubgroups",value:function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1,this.subgroups[t].height=0)}},{key:"remove",value:function(t){delete this.items[t.id],t.setParent(null),this.stackDirty=!0;var e,i=N(i=this.visibleItems).call(i,t);-1!=i&&Qd(e=this.visibleItems).call(e,i,1),void 0!==t.data.subgroup&&(this._removeFromSubgroup(t),this.orderSubgroups())}},{key:"_removeFromSubgroup",value:function(t){var e,i,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t.data.subgroup;null!=n&&(e=this.subgroups[n])&&0<=(i=N(i=e.items).call(i,t))&&(Qd(t=e.items).call(t,i,1),e.items.length?this._updateSubgroupsSizes():delete this.subgroups[n])}},{key:"removeFromDataSet",value:function(t){this.itemSet.removeItem(t.id)}},{key:"order",value:function(){for(var t=F.toArray(this.items),e=[],i=[],n=0;n<t.length;n++)void 0!==t[n].data.end&&i.push(t[n]),e.push(t[n]);this.orderedItems={byStart:e,byEnd:i},Dw(this.orderedItems.byStart),Tw(this.orderedItems.byEnd)}},{key:"_updateItemsInRange",value:function(t,e,i){var n=[],o={};if(this.isVisible||this.groupId==Fw){var r=(i.end-i.start)/4,s=i.start-r,a=i.end+r;if(0<e.length)for(var l=0;l<e.length;l++)this._checkIfVisibleWithReference(e[l],n,o,i);r=F.binarySearchCustom(t.byStart,function(t){return t<s?-1:t<=a?0:1},"data","start");if(this._traceVisible(r,t.byStart,n,o,function(t){return t.data.start<s||t.data.start>a}),1==this.checkRangedItems){this.checkRangedItems=!1;for(var h=0;h<t.byEnd.length;h++)this._checkIfVisibleWithReference(t.byEnd[h],n,o,i)}else{r=F.binarySearchCustom(t.byEnd,function(t){var e=t.start;return t.end<s?-1:e<=a?0:1},"data");this._traceVisible(r,t.byEnd,n,o,function(t){return t.data.end<s||t.data.start>a})}for(var u={},c=0,d=0;d<n.length;d++){var p=n[d];p.displayed||(u[d]=p.redraw(!0),c=u[d].length)}if(0<c)for(var m=0;m<c;m++)(e=>{I(F).call(F,u,function(t){t[e]()})})(m);for(var f=0;f<n.length;f++)n[f].repositionX()}else for(var g=0;g<e.length;g++){var v=e[g];v.displayed&&v.hide()}return n}},{key:"_traceVisible",value:function(t,e,i,n,o){if(-1!=t){for(var r=t;0<=r;r--){var s=e[r];if(o(s))break;s.isCluster&&!s.hasItems()||s.cluster||void 0===n[s.id]&&(n[s.id]=!0,i.push(s))}for(var a=t+1;a<e.length;a++){var l=e[a];if(o(l))break;l.isCluster&&!l.hasItems()||l.cluster||void 0===n[l.id]&&(n[l.id]=!0,i.push(l))}}}},{key:"_checkIfVisible",value:function(t,e,i){t.isVisible(i)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()}},{key:"_checkIfVisibleWithReference",value:function(t,e,i,n){t.isVisible(n)?void 0===i[t.id]&&(i[t.id]=!0,e.push(t)):t.displayed&&t.hide()}},{key:"_updateClustersInRange",value:function(t,e,i){var n=[],o={};if(0<e.length)for(var r=0;r<e.length;r++)this._checkIfVisibleWithReference(e[r],n,o,i);for(var s=0;s<t.byStart.length;s++)this._checkIfVisibleWithReference(t.byStart[s],n,o,i);for(var a=0;a<t.byEnd.length;a++)this._checkIfVisibleWithReference(t.byEnd[a],n,o,i);for(var l={},h=0,u=0;u<n.length;u++){var c=n[u];c.displayed||(l[u]=c.redraw(!0),h=l[u].length)}if(0<h)for(var d=0;d<h;d++)I(F).call(F,l,function(t){t[d]()});for(var p=0;p<n.length;p++)n[p].repositionX();return n}},{key:"changeSubgroup",value:function(t,e,i){this._removeFromSubgroup(t,e),this._addToSubgroup(t,i),this.orderSubgroups()}},{key:"dispose",value:function(){var t;for(this.hide();t=this._disposeCallbacks.pop();)t()}}]),s})();function Lw(i){var n=(()=>{if("undefined"==typeof Reflect||!g)return!1;if(g.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g(Boolean,[],function(){})),!0}catch(t){return!1}})();return function(){var t,e=O(i);return bh(this,n?(t=O(this).constructor,g(e,arguments,t)):e.apply(this,arguments))}}var jw=(()=>{yh(o,Rw);var n=Lw(o);function o(t,e,i){return v(this,o),(t=n.call(this,t,e,i)).width=0,t.height=0,t.top=0,t.left=0,t}return T(o,[{key:"redraw",value:function(t,e,i){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var n=0,o=this.visibleItems.length;n<o;n++)this.visibleItems[n].repositionY(e);return!1}},{key:"show",value:function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)}}]),o})();function Bw(t,e){var i,n,o,r,s=void 0!==cd&&Fc(t)||t["@@iterator"];if(s)return n=!(i=!0),{s:function(){s=s.call(t)},n:function(){var t=s.next();return i=t.done,t},e:function(t){n=!0,o=t},f:function(){try{i||null==s.return||s.return()}finally{if(n)throw o}}};if(E(t)||(s=((t,e)=>{var i;if(t)return"string"==typeof t?zw(t,e):"Map"===(i="Object"===(i=vd(i=Object.prototype.toString.call(t)).call(i,8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Pc(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?zw(t,e):void 0})(t))||e&&t&&"number"==typeof t.length)return s&&(t=s),r=0,{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function zw(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var Hw=(()=>{function r(t,e,i){var n=this,o=(v(this,r),this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.defaultOptions={locales:Bb,locale:"en"},this.options=F.extend({},this.defaultOptions,i),this.options.locales=F.extend({},Bb,this.options.locales),this.defaultOptions.locales[this.defaultOptions.locale]);I(e=Xu(this.options.locales)).call(e,function(t){n.options.locales[t]=F.extend({},o,n.options.locales[t])}),this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.selectable=i&&i.selectable||!1,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.setSelectability(t),this.editable=null,this._updateEditStatus()}return T(r,[{key:"select",value:function(){this.selectable&&(this.selected=!0,this.dirty=!0,this.displayed)&&this.redraw()}},{key:"unselect",value:function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()}},{key:"setData",value:function(t){null!=t.group&&this.data.group!=t.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,t.group),this.setSelectability(t),this.parent&&(this.parent.stackDirty=!0),null!=t.subgroup&&this.data.subgroup!=t.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,t.subgroup),this.data=t,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()}},{key:"setSelectability",value:function(t){t&&(this.selectable=void 0===t.selectable||Boolean(t.selectable))}},{key:"setParent",value:function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t}},{key:"isVisible",value:function(t){return!1}},{key:"show",value:function(){return!1}},{key:"hide",value:function(){return!1}},{key:"redraw",value:function(){}},{key:"repositionX",value:function(){}},{key:"repositionY",value:function(){}},{key:"_repaintDragCenter",value:function(){var t,e,i;this.selected&&this.editable.updateTime&&!this.dom.dragCenter?(e=this,(i=document.createElement("div")).className="vis-drag-center",(i.dragCenterItem=this).hammerDragCenter=new Ib(i),this.hammerDragCenter.on("tap",function(t){e.parent.itemSet.body.emitter.emit("click",{event:t,item:e.id})}),this.hammerDragCenter.on("doubletap",function(t){t.stopPropagation(),e.parent.itemSet._onUpdateItem(e),e.parent.itemSet.body.emitter.emit("doubleClick",{event:t,item:e.id})}),this.hammerDragCenter.on("panstart",function(t){t.stopPropagation(),e.parent.itemSet._onDragStart(t)}),this.hammerDragCenter.on("panmove",A(t=e.parent.itemSet._onDrag).call(t,e.parent.itemSet)),this.hammerDragCenter.on("panend",A(t=e.parent.itemSet._onDragEnd).call(t,e.parent.itemSet)),this.hammerDragCenter.get("press").set({time:1e4}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(i,this.dom.dragLeft):this.dom.box.appendChild(i):this.dom.point&&this.dom.point.appendChild(i),this.dom.dragCenter=i):!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null,this.hammerDragCenter)&&(this.hammerDragCenter.destroy(),this.hammerDragCenter=null)}},{key:"_repaintDeleteButton",value:function(t){var e,i,n,o=(this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove;this.selected&&o&&!this.dom.deleteButton?(e=this,i=document.createElement("div"),this.options.rtl?i.className="vis-delete-rtl":i.className="vis-delete",(n=this.options.locales[this.options.locale])||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),n=this.options.locales.en),i.title=n.deleteSelected,this.hammerDeleteButton=new Ib(i).on("tap",function(t){t.stopPropagation(),e.parent.removeFromDataSet(e)}),t.appendChild(i),this.dom.deleteButton=i):this.selected&&o||!this.dom.deleteButton||(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null,this.hammerDeleteButton&&(this.hammerDeleteButton.destroy(),this.hammerDeleteButton=null))}},{key:"_repaintOnItemUpdateTimeTooltip",value:function(t){var e,i;this.options.tooltipOnItemUpdateTime&&(e=(this.options.editable.updateTime||!0===this.data.editable)&&!1!==this.data.editable,this.selected&&e&&!this.dom.onItemUpdateTimeTooltip?((e=document.createElement("div")).className="vis-onUpdateTime-tooltip",t.appendChild(e),this.dom.onItemUpdateTimeTooltip=e):!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null),this.dom.onItemUpdateTimeTooltip)&&(this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.dom.onItemUpdateTimeTooltip.style.transform="translateX(-50%)",this.dom.onItemUpdateTimeTooltip.style.left="50%",t=this.parent.itemSet.body.domProps.scrollTop,("top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height)+this.parent.top-50<-t?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top="".concat(this.height+2,"px")):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom="".concat(this.height+2,"px")),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?i=A(e=this.options.tooltipOnItemUpdateTime.template).call(e,this)(this.data):(i="start: ".concat(Xh(this.data.start).format("MM/DD/YYYY hh:mm")),this.data.end&&(i+="<br> end: ".concat(Xh(this.data.end).format("MM/DD/YYYY hh:mm")))),this.dom.onItemUpdateTimeTooltip.innerHTML=F.xss(i))}},{key:"_getItemData",value:function(){return this.parent.itemSet.itemsData.get(this.id)}},{key:"_updateContents",value:function(t){var e,i,n,o=this._getItemData(),r=(this.dom.box||this.dom.point).getElementsByClassName("vis-item-visible-frame")[0];if(e=this.options.visibleFrameTemplate?(i=A(i=this.options.visibleFrameTemplate).call(i,this),F.xss(i(o,r))):"",r)if(e instanceof Object&&!(e instanceof Element))i(o,r);else if(this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(e)){if(e instanceof Element)r.innerHTML="",r.appendChild(e);else if(null!=e)r.innerHTML=F.xss(e);else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '.concat(this.id));this.itemVisibleFrameContent=e}if((r=this.options.template?(n=A(i=this.options.template).call(i,this))(o,t,this.data):this.data.content)instanceof Object&&!(r instanceof Element))n(o,t);else if(this._contentToString(this.content)!==this._contentToString(r)){if(r instanceof Element)t.innerHTML="",t.appendChild(r);else if(null!=r)t.innerHTML=F.xss(r);else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '.concat(this.id));this.content=r}}},{key:"_updateDataAttributes",value:function(t){if(this.options.dataAttributes&&0<this.options.dataAttributes.length){var e=[];if(E(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=Xu(this.data)}var i,n=Bw(e);try{for(n.s();!(i=n.n()).done;){var o=i.value,r=this.data[o];null!=r?t.setAttribute("data-".concat(o),r):t.removeAttribute("data-".concat(o))}}catch(t){n.e(t)}finally{n.f()}}}},{key:"_updateStyle",value:function(t){this.style&&(F.removeCssText(t,this.style),this.style=null),this.data.style&&(F.addCssText(t,this.data.style),this.style=this.data.style)}},{key:"_contentToString",value:function(t){return"string"!=typeof t&&t&&"outerHTML"in t?t.outerHTML:t}},{key:"_updateEditStatus",value:function(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===D(this.options.editable)&&(this.editable={},F.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),this.options&&this.options.editable&&!0===this.options.editable.overrideItems||this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===D(this.data.editable)&&(this.editable={},F.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))}},{key:"getWidthLeft",value:function(){return 0}},{key:"getWidthRight",value:function(){return 0}},{key:"getTitle",value:function(){var t;return this.options.tooltip&&this.options.tooltip.template?A(t=this.options.tooltip.template).call(t,this)(this._getItemData(),this.data):this.data.title}}]),r})();function Gw(i){var n=(()=>{if("undefined"==typeof Reflect||!g)return!1;if(g.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g(Boolean,[],function(){})),!0}catch(t){return!1}})();return function(){var t,e=O(i);return bh(this,n?(t=O(this).constructor,g(e,arguments,t)):e.apply(this,arguments))}}Hw.prototype.stack=!0;ft=(()=>{yh(o,Hw);var n=Gw(o);function o(t,e,i){if(v(this,o),(e=n.call(this,t,e,i)).props={dot:{width:0,height:0},line:{width:0,height:0}},t&&null==t.start)throw new Error('Property "start" missing in item '.concat(t));return e}return T(o,[{key:"isVisible",value:function(t){var e,i;return!this.cluster&&(e=this.data.align||this.options.align,i=this.width*t.getMillisecondsPerPixel(),"right"==e?this.data.start.getTime()>t.start&&this.data.start.getTime()-i<t.end:"left"==e?this.data.start.getTime()+i>t.start&&this.data.start.getTime()<t.end:this.data.start.getTime()+i/2>t.start&&this.data.start.getTime()-i/2<t.end)}},{key:"_createDomElement",value:function(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",(this.dom.box["vis-item"]=this).dirty=!0)}},{key:"_appendDomElement",value:function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){t=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");t.appendChild(this.dom.dot)}this.displayed=!0}},{key:"_updateDirtyDomComponents",value:function(){var t;this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),t=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly"),this.dom.box.className="vis-item vis-box".concat(t),this.dom.line.className="vis-item vis-line".concat(t),this.dom.dot.className="vis-item vis-dot".concat(t))}},{key:"_getDomComponentsSizes",value:function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}}},{key:"_updateDomComponentsSizes",value:function(t){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=t.dot.height,this.props.dot.width=t.dot.width,this.props.line.width=t.line.width,this.width=t.box.width,this.height=t.box.height,this.options.rtl?this.dom.box.style.right=t.previous.right:this.dom.box.style.left=t.previous.left,this.dirty=!1}},{key:"_repaintDomAdditionals",value:function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)}},{key:"redraw",value:function(t){var e,i,n=this,o=[A(o=this._createDomElement).call(o,this),A(o=this._appendDomElement).call(o,this),A(o=this._updateDirtyDomComponents).call(o,this),function(){n.dirty&&(e=n._getDomComponentsSizes())},function(){var t;n.dirty&&A(t=n._updateDomComponentsSizes).call(t,n)(e)},A(o=this._repaintDomAdditionals).call(o,this)];return t?o:(I(o).call(o,function(t){i=t()}),i)}},{key:"show",value:function(t){if(!this.displayed)return this.redraw(t)}},{key:"hide",value:function(){var t;this.displayed&&((t=this.dom).box.remove?t.box.remove():t.box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.remove?t.line.remove():t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.remove?t.dot.remove():t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1)}},{key:"repositionXY",value:function(){var t,e=this.options.rtl;(t=function(t,e,i){var n;void 0===e&&void 0===i||(n=3<arguments.length&&void 0!==arguments[3]&&arguments[3]?-1*e:e,t.style.transform=void 0===i?"translateX(".concat(n,"px)"):void 0===e?"translateY(".concat(i,"px)"):M(t="translate(".concat(n,"px, ")).call(t,i,"px)"))})(this.dom.box,this.boxX,this.boxY,e),t(this.dom.dot,this.dotX,this.dotY,e),t(this.dom.line,this.lineX,this.lineY,e)}},{key:"repositionX",value:function(){var t=this.conversion.toScreen(this.data.start),e=(void 0===this.data.align?this.options:this.data).align,i=this.props.line.width,n=this.props.dot.width;"right"==e?(this.boxX=t-this.width,this.lineX=t-i,this.dotX=t-i/2-n/2):"left"==e?(this.boxX=t,this.lineX=t,this.dotX=t+i/2-n/2):(this.boxX=t-this.width/2,this.lineX=this.options.rtl?t-i:t-i/2,this.dotX=t-n/2),this.options.rtl?this.right=this.boxX:this.left=this.boxX,this.repositionXY()}},{key:"repositionY",value:function(){var t=this.options.orientation.item,e=this.dom.line.style;"top"==t?(t=this.parent.top+this.top+1,this.boxY=this.top||0,e.height="".concat(t,"px"),e.bottom="",e.top="0"):(t=this.parent.itemSet.props.height-this.parent.top-this.parent.height+this.top,this.boxY=this.parent.height-this.top-(this.height||0),e.height="".concat(t,"px"),e.top="",e.bottom="0"),this.dotY=-this.props.dot.height/2,this.repositionXY()}},{key:"getWidthLeft",value:function(){return this.width/2}},{key:"getWidthRight",value:function(){return this.width/2}}]),o})();function Ww(i){var n=(()=>{if("undefined"==typeof Reflect||!g)return!1;if(g.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g(Boolean,[],function(){})),!0}catch(t){return!1}})();return function(){var t,e=O(i);return bh(this,n?(t=O(this).constructor,g(e,arguments,t)):e.apply(this,arguments))}}Wi=(()=>{yh(o,Hw);var n=Ww(o);function o(t,e,i){if(v(this,o),(e=n.call(this,t,e,i)).props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},t&&null==t.start)throw new Error('Property "start" missing in item '.concat(t));return e}return T(o,[{key:"isVisible",value:function(t){var e;return!this.cluster&&(e=this.width*t.getMillisecondsPerPixel(),this.data.start.getTime()+e>t.start)&&this.data.start<t.end}},{key:"_createDomElement",value:function(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),(this.dom.point["vis-item"]=this).dirty=!0)}},{key:"_appendDomElement",value:function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.point)}this.displayed=!0}},{key:"_updateDirtyDomComponents",value:function(){var t;this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point),t=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly"),this.dom.point.className="vis-item vis-point".concat(t),this.dom.dot.className="vis-item vis-dot".concat(t))}},{key:"_getDomComponentsSizes",value:function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}}},{key:"_updateDomComponentsSizes",value:function(t){this.props.dot.width=t.dot.width,this.props.dot.height=t.dot.height,this.props.content.height=t.content.height,this.options.rtl?this.dom.content.style.marginRight="".concat(this.props.dot.width/2,"px"):this.dom.content.style.marginLeft="".concat(this.props.dot.width/2,"px"),this.width=t.point.width,this.height=t.point.height,this.dom.dot.style.top="".concat((this.height-this.props.dot.height)/2,"px");t=this.props.dot.width,t=this.options.rtl?t/2:t/2*-1;this.dom.dot.style.transform="translateX(".concat(t,"px"),this.dirty=!1}},{key:"_repaintDomAdditionals",value:function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)}},{key:"redraw",value:function(t){var e,i,n=this,o=[A(o=this._createDomElement).call(o,this),A(o=this._appendDomElement).call(o,this),A(o=this._updateDirtyDomComponents).call(o,this),function(){n.dirty&&(e=n._getDomComponentsSizes())},function(){var t;n.dirty&&A(t=n._updateDomComponentsSizes).call(t,n)(e)},A(o=this._repaintDomAdditionals).call(o,this)];return t?o:(I(o).call(o,function(t){i=t()}),i)}},{key:"repositionXY",value:function(){var t=this.options.rtl;(function(t,e,i){var n;void 0===e&&void 0===i||(n=3<arguments.length&&void 0!==arguments[3]&&arguments[3]?-1*e:e,t.style.transform=void 0===i?"translateX(".concat(n,"px)"):void 0===e?"translateY(".concat(i,"px)"):M(t="translate(".concat(n,"px, ")).call(t,i,"px)"))})(this.dom.point,this.pointX,this.pointY,t)}},{key:"show",value:function(t){if(!this.displayed)return this.redraw(t)}},{key:"hide",value:function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)}},{key:"repositionX",value:function(){var t=this.conversion.toScreen(this.data.start);this.pointX=t,this.options.rtl?this.right=t-this.props.dot.width:this.left=t-this.props.dot.width,this.repositionXY()}},{key:"repositionY",value:function(){var t=this.options.orientation.item;this.pointY="top"==t?this.top:this.parent.height-this.top-this.height,this.repositionXY()}},{key:"getWidthLeft",value:function(){return this.props.dot.width}},{key:"getWidthRight",value:function(){return this.props.dot.width}}]),o})();function Yw(i){var n=(()=>{if("undefined"==typeof Reflect||!g)return!1;if(g.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g(Boolean,[],function(){})),!0}catch(t){return!1}})();return function(){var t,e=O(i);return bh(this,n?(t=O(this).constructor,g(e,arguments,t)):e.apply(this,arguments))}}var Vw=(()=>{yh(o,Hw);var n=Yw(o);function o(t,e,i){if(v(this,o),(e=n.call(this,t,e,i)).props={content:{width:0}},e.overflow=!1,t){if(null==t.start)throw new Error('Property "start" missing in item '.concat(t.id));if(null==t.end)throw new Error('Property "end" missing in item '.concat(t.id))}return e}return T(o,[{key:"isVisible",value:function(t){return!this.cluster&&this.data.start<t.end&&this.data.end>t.start}},{key:"_createDomElement",value:function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),(this.dom.box["vis-item"]=this).dirty=!0)}},{key:"_appendDomElement",value:function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}this.displayed=!0}},{key:"_updateDirtyDomComponents",value:function(){var t;this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),t=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly"),this.dom.box.className=this.baseClassName+t,this.dom.content.style.maxWidth="none")}},{key:"_getDomComponentsSizes",value:function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow,this.whiteSpace="nowrap"!==window.getComputedStyle(this.dom.content).whiteSpace,{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}}},{key:"_updateDomComponentsSizes",value:function(t){this.props.content.width=t.content.width,this.height=t.box.height,this.dom.content.style.maxWidth="",this.dirty=!1}},{key:"_repaintDomAdditionals",value:function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()}},{key:"redraw",value:function(t){var e,i,n=this,o=[A(o=this._createDomElement).call(o,this),A(o=this._appendDomElement).call(o,this),A(o=this._updateDirtyDomComponents).call(o,this),function(){var t;n.dirty&&(e=A(t=n._getDomComponentsSizes).call(t,n)())},function(){var t;n.dirty&&A(t=n._updateDomComponentsSizes).call(t,n)(e)},A(o=this._repaintDomAdditionals).call(o,this)];return t?o:(I(o).call(o,function(t){i=t()}),i)}},{key:"show",value:function(t){if(!this.displayed)return this.redraw(t)}},{key:"hide",value:function(){var t;this.displayed&&((t=this.dom.box).parentNode&&t.parentNode.removeChild(t),this.displayed=!1)}},{key:"repositionX",value:function(t){var e=this.parent.width,i=this.conversion.toScreen(this.data.start),n=this.conversion.toScreen(this.data.end),o=(void 0===this.data.align?this.options:this.data).align,r=(!1===this.data.limitSize||void 0!==t&&!0!==t||(i<-e&&(i=-e),2*e<n&&(n=2*e)),Math.max(Math.round(1e3*(n-i))/1e3,1)),s=this.overflow?(this.options.rtl?this.right=i:this.left=i,this.width=r+this.props.content.width,this.props.content.width):(this.options.rtl?this.right=i:this.left=i,this.width=r,Math.min(n-i,this.props.content.width));switch(this.options.rtl?this.dom.box.style.transform="translateX(".concat(-1*this.right,"px)"):this.dom.box.style.transform="translateX(".concat(this.left,"px)"),this.dom.box.style.width="".concat(r,"px"),this.whiteSpace&&(this.height=this.dom.box.offsetHeight),o){case"left":this.dom.content.style.transform="translateX(0)";break;case"right":this.options.rtl?(a=-1*Math.max(r-s,0),this.dom.content.style.transform="translateX(".concat(a,"px)")):this.dom.content.style.transform="translateX(".concat(Math.max(r-s,0),"px)");break;case"center":this.options.rtl?(a=-1*Math.max((r-s)/2,0),this.dom.content.style.transform="translateX(".concat(a,"px)")):this.dom.content.style.transform="translateX(".concat(Math.max((r-s)/2,0),"px)");break;default:var a=this.overflow?0<n?Math.max(-i,0):-s:i<0?-i:0;this.options.rtl?this.dom.content.style.transform="translateX(".concat(-1*a,"px)"):this.dom.content.style.transform="translateX(".concat(a,"px)")}}},{key:"repositionY",value:function(){var t=this.options.orientation.item,e=this.dom.box;e.style.top="".concat("top"==t?this.top:this.parent.height-this.top-this.height,"px")}},{key:"_repaintDragLeft",value:function(){var t;(this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragLeft?((t=document.createElement("div")).className="vis-drag-left",(t.dragLeftItem=this).dom.box.appendChild(t),this.dom.dragLeft=t):this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragLeft||(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)}},{key:"_repaintDragRight",value:function(){var t;(this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragRight?((t=document.createElement("div")).className="vis-drag-right",(t.dragRightItem=this).dom.box.appendChild(t),this.dom.dragRight=t):this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragRight||(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)}}]),o})();function Uw(i){var n=(()=>{if("undefined"==typeof Reflect||!g)return!1;if(g.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g(Boolean,[],function(){})),!0}catch(t){return!1}})();return function(){var t,e=O(i);return bh(this,n?(t=O(this).constructor,g(e,arguments,t)):e.apply(this,arguments))}}Vw.prototype.baseClassName="vis-item vis-range";var Xw=(()=>{yh(o,Hw);var n=Uw(o);function o(t,e,i){if(v(this,o),(e=n.call(this,t,e,i)).props={content:{width:0}},e.overflow=!1,t){if(null==t.start)throw new Error('Property "start" missing in item '.concat(t.id));if(null==t.end)throw new Error('Property "end" missing in item '.concat(t.id))}return e}return T(o,[{key:"isVisible",value:function(t){return this.data.start<t.end&&this.data.end>t.start}},{key:"_createDomElement",value:function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)}},{key:"_appendDomElement",value:function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.background;if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(this.dom.box)}this.displayed=!0}},{key:"_updateDirtyDomComponents",value:function(){var t;this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box),t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":""),this.dom.box.className=this.baseClassName+t)}},{key:"_getDomComponentsSizes",value:function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow,{content:{width:this.dom.content.offsetWidth}}}},{key:"_updateDomComponentsSizes",value:function(t){this.props.content.width=t.content.width,this.height=0,this.dirty=!1}},{key:"_repaintDomAdditionals",value:function(){}},{key:"redraw",value:function(t){var e,i,n=this,o=[A(o=this._createDomElement).call(o,this),A(o=this._appendDomElement).call(o,this),A(o=this._updateDirtyDomComponents).call(o,this),function(){var t;n.dirty&&(e=A(t=n._getDomComponentsSizes).call(t,n)())},function(){var t;n.dirty&&A(t=n._updateDomComponentsSizes).call(t,n)(e)},A(o=this._repaintDomAdditionals).call(o,this)];return t?o:(I(o).call(o,function(t){i=t()}),i)}},{key:"repositionY",value:function(t){var e,i,n=this.options.orientation.item;void 0!==this.data.subgroup?(i=this.data.subgroup,this.dom.box.style.height="".concat(this.parent.subgroups[i].height,"px"),this.dom.box.style.top="".concat("top"==n?this.parent.top+this.parent.subgroups[i].top:this.parent.top+this.parent.height-this.parent.subgroups[i].top-this.parent.subgroups[i].height,"px"),this.dom.box.style.bottom=""):this.parent instanceof jw?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==n?"0":"",this.dom.box.style.top="top"==n?"0":""):(e=this.parent.height,this.dom.box.style.top="".concat(this.parent.top,"px"),this.dom.box.style.bottom=""),this.dom.box.style.height="".concat(e,"px")}}]),o})(),qw=(Xw.prototype.baseClassName="vis-item vis-background",Xw.prototype.stack=!1,Xw.prototype.show=Vw.prototype.show,Xw.prototype.hide=Vw.prototype.hide,Xw.prototype.repositionX=Vw.prototype.repositionX,(()=>{function i(t,e){v(this,i),this.container=t,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return T(i,[{key:"setPosition",value:function(t,e){this.x=Jp(t),this.y=Jp(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=F.xss(t)}},{key:"show",value:function(t){var e,i,n,o,r,s,a;!0===(t=void 0===t?!0:t)?(t=this.frame.clientHeight,e=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,n=this.frame.parentNode.clientWidth,a=s=0,"flip"==this.overflowMethod||"none"==this.overflowMethod?(r=!(o=!1),s=(o="flip"==this.overflowMethod&&(this.y-t<this.padding&&(r=!1),this.x+e>n-this.padding)?!0:o)?this.x-e:this.x,a=r?this.y-t:this.y):((a=(a=this.y-t)+t+this.padding>i?i-t-this.padding:a)<this.padding&&(a=this.padding),(s=(s=this.x)+e+this.padding>n?n-e-this.padding:s)<this.padding&&(s=this.padding)),this.frame.style.left=s+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1):this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),i})()),Kw={},us={get exports(){return Kw},set exports(t){Kw=t}},Xt=r,$w=Nr.every;Xt({target:"Array",proto:!0,forced:!Rh("every")},{every:function(t){return $w(this,t,1<arguments.length?arguments[1]:void 0)}});var Ao=ah("Array").every,Zw=u,Qw=Ao,Jw=Array.prototype,t1=(us.exports=function(t){var e=t.every;return t===Jw||Zw(Jw,t)&&e===Jw.every?Qw:e},e(Kw));function e1(t,e){var i,n,o,r,s=void 0!==cd&&Fc(t)||t["@@iterator"];if(s)return n=!(i=!0),{s:function(){s=s.call(t)},n:function(){var t=s.next();return i=t.done,t},e:function(t){n=!0,o=t},f:function(){try{i||null==s.return||s.return()}finally{if(n)throw o}}};if(E(t)||(s=((t,e)=>{var i;if(t)return"string"==typeof t?i1(t,e):"Map"===(i="Object"===(i=vd(i=Object.prototype.toString.call(t)).call(i,8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Pc(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?i1(t,e):void 0})(t))||e&&t&&"number"==typeof t.length)return s&&(t=s),r=0,{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i1(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function n1(i){var n=(()=>{if("undefined"==typeof Reflect||!g)return!1;if(g.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g(Boolean,[],function(){})),!0}catch(t){return!1}})();return function(){var t,e=O(i);return bh(this,n?(t=O(this).constructor,g(e,arguments,t)):e.apply(this,arguments))}}var o1=(()=>{yh(o,Hw);var n=n1(o);function o(t,e,i){v(this,o);i=up({},{fitOnDoubleClick:!0},i,{editable:!1}),e=n.call(this,t,e,i);if(e.props={content:{width:0,height:0}},t&&null!=t.uiItems)return e.id=uy(),e.group=t.group,e._setupRange(),e.emitter=e.data.eventEmitter,e.range=e.data.range,e.attached=!1,e.isCluster=!0,e.data.isCluster=!0,e;throw new Error('Property "uiItems" missing in item '+t.id)}return T(o,[{key:"hasItems",value:function(){return this.data.uiItems&&this.data.uiItems.length&&this.attached}},{key:"setUiItems",value:function(t){this.detach(),this.data.uiItems=t,this._setupRange(),this.attach()}},{key:"isVisible",value:function(t){var e=this.data.end?this.data.end-this.data.start:0,i=this.width*t.getMillisecondsPerPixel(),e=Math.max(this.data.start.getTime()+e,this.data.start.getTime()+i);return this.data.start<t.end&&e>t.start&&this.hasItems()}},{key:"getData",value:function(){return{isCluster:!0,id:this.id,items:this.data.items||[],data:this.data}}},{key:"redraw",value:function(t){var e,i,n=[A(n=this._createDomElement).call(n,this),A(n=this._appendDomElement).call(n,this),A(n=this._updateDirtyDomComponents).call(n,this),A(n=function(){this.dirty&&(e=this._getDomComponentsSizes())}).call(n,this),A(n=function(){var t;this.dirty&&A(t=this._updateDomComponentsSizes).call(t,this)(e)}).call(n,this),A(n=this._repaintDomAdditionals).call(n,this)];return t?n:(I(n).call(n,function(t){i=t()}),i)}},{key:"show",value:function(){this.displayed||this.redraw()}},{key:"hide",value:function(){var t;this.displayed&&((t=this.dom).box.parentNode&&t.box.parentNode.removeChild(t.box),this.options.showStipes&&(t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode)&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1)}},{key:"repositionX",value:function(){var t,e=this.conversion.toScreen(this.data.start),i=this.data.end?this.conversion.toScreen(this.data.end):0;i?this.repositionXWithRanges(e,i):(t=(void 0===this.data.align?this.options:this.data).align,this.repositionXWithoutRanges(e,t)),this.options.showStipes&&(this.dom.line.style.display=this._isStipeVisible()?"block":"none",this.dom.dot.style.display=this._isStipeVisible()?"block":"none",this._isStipeVisible())&&this.repositionStype(e,i)}},{key:"repositionStype",value:function(t,e){this.dom.line.style.display="block",this.dom.dot.style.display="block";var i=this.dom.line.offsetWidth,n=this.dom.dot.offsetWidth;e?(e=(i=i+t+(e-t)/2)-n/2,i=this.options.rtl?-1*i:i,e=this.options.rtl?-1*e:e,this.dom.line.style.transform="translateX(".concat(i,"px)"),this.dom.dot.style.transform="translateX(".concat(e,"px)")):(i=this.options.rtl?-1*t:t,e=this.options.rtl?-1*(t-n/2):t-n/2,this.dom.line.style.transform="translateX(".concat(i,"px)"),this.dom.dot.style.transform="translateX(".concat(e,"px)"))}},{key:"repositionXWithoutRanges",value:function(t,e){"right"==e?this.options.rtl?(this.right=t-this.width,this.dom.box.style.right=this.right+"px"):(this.left=t-this.width,this.dom.box.style.left=this.left+"px"):"left"==e?this.options.rtl?(this.right=t,this.dom.box.style.right=this.right+"px"):(this.left=t,this.dom.box.style.left=this.left+"px"):this.options.rtl?(this.right=t-this.width/2,this.dom.box.style.right=this.right+"px"):(this.left=t-this.width/2,this.dom.box.style.left=this.left+"px")}},{key:"repositionXWithRanges",value:function(t,e){e=Math.round(Math.max(e-t+.5,1));this.options.rtl?this.right=t:this.left=t,this.width=Math.max(e,this.minWidth||0),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=e+"px"}},{key:"repositionY",value:function(){var t=this.options.orientation.item,e=this.dom.box;e.style.top="top"==t?(this.top||0)+"px":(this.parent.height-this.top-this.height||0)+"px",this.options.showStipes&&("top"==t?(this.dom.line.style.top="0",this.dom.line.style.height=this.parent.top+this.top+1+"px",this.dom.line.style.bottom=""):(t=(e=this.parent.itemSet.props.height)-this.parent.top-this.parent.height+this.top,this.dom.line.style.top=e-t+"px",this.dom.line.style.bottom="0"),this.dom.dot.style.top=-this.dom.dot.offsetHeight/2+"px")}},{key:"getWidthLeft",value:function(){return this.width/2}},{key:"getWidthRight",value:function(){return this.width/2}},{key:"move",value:function(){this.repositionX(),this.repositionY()}},{key:"attach",value:function(){var t,e,i=e1(this.data.uiItems);try{for(i.s();!(e=i.n()).done;)e.value.cluster=this}catch(t){i.e(t)}finally{i.f()}this.data.items=Ou(t=this.data.uiItems).call(t,function(t){return t.data}),this.attached=!0,this.dirty=!0}},{key:"detach",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(this.hasItems()){var e,i=e1(this.data.uiItems);try{for(i.s();!(e=i.n()).done;)delete e.value.cluster}catch(t){i.e(t)}finally{i.f()}this.attached=!1,t&&this.group&&(this.group.remove(this),this.group=null),this.data.items=[],this.dirty=!0}}},{key:"_onDoubleClick",value:function(){this._fit()}},{key:"_setupRange",value:function(){var t,e=Ou(e=this.data.uiItems).call(e,function(t){return{start:t.data.start.valueOf(),end:(t.data.end||t.data.start).valueOf()}}),e=(this.data.min=Math.min.apply(Math,hd(Ou(e).call(e,function(t){return Math.min(t.start,t.end||t.start)}))),this.data.max=Math.max.apply(Math,hd(Ou(e).call(e,function(t){return Math.max(t.start,t.end||t.start)}))),Ou(e=this.data.uiItems).call(e,function(t){return t.center})),e=Bu(e).call(e,function(t,e){return t+e},0)/this.data.uiItems.length;Tb(t=this.data.uiItems).call(t,function(t){return t.data.end})?(this.data.start=new Date(this.data.min),this.data.end=new Date(this.data.max)):(this.data.start=new Date(e),this.data.end=null)}},{key:"_getUiItems",value:function(){var t,e=this;return this.data.uiItems&&this.data.uiItems.length?P(t=this.data.uiItems).call(t,function(t){return t.cluster===e}):[]}},{key:"_createDomElement",value:function(){var t;this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.options.showStipes&&(this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-cluster-line",this.dom.line.style.display="none",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-cluster-dot",this.dom.dot.style.display="none"),this.options.fitOnDoubleClick&&(this.dom.box.ondblclick=A(t=o.prototype._onDoubleClick).call(t,this)),(this.dom.box["vis-item"]=this).dirty=!0)}},{key:"_appendDomElement",value:function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}t=this.parent.dom.background;if(this.options.showStipes){if(!this.dom.line.parentNode){if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var e=this.parent.dom.axis;if(!t)throw new Error("Cannot redraw item: parent has no axis container element");e.appendChild(this.dom.dot)}}this.displayed=!0}},{key:"_updateDirtyDomComponents",value:function(){var t;this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),t=this.baseClassName+" "+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+" vis-readonly",this.dom.box.className="vis-item "+t,this.options.showStipes&&(this.dom.line.className="vis-item vis-cluster-line "+(this.selected?" vis-selected":""),this.dom.dot.className="vis-item vis-cluster-dot "+(this.selected?" vis-selected":"")),this.data.end)&&(this.dom.content.style.maxWidth="none")}},{key:"_getDomComponentsSizes",value:function(){var t={previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}};return this.options.showStipes&&(t.dot={height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},t.line={width:this.dom.line.offsetWidth}),t}},{key:"_updateDomComponentsSizes",value:function(t){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.data.end?this.minWidth=t.box.width:this.width=t.box.width,this.height=t.box.height,this.options.rtl?this.dom.box.style.right=t.previous.right:this.dom.box.style.left=t.previous.left,this.dirty=!1}},{key:"_repaintDomAdditionals",value:function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box)}},{key:"_isStipeVisible",value:function(){return this.minWidth>=this.width||!this.data.end}},{key:"_getFitRange",value:function(){var t=.05*(this.data.max-this.data.min)/2;return{fitStart:this.data.min-t,fitEnd:this.data.max+t}}},{key:"_fit",value:function(){var t,e;this.emitter&&(e=(t=this._getFitRange()).fitStart,t=t.fitEnd,e={start:new Date(e),end:new Date(t),animation:!0},this.emitter.emit("fit",e))}},{key:"_getItemData",value:function(){return this.data}}]),o})();function r1(t,e){var i,n,o,r,s=void 0!==cd&&Fc(t)||t["@@iterator"];if(s)return n=!(i=!0),{s:function(){s=s.call(t)},n:function(){var t=s.next();return i=t.done,t},e:function(t){n=!0,o=t},f:function(){try{i||null==s.return||s.return()}finally{if(n)throw o}}};if(E(t)||(s=((t,e)=>{var i;if(t)return"string"==typeof t?s1(t,e):"Map"===(i="Object"===(i=vd(i=Object.prototype.toString.call(t)).call(i,8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Pc(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s1(t,e):void 0})(t))||e&&t&&"number"==typeof t.length)return s&&(t=s),r=0,{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s1(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}o1.prototype.baseClassName="vis-item vis-range vis-cluster";var a1="__ungrouped__",l1=(()=>{function e(t){v(this,e),this.itemSet=t,this.groups={},this.cache={},this.cache[-1]=[]}return T(e,[{key:"createClusterItem",value:function(t,e,i){return new o1(t,e,i)}},{key:"setItems",value:function(t,e){this.items=t||[],this.dataChanged=!0,this.applyOnChangedLevel=!1,e&&e.applyOnChangedLevel&&(this.applyOnChangedLevel=e.applyOnChangedLevel)}},{key:"updateData",value:function(){this.dataChanged=!0,this.applyOnChangedLevel=!1}},{key:"getClusters",value:function(t,e,i){var n="boolean"==typeof i?{}:i,o=n.maxItems,r=(r=n.clusterCriteria)||function(){return!0},o=o||1,n=-1,s=0;if(0<e){if(1<=e)return[];n=Math.abs(Math.round(Math.log(100/e)/Math.log(2))),s=Math.abs(Math.pow(2,n))}this.dataChanged&&(e=n!=this.cacheLevel,!this.applyOnChangedLevel||e)&&(this._dropLevelsCache(),this._filterData()),this.cacheLevel=n;var a=this.cache[n];if(!a){for(var l in a=[],this.groups)if(this.groups.hasOwnProperty(l))for(var h=this.groups[l],u=h.length,c=0;c<u;){for(var d=h[c],p=1,m=c-1;0<=m&&d.center-h[m].center<s/2;)!h[m].cluster&&r(d.data,h[m].data)&&p++,m--;for(var f=c+1;f<h.length&&h[f].center-d.center<s/2;)r(d.data,h[f].data)&&p++,f++;for(var g=a.length-1;0<=g&&d.center-a[g].center<s;)d.group==a[g].group&&r(d.data,a[g].data)&&p++,g--;if(o<p){for(var v=p-o+1,y=[],b=c;y.length<v&&b<h.length;)r(h[c].data,h[b].data)&&y.push(h[b]),b++;var w=this.itemSet.getGroupId(d.data),w=this.itemSet.groups[w]||this.itemSet.groups[a1],w=this._getClusterForItems(y,w,t,i);a.push(w),c+=v}else delete d.cluster,c+=1}this.cache[n]=a}return a}},{key:"_filterData",value:function(){var t={};this.groups=t;for(var e,i,n=0,o=zp(this.items);n<o.length;n++){var r=o[n],s=r.parent?r.parent.groupId:"",a=t[s];a||(t[s]=a=[]),a.push(r),r.data.start&&(r.data.end?r.center=(r.data.start.valueOf()+r.data.end.valueOf())/2:r.center=r.data.start.valueOf())}for(e in t)t.hasOwnProperty(e)&&rb(i=t[e]).call(i,function(t,e){return t.center-e.center});this.dataChanged=!1}},{key:"_getClusterForItems",value:function(t,e,i,n){var o,r,s,i=Ou(i=i||[]).call(i,function(t){return{cluster:t,itemsIds:new fw(Ou(t=t.data.uiItems).call(t,function(t){return t.id}))}});if(i.length){var a,l=r1(i);try{for(l.s();!(a=l.n()).done;)if("break"===(()=>{var e=a.value;if(e.itemsIds.size===t.length&&t1(t).call(t,function(t){return e.itemsIds.has(t.id)}))return s=e.cluster,"break"})())break}catch(t){l.e(t)}finally{l.f()}}return s?(s.setUiItems(t),s.group!==e&&(s.group&&s.group.remove(s),e)&&(e.add(s),s.group=e)):(i=n.titleTemplate||"",o={toScreen:this.itemSet.body.util.toScreen,toTime:this.itemSet.body.util.toTime},r='<div title="'+(i=i.replace(/{count}/,t.length))+'">'+t.length+"</div>",n=up({},n,this.itemSet.options),r={content:r,title:i,group:e,uiItems:t,eventEmitter:this.itemSet.body.emitter,range:this.itemSet.body.range},s=this.createClusterItem(r,o,n),e&&(e.add(s),s.group=e),s.attach()),s}},{key:"_dropLevelsCache",value:function(){this.cache={},this.cacheLevel=-1,this.cache[this.cacheLevel]=[]}}]),e})();function h1(t,e){var i,n,o,r,s=void 0!==cd&&Fc(t)||t["@@iterator"];if(s)return n=!(i=!0),{s:function(){s=s.call(t)},n:function(){var t=s.next();return i=t.done,t},e:function(t){n=!0,o=t},f:function(){try{i||null==s.return||s.return()}finally{if(n)throw o}}};if(E(t)||(s=((t,e)=>{var i;if(t)return"string"==typeof t?u1(t,e):"Map"===(i="Object"===(i=vd(i=Object.prototype.toString.call(t)).call(i,8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Pc(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?u1(t,e):void 0})(t))||e&&t&&"number"==typeof t.length)return s&&(t=s),r=0,{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u1(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function c1(i){var n=(()=>{if("undefined"==typeof Reflect||!g)return!1;if(g.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g(Boolean,[],function(){})),!0}catch(t){return!1}})();return function(){var t,e=O(i);return bh(this,n?(t=O(this).constructor,g(e,arguments,t)):e.apply(this,arguments))}}var d1,p1="__ungrouped__",m1="__background__",f1=(()=>{yh(u,Oy);var n=c1(u);function u(t,e){v(this,u),(i=n.call(this)).body=t,i.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(t,e,i){var n=e.order;e.order=t.order,t.order=n},groupOrder:"order",selectable:!0,multiselect:!1,longSelectPressTime:251,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:Mb.snap,onDropObjectOnItem:function(t,e,i){i(e)},onAdd:function(t,e){e(t)},onUpdate:function(t,e){e(t)},onMove:function(t,e){e(t)},onRemove:function(t,e){e(t)},onMoving:function(t,e){e(t)},onAddGroup:function(t,e){e(t)},onMoveGroup:function(t,e){e(t)},onRemoveGroup:function(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:500},tooltipOnItemUpdateTime:!1},i.options=F.extend({},i.defaultOptions),i.options.rtl=e.rtl,i.options.onTimeout=e.onTimeout,i.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},i.dom={},i.props={},i.hammer=null;var i,r=Jl(i);return i.itemsData=null,i.groupsData=null,i.itemsSettingTime=null,i.initialItemSetDrawn=!1,i.userContinueNotBail=null,i.sequentialSelection=!1,i.itemListeners={add:function(t,e,i){r._onAdd(e.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()},update:function(t,e,i){r._onUpdate(e.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()},remove:function(t,e,i){r._onRemove(e.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()}},i.groupListeners={add:function(t,e,n){var o;r._onAddGroups(e.items),r.groupsData&&0<r.groupsData.length&&(o=r.groupsData.getDataSet(),I(e=o.get()).call(e,function(e){var t,i;e.nestedGroups&&(0!=e.showNested&&(e.showNested=!0),i=[],I(t=e.nestedGroups).call(t,function(t){t=o.get(t);t&&(t.nestedInGroup=e.id,0==e.showNested&&(t.visible=!1),i=M(i).call(i,t))}),o.update(i,n))}))},update:function(t,e,i){r._onUpdateGroups(e.items)},remove:function(t,e,i){r._onRemoveGroups(e.items)}},i.items={},i.groups={},i.groupIds=[],i.selection=[],i.popup=null,i.popupTimer=null,i.touchParams={},i.groupTouchParams={group:null,isDragging:!1},i._create(),i.setOptions(e),i.clusters=[],i}return T(u,[{key:"_create",value:function(){var e=this,t=document.createElement("div"),i=(t.className="vis-itemset",(t["vis-itemset"]=this).dom.frame=t,document.createElement("div")),i=(i.className="vis-background",t.appendChild(i),this.dom.background=i,document.createElement("div")),t=(i.className="vis-foreground",t.appendChild(i),this.dom.foreground=i,document.createElement("div")),i=(t.className="vis-axis",this.dom.axis=t,document.createElement("div")),t=(i.className="vis-labelset",this.dom.labelSet=i,this._updateUngrouped(),new jw(m1,null,this));t.show(),this.groups[m1]=t,this.hammer=new Ib(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(t){t.isFirst&&e._onTouch(t)}),this.hammer.on("panstart",A(i=this._onDragStart).call(i,this)),this.hammer.on("panmove",A(t=this._onDrag).call(t,this)),this.hammer.on("panend",A(i=this._onDragEnd).call(i,this)),this.hammer.get("pan").set({threshold:5,direction:Ib.ALL}),this.hammer.get("press").set({time:1e4}),this.hammer.on("tap",A(t=this._onSelectItem).call(t,this)),this.hammer.on("press",A(i=this._onMultiSelectItem).call(i,this)),this.hammer.get("press").set({time:1e4}),this.hammer.on("doubletap",A(t=this._onAddItem).call(t,this)),this.options.rtl?this.groupHammer=new Ib(this.body.dom.rightContainer):this.groupHammer=new Ib(this.body.dom.leftContainer),this.groupHammer.on("tap",A(i=this._onGroupClick).call(i,this)),this.groupHammer.on("panstart",A(t=this._onGroupDragStart).call(t,this)),this.groupHammer.on("panmove",A(i=this._onGroupDrag).call(i,this)),this.groupHammer.on("panend",A(t=this._onGroupDragEnd).call(t,this)),this.groupHammer.get("pan").set({threshold:5,direction:Ib.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",A(i=this._onMouseOver).call(i,this)),this.body.dom.centerContainer.addEventListener("mouseout",A(t=this._onMouseOut).call(t,this)),this.body.dom.centerContainer.addEventListener("mousemove",A(i=this._onMouseMove).call(i,this)),this.body.dom.centerContainer.addEventListener("contextmenu",A(t=this._onDragEnd).call(t,this)),this.body.dom.centerContainer.addEventListener("mousewheel",A(i=this._onMouseWheel).call(i,this)),this.show()}},{key:"setOptions",value:function(n){var t,o=this;n&&(F.selectiveExtend(["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","sequentialSelection","multiselectPerGroup","longSelectPressTime","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime","groupHeightMode","onTimeout"],this.options,n),"itemsAlwaysDraggable"in n&&("boolean"==typeof n.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=n.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===D(n.itemsAlwaysDraggable)&&(F.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,n.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"sequentialSelection"in n&&"boolean"==typeof n.sequentialSelection&&(this.options.sequentialSelection=n.sequentialSelection),"orientation"in n&&("string"==typeof n.orientation?this.options.orientation.item="top"===n.orientation?"top":"bottom":"object"===D(n.orientation)&&"item"in n.orientation&&(this.options.orientation.item=n.orientation.item)),"margin"in n&&("number"==typeof n.margin?(this.options.margin.axis=n.margin,this.options.margin.item.horizontal=n.margin,this.options.margin.item.vertical=n.margin):"object"===D(n.margin)&&(F.selectiveExtend(["axis"],this.options.margin,n.margin),"item"in n.margin)&&("number"==typeof n.margin.item?(this.options.margin.item.horizontal=n.margin.item,this.options.margin.item.vertical=n.margin.item):"object"===D(n.margin.item)&&F.selectiveExtend(["horizontal","vertical"],this.options.margin.item,n.margin.item))),I(t=["locale","locales"]).call(t,function(t){t in n&&(o.options[t]=n[t])}),"editable"in n&&("boolean"==typeof n.editable?(this.options.editable.updateTime=n.editable,this.options.editable.updateGroup=n.editable,this.options.editable.add=n.editable,this.options.editable.remove=n.editable,this.options.editable.overrideItems=!1):"object"===D(n.editable)&&F.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,n.editable)),"groupEditable"in n&&("boolean"==typeof n.groupEditable?(this.options.groupEditable.order=n.groupEditable,this.options.groupEditable.add=n.groupEditable,this.options.groupEditable.remove=n.groupEditable):"object"===D(n.groupEditable)&&F.selectiveExtend(["order","add","remove"],this.options.groupEditable,n.groupEditable)),I(t=["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"]).call(t,function(t){var e,i=n[t];if(i){if("function"!=typeof i)throw new Error(M(e="option ".concat(t," must be a function ")).call(e,t,"(item, callback)"));o.options[t]=i}}),n.cluster?(up(this.options,{cluster:n.cluster}),this.clusterGenerator||(this.clusterGenerator=new l1(this)),this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.clusterGenerator?(this._detachAllClusters(),this.clusters=[],this.clusterGenerator=null,this.options.cluster=void 0,this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.markDirty())}},{key:"markDirty",value:function(t){this.groupIds=[],t&&(t.refreshItems&&I(F).call(F,this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()}),t.restackGroups)&&I(F).call(F,this.groups,function(t,e){e!==m1&&(t.stackDirty=!0)})}},{key:"destroy",value:function(){this.clearPopupTimer(),this.hide(),this.setItems(null),this.setGroups(null),this.hammer&&this.hammer.destroy(),this.groupHammer&&this.groupHammer.destroy(),this.hammer=null,this.body=null,this.conversion=null}},{key:"hide",value:function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)}},{key:"show",value:function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right:this.body.dom.left).appendChild(this.dom.labelSet)}},{key:"setPopupTimer",value:function(t){var e;this.clearPopupTimer(),t&&(e=this.options.tooltip.delay||"number"==typeof this.options.tooltip.delay?this.options.tooltip.delay:500,this.popupTimer=Lh(function(){t.show()},e))}},{key:"clearPopupTimer",value:function(){null!=this.popupTimer&&(clearTimeout(this.popupTimer),this.popupTimer=null)}},{key:"setSelection",value:function(e){var t;E(e=null==e?[]:e)||(e=[e]);var i,n=h1(P(t=this.selection).call(t,function(t){return-1===N(e).call(e,t)}));try{for(n.s();!(i=n.n()).done;){var o=i.value,r=this.getItemById(o);r&&r.unselect()}}catch(t){n.e(t)}finally{n.f()}this.selection=hd(e);var s,a=h1(e);try{for(a.s();!(s=a.n()).done;){var l=s.value,h=this.getItemById(l);h&&h.select()}}catch(t){a.e(t)}finally{a.f()}}},{key:"getSelection",value:function(){var t;return M(t=this.selection).call(t,[])}},{key:"getVisibleItems",value:function(){var t,e,i,n=this.body.range.getRange(),o=(this.options.rtl?(t=this.body.util.toScreen(n.start),e=this.body.util.toScreen(n.end)):(e=this.body.util.toScreen(n.start),t=this.body.util.toScreen(n.end)),[]);for(i in this.groups)if(this.groups.hasOwnProperty(i)){var r,s=this.groups[i],a=h1(s.isVisible?s.visibleItems:[]);try{for(a.s();!(r=a.n()).done;){var l=r.value;this.options.rtl?l.right<e&&l.right+l.width>t&&o.push(l.id):l.left<t&&l.left+l.width>e&&o.push(l.id)}}catch(t){a.e(t)}finally{a.f()}}return o}},{key:"getItemsAtCurrentTime",value:function(t){this.options.rtl?(e=this.body.util.toScreen(t),i=this.body.util.toScreen(t)):(i=this.body.util.toScreen(t),e=this.body.util.toScreen(t));var e,i,n,o=[];for(n in this.groups)if(this.groups.hasOwnProperty(n)){var r,s=this.groups[n],a=h1(s.isVisible?s.visibleItems:[]);try{for(a.s();!(r=a.n()).done;){var l=r.value;this.options.rtl?l.right<i&&l.right+l.width>e&&o.push(l.id):l.left<e&&l.left+l.width>i&&o.push(l.id)}}catch(t){a.e(t)}finally{a.f()}}return o}},{key:"getVisibleGroups",value:function(){var t,e=[];for(t in this.groups)this.groups.hasOwnProperty(t)&&this.groups[t].isVisible&&e.push(t);return e}},{key:"getItemById",value:function(e){var t;return this.items[e]||e0(t=this.clusters).call(t,function(t){return t.id===e})}},{key:"_deselect",value:function(t){for(var e=this.selection,i=0,n=e.length;i<n;i++)if(e[i]==t){Qd(e).call(e,i,1);break}}},{key:"redraw",value:function(){var t=this.options.margin,i=this.body.range,e=F.option.asSize,n=this.options,o=n.orientation.item,r=!1,s=this.dom.frame,a=(this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,s.className="vis-itemset",this.options.cluster&&this._clusterItems(),r=this._orderGroups()||r,i.end-i.start),l=a!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,h=i.start!=this.lastRangeStart,u=n.stack!=this.lastStack,c=n.stackSubgroups!=this.lastStackSubgroups,d=l||h||u||c,p=(this.lastVisibleInterval=a,this.lastRangeStart=i.start,this.lastStack=n.stack,this.lastStackSubgroups=n.stackSubgroups,this.props.lastWidth=this.props.width,this._firstGroup()),m={item:t.item,axis:t.axis},f={item:t.item,axis:t.item.vertical/2},g=0,l=t.axis+t.item.vertical,v=(this.groups[m1].redraw(i,f,d),{}),y=0;if(I(F).call(F,this.groups,function(t,e){e!==m1&&(v[e]=t.redraw(i,t==p?m:f,d,!0),y=v[e].length)}),0<y){for(var b={},w=0;w<y;w++)(i=>{I(F).call(F,v,function(t,e){b[e]=t[i]()})})(w);I(F).call(F,this.groups,function(t,e){e!==m1&&(e=b[e],r=e||r,g+=t.height)}),g=Math.max(g,l)}return g=Math.max(g,l),s.style.height=e(g),this.props.width=s.offsetWidth,this.props.height=g,this.dom.axis.style.top=e("top"==o?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.hammer.get("press").set({time:this.options.longSelectPressTime}),this.initialItemSetDrawn=!0,r=this._isResized()||r}},{key:"_firstGroup",value:function(){var t="top"==this.options.orientation.item?0:this.groupIds.length-1,t=this.groupIds[t];return this.groups[t]||this.groups[p1]||null}},{key:"_updateUngrouped",value:function(){var t,e,i,n=this.groups[p1];if(this.groupsData){if(n)for(e in n.dispose(),delete this.groups[p1],this.items)this.items.hasOwnProperty(e)&&((t=this.items[e]).parent&&t.parent.remove(t),i=this.getGroupId(t.data),(i=this.groups[i])&&i.add(t)||t.hide())}else if(!n){n=new Rw(null,null,this);for(e in this.groups[p1]=n,this.items)this.items.hasOwnProperty(e)&&(t=this.items[e],n.add(t));n.show()}}},{key:"getLabelSet",value:function(){return this.dom.labelSet}},{key:"setItems",value:function(t){this.itemsSettingTime=new Date;var e,i,n=this,o=this.itemsData;if(t){if(!py(t))throw new TypeError("Data must implement the interface of DataSet or DataView");this.itemsData=vy(t)}else this.itemsData=null;o&&(I(F).call(F,this.itemListeners,function(t,e){o.off(e,t)}),o.dispose(),e=o.getIds(),this._onRemove(e)),this.itemsData&&(i=this.id,I(F).call(F,this.itemListeners,function(t,e){n.itemsData.on(e,t,i)}),e=this.itemsData.getIds(),this._onAdd(e),this._updateUngrouped()),this.body.emitter.emit("_change",{queue:!0})}},{key:"getItems",value:function(){return null!=this.itemsData?this.itemsData.rawDS:null}},{key:"setGroups",value:function(t){var e,i,n,o=this;if(this.groupsData&&(I(F).call(F,this.groupListeners,function(t,e){o.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!py(t))throw new TypeError("Data must implement the interface of DataSet or DataView");this.groupsData=t}else this.groupsData=null;this.groupsData&&(i=this.groupsData.getDataSet(),I(t=i.get()).call(t,function(e){var t;e.nestedGroups&&I(t=e.nestedGroups).call(t,function(t){t=i.get(t);t.nestedInGroup=e.id,0==e.showNested&&(t.visible=!1),i.update(t)})}),n=this.id,I(F).call(F,this.groupListeners,function(t,e){o.groupsData.on(e,t,n)}),e=this.groupsData.getIds(),this._onAddGroups(e)),this._updateUngrouped(),this._order(),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems(),this.markDirty({refreshItems:!0,restackGroups:!0})),this.body.emitter.emit("_change",{queue:!0})}},{key:"getGroups",value:function(){return this.groupsData}},{key:"removeItem",value:function(e){var i=this,t=this.itemsData.get(e);t&&this.options.onRemove(t,function(t){t&&i.itemsData.remove(e)})}},{key:"_getType",value:function(t){return t.type||this.options.type||(t.end?"range":"box")}},{key:"getGroupId",value:function(t){return"background"==this._getType(t)&&null==t.group?m1:this.groupsData?t.group:p1}},{key:"_onUpdate",value:function(t){var s=this,a=this;I(t).call(t,function(t){var e,i=a.itemsData.get(t),n=a.items[t],o=i?a._getType(i):null,r=u.types[o];if(n&&(r&&n instanceof r?a._updateItem(n,i):(e=n.selected,a._removeItem(n),n=null)),!n&&i){if(!r)throw new TypeError('Unknown item type "'.concat(o,'"'));(n=new r(i,a.conversion,a.options)).id=t,a._addItem(n),e&&(s.selection.push(t),n.select())}}),this._order(),this.options.cluster&&(this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this._clusterItems()),this.body.emitter.emit("_change",{queue:!0})}},{key:"_onRemove",value:function(t){var e=0,i=this;I(t).call(t,function(t){t=i.items[t];t&&(e++,i._removeItem(t))}),e&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))}},{key:"_order",value:function(){I(F).call(F,this.groups,function(t){t.order()})}},{key:"_onUpdateGroups",value:function(t){this._onAddGroups(t)}},{key:"_onAddGroups",value:function(t){var s=this;I(t).call(t,function(t){var e=s.groupsData.get(t),i=s.groups[t];if(i)i.setData(e);else{if(t==p1||t==m1)throw new Error("Illegal group id. ".concat(t," is a reserved id."));var n,o,r=vm(s.options);for(n in F.extend(r,{height:null}),i=new Rw(t,e,s),s.groups[t]=i,s.items)s.items.hasOwnProperty(n)&&(o=s.items[n]).data.group==t&&i.add(o);i.order(),i.show()}}),this.body.emitter.emit("_change",{queue:!0})}},{key:"_onRemoveGroups",value:function(t){var i=this;I(t).call(t,function(t){var e=i.groups[t];e&&(e.dispose(),delete i.groups[t])}),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems()),this.markDirty({restackGroups:!!this.options.cluster}),this.body.emitter.emit("_change",{queue:!0})}},{key:"_orderGroups",value:function(){var t,e,i;return!!this.groupsData&&(t=this.groupsData.getIds({order:this.options.groupOrder}),t=this._orderNestedGroups(t),(e=!F.equalArray(t,this.groupIds))&&(i=this.groups,I(t).call(t,function(t){i[t].hide()}),I(t).call(t,function(t){i[t].show()}),this.groupIds=t),e)}},{key:"_orderNestedGroups",value:function(t){var e=this;return function i(n,t){var o=[];return I(t).call(t,function(e){var t;o.push(e),n.groupsData.get(e).nestedGroups&&(t=Ou(t=n.groupsData.get({filter:function(t){return t.nestedInGroup==e},order:n.options.groupOrder})).call(t,function(t){return t.id}),o=M(o).call(o,i(n,t)))}),o}(this,P(t).call(t,function(t){return!e.groupsData.get(t).nestedInGroup}))}},{key:"_addItem",value:function(t){this.items[t.id]=t;var e=this.getGroupId(t.data),e=this.groups[e];e?e.data&&e.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1,e&&e.add(t)}},{key:"_updateItem",value:function(t,e){t.setData(e);e=this.getGroupId(t.data),e=this.groups[e];e?e.data&&e.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1}},{key:"_removeItem",value:function(t){t.hide(),delete this.items[t.id];var e,i=N(i=this.selection).call(i,t.id);-1!=i&&Qd(e=this.selection).call(e,i,1),t.parent&&t.parent.remove(t),null!=this.popup&&this.popup.hide()}},{key:"_constructByEndArray",value:function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof Vw&&e.push(t[i]);return e}},{key:"_onTouch",value:function(t){this.touchParams.item=this.itemFromTarget(t),this.touchParams.dragLeftItem=t.target.dragLeftItem||!1,this.touchParams.dragRightItem=t.target.dragRightItem||!1,this.touchParams.itemProps=null}},{key:"_getGroupIndex",value:function(t){for(var e=0;e<this.groupIds.length;e++)if(t==this.groupIds[e])return e}},{key:"_onDragStart",value:function(i){var t,n,e,o,r,s,a=this;this.touchParams.itemIsDragging||(t=this.touchParams.item||null,n=this,t&&(t.selected||this.options.itemsAlwaysDraggable.item)?(!this.options.editable.overrideItems||this.options.editable.updateTime||this.options.editable.updateGroup)&&(null==t.editable||t.editable.updateTime||t.editable.updateGroup||this.options.editable.overrideItems)&&(s=this.touchParams.dragLeftItem,o=this.touchParams.dragRightItem,this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=t,s?(e={item:s,initialX:i.center.x,dragLeft:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[e]):o?(e={item:o,initialX:i.center.x,dragRight:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[e]):this.options.editable.add&&(i.srcEvent.ctrlKey||i.srcEvent.metaKey)?this._onDragStartAddItem(i):(this.groupIds.length<1&&this.redraw(),r=this._getGroupIndex(t.data.group),s=this.options.itemsAlwaysDraggable.item&&!t.selected?[t.id]:this.getSelection(),this.touchParams.itemProps=Ou(s).call(s,function(t){var t=n.items[t],e=n._getGroupIndex(t.data.group);return{item:t,initialX:i.center.x,groupOffset:r-e,data:a._cloneItemData(t.data)}})),i.stopPropagation()):this.options.editable.add&&(i.srcEvent.ctrlKey||i.srcEvent.metaKey)&&this._onDragStartAddItem(i))}},{key:"_onDragStartAddItem",value:function(t){var e=this.options.snap||null,i=this.dom.frame.getBoundingClientRect(),i=this.options.rtl?i.right-t.center.x+10:t.center.x-i.left-10,i=this.body.util.toTime(i),n=this.body.util.getScale(),o=this.body.util.getStep(),e=e?e(i,n,o):i,n={type:"range",start:e,end:e,content:"new item"},o=uy(),i=(n[this.itemsData.idProp]=o,this.groupFromTarget(t)),e=(i&&(n.group=i.groupId),new Vw(n,this.conversion,this.options)),i=(e.id=o,e.data=this._cloneItemData(n),this._addItem(e),{item:this.touchParams.selectedItem=e,initialX:t.center.x,data:e.data});this.options.rtl?i.dragLeft=!0:i.dragRight=!0,this.touchParams.itemProps=[i],t.stopPropagation()}},{key:"_onDrag",value:function(a){var l,h,t,u,c,d,p,m,f,e,g=this;null!=this.popup&&this.options.showTooltips&&!this.popup.hidden&&(t=(e=this.body.dom.centerContainer).getBoundingClientRect(),this.popup.setPosition(a.center.x-t.left+e.offsetLeft,a.center.y-t.top+e.offsetTop),this.popup.show()),this.touchParams.itemProps&&(a.stopPropagation(),h=(l=this).options.snap||null,t=this.body.dom.root.offsetLeft,u=this.options.rtl?t+this.body.domProps.right.width:t+this.body.domProps.left.width,c=this.body.util.getScale(),d=this.body.util.getStep(),p=this.touchParams.selectedItem,m=(this.options.editable.overrideItems||null==p.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=p.editable&&p.editable.updateGroup,f=null,m&&p&&null!=p.data.group&&(e=l.groupFromTarget(a))&&(f=this._getGroupIndex(e.groupId)),I(t=this.touchParams.itemProps).call(t,function(e){var t,i,n,o,r=l.body.util.toTime(a.center.x-u),s=l.body.util.toTime(e.initialX-u),r=g.options.rtl?-(r-s):r-s,s=g._cloneItemData(e.item.data);(null==e.item.editable||e.item.editable.updateTime||e.item.editable.updateGroup||l.options.editable.overrideItems)&&(((g.options.editable.overrideItems||null==p.editable)&&g.options.editable.updateTime||!g.options.editable.overrideItems&&null!=p.editable&&p.editable.updateTime)&&(e.dragLeft?g.options.rtl?null!=s.end&&(t=F.convert(e.data.end,"Date"),i=new Date(t.valueOf()+r),s.end=h?h(i,c,d):i):null!=s.start&&(n=F.convert(e.data.start,"Date"),o=new Date(n.valueOf()+r),s.start=h?h(o,c,d):o):e.dragRight?g.options.rtl?null!=s.start&&(n=F.convert(e.data.start,"Date"),o=new Date(n.valueOf()+r),s.start=h?h(o,c,d):o):null!=s.end&&(t=F.convert(e.data.end,"Date"),i=new Date(t.valueOf()+r),s.end=h?h(i,c,d):i):null!=s.start&&(n=F.convert(e.data.start,"Date").valueOf(),o=new Date(n+r),null!=s.end?(i=(t=F.convert(e.data.end,"Date")).valueOf()-n.valueOf(),s.start=h?h(o,c,d):o,s.end=new Date(s.start.valueOf()+i)):s.start=h?h(o,c,d):o)),!m||e.dragLeft||e.dragRight||null==f||null!=s.group&&(r=f-e.groupOffset,r=Math.max(0,r),r=Math.min(l.groupIds.length-1,r),s.group=l.groupIds[r]),s=g._cloneItemData(s),l.options.onMoving(s,function(t){t&&e.item.setData(g._cloneItemData(t,"Date"))}))}),this.body.emitter.emit("_change"))}},{key:"_moveToGroup",value:function(t,e){var i,e=this.groups[e];e&&e.groupId!=t.data.group&&((i=t.parent).remove(t),i.order(),t.data.group=e.groupId,e.add(t),e.order())}},{key:"_onDragEnd",value:function(t){var n,o=this;this.touchParams.itemIsDragging=!1,this.touchParams.itemProps&&(t.stopPropagation(),t=(n=this).touchParams.itemProps,this.touchParams.itemProps=null,I(t).call(t,function(e){var t,i=e.item.id;null!=n.itemsData.get(i)?(t=o._cloneItemData(e.item.data),n.options.onMove(t,function(t){t?(t[o.itemsData.idProp]=i,o.itemsData.update(t)):(e.item.setData(e.data),n.body.emitter.emit("_change"))})):n.options.onAdd(e.item.data,function(t){n._removeItem(e.item),t&&n.itemsData.add(t),n.body.emitter.emit("_change")})}))}},{key:"_onGroupClick",value:function(t){var e=this,i=this.groupFromTarget(t);Lh(function(){e.toggleGroupShowNested(i)},1)}},{key:"toggleGroupShowNested",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;if(t&&t.nestedGroups){for(var i=this.groupsData.getDataSet(),n=(t.showNested=null!=e?!!e:!t.showNested,i.get(t.groupId)),o=(n.showNested=t.showNested,t.nestedGroups),r=o;0<r.length;){for(var s=r,r=[],a=0;a<s.length;a++){var l=i.get(s[a]);l.nestedGroups&&(r=M(r).call(r,l.nestedGroups))}0<r.length&&(o=M(o).call(o,r))}if(n.showNested){for(var h=i.get(n.nestedGroups),u=0;u<h.length;u++){var c=h[u];c.nestedGroups&&0<c.nestedGroups.length&&(null==c.showNested||1==c.showNested)&&h.push.apply(h,hd(i.get(c.nestedGroups)))}d=Ou(h).call(h,function(t){return null==t.visible&&(t.visible=!0),t.visible=!!n.showNested,t})}else var d=Ou(e=i.get(o)).call(e,function(t){return null==t.visible&&(t.visible=!0),t.visible=!!n.showNested,t});i.update(M(d).call(d,n)),n.showNested?(F.removeClassName(t.dom.label,"collapsed"),F.addClassName(t.dom.label,"expanded")):(F.removeClassName(t.dom.label,"expanded"),F.addClassName(t.dom.label,"collapsed"))}}},{key:"toggleGroupDragClassName",value:function(t){t.dom.label.classList.toggle("vis-group-is-dragging"),t.dom.foreground.classList.toggle("vis-group-is-dragging")}},{key:"_onGroupDragStart",value:function(t){this.groupTouchParams.isDragging||this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(t),this.groupTouchParams.group)&&(t.stopPropagation(),this.groupTouchParams.isDragging=!0,this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder}))}},{key:"_onGroupDrag",value:function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this.groupsData.getDataSet(),i=this.groupFromTarget(t);if(i&&i.height!=this.groupTouchParams.group.height){var n=i.top<this.groupTouchParams.group.top,t=t.center?t.center.y:t.clientY,o=i.dom.foreground.getBoundingClientRect(),r=this.groupTouchParams.group.height;if(n){if(o.top+r<t)return}else{n=i.height;if(o.top+n-r>t)return}}if(i&&i!=this.groupTouchParams.group){var o=e.get(i.groupId),n=e.get(this.groupTouchParams.group.groupId),s=(n&&o&&(this.options.groupOrderSwap(n,o,e),e.update(n),e.update(o)),e.getIds({order:this.options.groupOrder}));if(!F.equalArray(s,this.groupTouchParams.originalOrder))for(var a,l,h,u=this.groupTouchParams.originalOrder,c=this.groupTouchParams.group.groupId,d=Math.min(u.length,s.length),p=0,m=0,f=0;p<d;){for(;p+m<d&&p+f<d&&s[p+m]==u[p+f];)p++;if(d<=p+m)break;s[p+m]==c?m=1:u[p+f]==c?f=1:(a=N(s).call(s,u[p+f]),h=e.get(s[p+m]),l=e.get(u[p+f]),this.options.groupOrderSwap(h,l,e),e.update(h),e.update(l),h=s[p+m],s[p+m]=u[p+f],s[a]=h,p++)}}}}},{key:"_onGroupDragEnd",value:function(t){var l,h,u;this.groupTouchParams.isDragging=!1,this.options.groupEditable.order&&this.groupTouchParams.group&&(t.stopPropagation(),h=(l=this).groupTouchParams.group.groupId,u=l.groupsData.getDataSet(),t=F.extend({},u.get(h)),l.options.onMoveGroup(t,function(t){if(t)t[u._idProp]=h,u.update(t);else{var e=u.getIds({order:l.options.groupOrder});if(!F.equalArray(e,l.groupTouchParams.originalOrder))for(var i=l.groupTouchParams.originalOrder,n=Math.min(i.length,e.length),o=0;o<n;){for(;o<n&&e[o]==i[o];)o++;if(n<=o)break;var r=N(e).call(e,i[o]),s=u.get(e[o]),a=u.get(i[o]),s=(l.options.groupOrderSwap(s,a,u),u.update(s),u.update(a),e[o]);e[o]=i[o],e[r]=s,o++}}}),l.body.emitter.emit("groupDragged",{groupId:h}),this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.group=null)}},{key:"_onSelectItem",value:function(t){var e,i;this.options.selectable&&(e=t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey),i=t.srcEvent&&t.srcEvent.shiftKey,e||i?this._onMultiSelectItem(t):(e=this.getSelection(),i=(i=this.itemFromTarget(t))&&i.selectable?[i.id]:[],this.setSelection(i),(0<(i=this.getSelection()).length||0<e.length)&&this.body.emitter.emit("select",{items:i,event:t})))}},{key:"_onMouseOver",value:function(t){var e,i,n=this.itemFromTarget(t);n&&n!==this.itemFromRelatedTarget(t)&&(e=n.getTitle(),this.options.showTooltips&&e?(null==this.popup&&(this.popup=new qw(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(e),i=(e=this.body.dom.centerContainer).getBoundingClientRect(),this.popup.setPosition(t.clientX-i.left+e.offsetLeft,t.clientY-i.top+e.offsetTop),this.setPopupTimer(this.popup)):(this.clearPopupTimer(),null!=this.popup&&this.popup.hide()),this.body.emitter.emit("itemover",{item:n.id,event:t}))}},{key:"_onMouseOut",value:function(t){var e=this.itemFromTarget(t);e&&e!==this.itemFromRelatedTarget(t)&&(this.clearPopupTimer(),null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:e.id,event:t}))}},{key:"_onMouseMove",value:function(t){var e,i;this.itemFromTarget(t)&&(null!=this.popupTimer&&this.setPopupTimer(this.popup),this.options.showTooltips)&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden&&(i=(e=this.body.dom.centerContainer).getBoundingClientRect(),this.popup.setPosition(t.clientX-i.left+e.offsetLeft,t.clientY-i.top+e.offsetTop),this.popup.show())}},{key:"_onMouseWheel",value:function(t){this.touchParams.itemIsDragging&&this._onDragEnd(t)}},{key:"_onUpdateItem",value:function(t){var e;this.options.selectable&&(this.options.editable.updateTime||this.options.editable.updateGroup)&&(e=this,t)&&(t=e.itemsData.get(t.id),this.options.onUpdate(t,function(t){t&&e.itemsData.update(t)}))}},{key:"_onDropObjectOnItem",value:function(t){var e=this.itemFromTarget(t),t=JSON.parse(t.dataTransfer.getData("text"));this.options.onDropObjectOnItem(t,e)}},{key:"_onAddItem",value:function(e){var i,t,n,o,r,s,a,l;this.options.selectable&&this.options.editable.add&&(t=(i=this).options.snap||null,n=this.dom.frame.getBoundingClientRect(),n=this.options.rtl?n.right-e.center.x:e.center.x-n.left,l=this.body.util.toTime(n),o=this.body.util.getScale(),r=this.body.util.getStep(),"drop"==e.type?((a=JSON.parse(e.dataTransfer.getData("text"))).content=a.content||"new item",a.start=a.start||(t?t(l,o,r):l),a.type=a.type||"box",a[this.itemsData.idProp]=a.id||uy(),"range"!=a.type||a.end||(s=this.body.util.toTime(n+this.props.width/5),a.end=t?t(s,o,r):s)):((a={start:t?t(l,o,r):l,content:"new item"})[this.itemsData.idProp]=uy(),"range"===this.options.type&&(s=this.body.util.toTime(n+this.props.width/5),a.end=t?t(s,o,r):s)),(l=this.groupFromTarget(e))&&(a.group=l.groupId),a=this._cloneItemData(a),this.options.onAdd(a,function(t){t&&(i.itemsData.add(t),"drop"==e.type)&&i.setSelection([t.id])}))}},{key:"_onMultiSelectItem",value:function(t){var e=this;if(this.options.selectable){var i=this.itemFromTarget(t);if(i){var n=this.options.multiselect?this.getSelection():[];if((t.srcEvent&&t.srcEvent.shiftKey||!1||this.options.sequentialSelection)&&this.options.multiselect){var o,r,s=this.itemsData.get(i.id).group,a=void 0,l=(this.options.multiselectPerGroup&&0<n.length&&(a=this.itemsData.get(n[0]).group),this.options.multiselectPerGroup&&null!=a&&a!=s||n.push(i.id),u._getItemRange(this.itemsData.get(n)));if(!this.options.multiselectPerGroup||a==s)for(var h in n=[],this.items)this.items.hasOwnProperty(h)&&(o=(h=this.items[h]).data.start,r=void 0!==h.data.end?h.data.end:o,!(o>=l.min&&r<=l.max)||this.options.multiselectPerGroup&&a!=this.itemsData.get(h.id).group||h instanceof Xw||n.push(h.id))}else{s=N(n).call(n,i.id);-1==s?n.push(i.id):Qd(n).call(n,s,1)}i=P(n).call(n,function(t){return e.getItemById(t).selectable});this.setSelection(i),this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}}},{key:"itemFromElement",value:function(t){for(var e=t;e;){if(e.hasOwnProperty("vis-item"))return e["vis-item"];e=e.parentNode}return null}},{key:"itemFromTarget",value:function(t){return this.itemFromElement(t.target)}},{key:"itemFromRelatedTarget",value:function(t){return this.itemFromElement(t.relatedTarget)}},{key:"groupFromTarget",value:function(t){var e=t.center?t.center.y:t.clientY,i=this.groupIds;i.length<=0&&this.groupsData&&(i=this.groupsData.getIds({order:this.options.groupOrder}));for(var n=0;n<i.length;n++){var o=i[n],o=this.groups[o],r=o.dom.foreground,s=r.getBoundingClientRect();if(e>=s.top&&e<s.top+r.offsetHeight)return o;if("top"===this.options.orientation.item){if(n===this.groupIds.length-1&&e>s.top)return o}else if(0===n&&e<s.top+r.offset)return o}return null}},{key:"_cloneItemData",value:function(t,e){t=F.extend({},t);return e=e||this.itemsData.type,null!=t.start&&(t.start=F.convert(t.start,e&&e.start||"Date")),null!=t.end&&(t.end=F.convert(t.end,e&&e.end||"Date")),t}},{key:"_clusterItems",value:function(){if(this.options.cluster){var t=this.body.range.conversion(this.body.domProps.center.width).scale,t=this.clusterGenerator.getClusters(this.clusters,t,this.options.cluster);if(this.clusters!=t){if(this._detachAllClusters(),t){var e,i=h1(t);try{for(i.s();!(e=i.n()).done;)e.value.attach()}catch(t){i.e(t)}finally{i.f()}this.clusters=t}this._updateClusters(t)}}}},{key:"_detachAllClusters",value:function(){if(this.options.cluster&&this.clusters&&this.clusters.length){var t,e=h1(this.clusters);try{for(e.s();!(t=e.n()).done;)t.value.detach()}catch(t){e.e(t)}finally{e.f()}}}},{key:"_updateClusters",value:function(t){if(this.clusters&&this.clusters.length){var e,i,n=new fw(Ou(t).call(t,function(t){return t.id})),o=!1,r=h1(P(i=this.clusters).call(i,function(t){return!n.has(t.id)}));try{for(r.s();!(e=r.n()).done;){var s,a,l=e.value,h=N(s=this.selection).call(s,l.id);-1!==h&&(l.unselect(),Qd(a=this.selection).call(a,h,1),o=!0)}}catch(t){r.e(t)}finally{r.f()}o&&(i=this.getSelection(),this.body.emitter.emit("select",{items:i,event:event}))}this.clusters=t||[]}}],[{key:"_getItemRange",value:function(t){var e=null,i=null;return I(t).call(t,function(t){(null==i||t.start<i)&&(i=t.start),null!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)}),{min:i,max:e}}},{key:"itemSetFromTarget",value:function(t){for(var e=t.target;e;){if(e.hasOwnProperty("vis-itemset"))return e["vis-itemset"];e=e.parentNode}return null}}]),u})(),g1=(f1.types={background:Xw,box:ft,range:Vw,point:Wi},f1.prototype._onAdd=f1.prototype._onUpdate,!1),v1="background: #FFeeee; color: #dd0000",y1=(()=>{function d(){v(this,d)}return T(d,null,[{key:"validate",value:function(t,e,i){g1=!1;var n=d1=e;return void 0!==i&&(n=e[i]),d.parse(t,n,[]),g1}},{key:"parse",value:function(t,e,i){for(var n in t)t.hasOwnProperty(n)&&d.check(n,t,e,i)}},{key:"check",value:function(t,e,i,n){var o,r,s;void 0===i[t]&&void 0===i.__any__?d.getSuggestion(t,i,n):(r=!0,void 0===i[o=t]&&void 0!==i.__any__&&(o="__any__",r="object"===d.getType(e[t])),s=i[o],r&&void 0!==s.__type__&&(s=s.__type__),d.checkFields(t,e,i,o,s,n))}},{key:"checkFields",value:function(e,t,i,n,o,r){function s(t){console.log("%c"+t+d.printLocation(r,e),v1)}var a=d.getType(t[e]),l=o[a];void 0!==l?"array"===d.getType(l)&&-1===N(l).call(l,t[e])?(s('Invalid option detected in "'+e+'". Allowed values are:'+d.print(l)+' not "'+t[e]+'". '),g1=!0):"object"===a&&"__any__"!==n&&(r=F.copyAndExtendArray(r,e),d.parse(t[e],i[n],r)):void 0===o.any&&(s('Invalid type received for "'+e+'". Expected: '+d.print(Xu(o))+". Received ["+a+'] "'+t[e]+'"'),g1=!0)}},{key:"getType",value:function(t){var e=D(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":E(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(t,e,i){var n=d.findInOptions(t,e,i,!1),o=d.findInOptions(t,d1,[],!0),o=void 0!==n.indexMatch?" in "+d.printLocation(n.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+'"?\n\n':o.distance<=4&&n.distance>o.distance?" in "+d.printLocation(n.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+d.printLocation(o.path,o.closestMatch,""):n.distance<=8?'. Did you mean "'+n.closestMatch+'"?'+d.printLocation(n.path,t):". Did you mean one of these: "+d.print(Xu(e))+d.printLocation(i,t);console.log('%cUnknown option detected: "'+t+'"'+o,v1),g1=!0}},{key:"findInOptions",value:function(t,e,i){var n,o=3<arguments.length&&void 0!==arguments[3]&&arguments[3],r=1e9,s="",a=[],l=t.toLowerCase(),h=void 0;for(n in e){var u,c;void 0!==e[n].__type__&&!0===o?r>(c=d.findInOptions(t,e[n],F.copyAndExtendArray(i,n))).distance&&(s=c.closestMatch,a=c.path,r=c.distance,h=c.indexMatch):(-1!==N(c=n.toLowerCase()).call(c,l)&&(h=n),(u=d.levenshteinDistance(t,n))<r&&(s=n,a=F.copyArray(i),r=u))}return{closestMatch:s,path:a,distance:r,indexMatch:h}}},{key:"printLocation",value:function(t,e){for(var i="\n\n"+(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",n=0;n<t.length;n++){for(var o=0;o<n+1;o++)i+="  ";i+=t[n]+": {\n"}for(var r=0;r<t.length+1;r++)i+="  ";i+=e+"\n";for(var s=0;s<t.length+1;s++){for(var a=0;a<t.length-s;a++)i+="  ";i+="}\n"}return i+"\n\n"}},{key:"print",value:function(t){return km(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;for(var i,n=[],o=0;o<=e.length;o++)n[o]=[o];for(i=0;i<=t.length;i++)n[0][i]=i;for(o=1;o<=e.length;o++)for(i=1;i<=t.length;i++)e.charAt(o-1)==t.charAt(i-1)?n[o][i]=n[o-1][i-1]:n[o][i]=Math.min(n[o-1][i-1]+1,Math.min(n[o][i-1]+1,n[o-1][i]+1));return n[e.length][t.length]}}]),d})(),f="string",a="boolean",y="number",eo="date",S="object",hs="moment",b1={configure:{enabled:{boolean:a},filter:{boolean:a,function:"function"},container:{dom:"dom"},__type__:{object:S,boolean:a,function:"function"}},align:{string:f},alignCurrentTime:{string:f,undefined:"undefined"},rtl:{boolean:a,undefined:"undefined"},rollingMode:{follow:{boolean:a},offset:{number:y,undefined:"undefined"},__type__:{object:S}},onTimeout:{timeoutMs:{number:y},callback:{function:"function"},__type__:{object:S}},verticalScroll:{boolean:a,undefined:"undefined"},horizontalScroll:{boolean:a,undefined:"undefined"},autoResize:{boolean:a},throttleRedraw:{number:y},clickToUse:{boolean:a},dataAttributes:{string:f,array:"array"},editable:{add:{boolean:a,undefined:"undefined"},remove:{boolean:a,undefined:"undefined"},updateGroup:{boolean:a,undefined:"undefined"},updateTime:{boolean:a,undefined:"undefined"},overrideItems:{boolean:a,undefined:"undefined"},__type__:{boolean:a,object:S}},end:{number:y,date:eo,string:f,moment:hs},format:{minorLabels:{millisecond:{string:f,undefined:"undefined"},second:{string:f,undefined:"undefined"},minute:{string:f,undefined:"undefined"},hour:{string:f,undefined:"undefined"},weekday:{string:f,undefined:"undefined"},day:{string:f,undefined:"undefined"},week:{string:f,undefined:"undefined"},month:{string:f,undefined:"undefined"},year:{string:f,undefined:"undefined"},__type__:{object:S,function:"function"}},majorLabels:{millisecond:{string:f,undefined:"undefined"},second:{string:f,undefined:"undefined"},minute:{string:f,undefined:"undefined"},hour:{string:f,undefined:"undefined"},weekday:{string:f,undefined:"undefined"},day:{string:f,undefined:"undefined"},week:{string:f,undefined:"undefined"},month:{string:f,undefined:"undefined"},year:{string:f,undefined:"undefined"},__type__:{object:S,function:"function"}},__type__:{object:S}},moment:{function:"function"},groupHeightMode:{string:f},groupOrder:{string:f,function:"function"},groupEditable:{add:{boolean:a,undefined:"undefined"},remove:{boolean:a,undefined:"undefined"},order:{boolean:a,undefined:"undefined"},__type__:{boolean:a,object:S}},groupOrderSwap:{function:"function"},height:{string:f,number:y},hiddenDates:{start:{date:eo,number:y,string:f,moment:hs},end:{date:eo,number:y,string:f,moment:hs},repeat:{string:f},__type__:{object:S,array:"array"}},itemsAlwaysDraggable:{item:{boolean:a,undefined:"undefined"},range:{boolean:a,undefined:"undefined"},__type__:{boolean:a,object:S}},limitSize:{boolean:a},locale:{string:f},locales:{__any__:{any:"any"},__type__:{object:S}},longSelectPressTime:{number:y},margin:{axis:{number:y},item:{horizontal:{number:y,undefined:"undefined"},vertical:{number:y,undefined:"undefined"},__type__:{object:S,number:y}},__type__:{object:S,number:y}},max:{date:eo,number:y,string:f,moment:hs},maxHeight:{number:y,string:f},maxMinorChars:{number:y},min:{date:eo,number:y,string:f,moment:hs},minHeight:{number:y,string:f},moveable:{boolean:a},multiselect:{boolean:a},multiselectPerGroup:{boolean:a},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:f,undefined:"undefined"},item:{string:f,undefined:"undefined"},__type__:{string:f,object:S}},selectable:{boolean:a},sequentialSelection:{boolean:a},showCurrentTime:{boolean:a},showMajorLabels:{boolean:a},showMinorLabels:{boolean:a},showWeekScale:{boolean:a},stack:{boolean:a},stackSubgroups:{boolean:a},cluster:{maxItems:{number:y,undefined:"undefined"},titleTemplate:{string:f,undefined:"undefined"},clusterCriteria:{function:"function",undefined:"undefined"},showStipes:{boolean:a,undefined:"undefined"},fitOnDoubleClick:{boolean:a,undefined:"undefined"},__type__:{boolean:a,object:S}},snap:{function:"function",null:"null"},start:{date:eo,number:y,string:f,moment:hs},template:{function:"function"},loadingScreenTemplate:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:f,function:"function"},showTooltips:{boolean:a},tooltip:{followMouse:{boolean:a},overflowMethod:{string:["cap","flip","none"]},delay:{number:y},template:{function:"function"},__type__:{object:S}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:a,object:S}},timeAxis:{scale:{string:f,undefined:"undefined"},step:{number:y,undefined:"undefined"},__type__:{object:S}},type:{string:f},width:{string:f,number:y},preferZoom:{boolean:a},zoomable:{boolean:a},zoomKey:{string:["ctrlKey","altKey","shiftKey","metaKey",""]},zoomFriction:{number:y},zoomMax:{number:y},zoomMin:{number:y},xss:{disabled:{boolean:a},filterOptions:{__any__:{any:"any"},__type__:{object:S}},__type__:{object:S}},__type__:{object:S}},w1={global:{align:["center","left","right"],alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupHeightMode:["auto","fixed","fitItems"],groupsDraggable:!1,height:"",locale:"",longSelectPressTime:251,margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},preferZoom:!1,selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,cluster:!1,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:[500,0,99999,100]},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","shiftKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],xss:{disabled:!1}}},k1={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},x1=(()=>{function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;v(this,e),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return T(e,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return k1[t]}},{key:"setColor",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if("none"!==t){var i,n=this._isColorString(t);if(!0===F.isString(t=void 0!==n?n:t)?!0===F.isValidRGB(t)?i={r:(n=t.substr(4).substr(0,t.length-5).split(","))[0],g:n[1],b:n[2],a:1}:!0===F.isValidRGBA(t)?i={r:(n=t.substr(5).substr(0,t.length-6).split(","))[0],g:n[1],b:n[2],a:n[3]}:!0===F.isValidHex(t)&&(i={r:(n=F.hexToRGB(t)).r,g:n.g,b:n.b,a:1}):t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b&&(n=void 0!==t.a?t.a:"1.0",i={r:t.r,g:t.g,b:t.b,a:n}),void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+km(t));this._setColor(i,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this;!0===(!(0<arguments.length&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=F.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",Lh(function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){!0===(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=F.extend({},t)),this.color=t;var e=F.RGBToHSV(t.r,t.g,t.b),i=2*Math.PI,n=this.r*e.s,o=this.centerCoordinates.x+n*Math.sin(i*e.h),n=this.centerCoordinates.y+n*Math.cos(i*e.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=n-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=F.RGBToHSV(this.color.r,this.color.g,this.color.b),t=(e.v=t/100,F.HSVToRGB(e.h,e.s,e.v));t.a=this.color.a,this.color=t,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.color,e=F.RGBToHSV(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d"),n=(void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.colorPickerCanvas.clientWidth),o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Em(i).call(i),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var t;this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext?(t=this.colorPickerCanvas.getContext("2d"),this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)):((t=document.createElement("DIV")).style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)),this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var e=this;this.opacityRange.onchange=function(){e._setOpacity(this.value)},this.opacityRange.oninput=function(){e._setOpacity(this.value)},this.brightnessRange.onchange=function(){e._setBrightness(this.value)},this.brightnessRange.oninput=function(){e._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=A(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=A(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=A(t=this._save).call(t,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=A(t=this._loadLast).call(t,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new Ib(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),Pb(this.hammer,function(t){e._moveSelector(t)}),this.hammer.on("tap",function(t){e._moveSelector(t)}),this.hammer.on("panstart",function(t){e._moveSelector(t)}),this.hammer.on("panmove",function(t){e._moveSelector(t)}),this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){for(var t,e,i,n,o=this.colorPickerCanvas.getContext("2d"),r=(void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1)),o.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.colorPickerCanvas.clientWidth),s=this.colorPickerCanvas.clientHeight,a=(o.clearRect(0,0,r,s),this.centerCoordinates={x:.5*r,y:.5*s},this.r=.49*r,2*Math.PI/360),l=1/this.r,h=0;h<360;h++)for(i=0;i<this.r;i++)t=this.centerCoordinates.x+i*Math.sin(a*h),e=this.centerCoordinates.y+i*Math.cos(a*h),n=F.HSVToRGB(h*(1/360),i*l,1),o.fillStyle="rgb("+n.r+","+n.g+","+n.b+")",o.fillRect(t-.5,e-.5,2,2);o.strokeStyle="rgba(0,0,0,1)",o.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),o.stroke(),this.hueCircle=o.getImageData(0,0,r,s)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,t=t.center.y-e.top,e=.5*this.colorPickerDiv.clientHeight,n=.5*this.colorPickerDiv.clientWidth,i=i-n,t=t-e,o=Math.atan2(i,t),i=.98*Math.min(Math.sqrt(i*i+t*t),n),t=Math.cos(o)*i+e,e=Math.sin(o)*i+n;this.colorPickerSelector.style.top=t-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=e-.5*this.colorPickerSelector.clientWidth+"px";n=(n=o/(2*Math.PI))<0?1+n:n,t=i/this.r,e=F.RGBToHSV(this.color.r,this.color.g,this.color.b),e.h=n,e.s=t,o=F.HSVToRGB(e.h,e.s,e.v);o.a=this.color.a,this.color=o,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),e})(),_1=(()=>{function o(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;v(this,o),this.parent=t,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},F.extend(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new x1(n),this.wrapper=void 0}return T(o,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;if("string"==typeof t)this.options.filter=t;else if(E(t))this.options.filter=t.join();else if("object"===D(t)){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==P(t)&&(this.options.filter=P(t)),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===P(this.options)&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var t,e=P(this.options),i=0,n=!1;for(t in this.configureOptions)this.configureOptions.hasOwnProperty(t)&&(n=this.allowCreation=!1,"function"==typeof e?n=(n=e(t,[]))||this._handleObject(this.configureOptions[t],[t],!0):!0!==e&&-1===N(e).call(e,t)||(n=!0),!1!==n&&(this.allowCreation=!0,0<i&&this._makeItem([]),this._makeHeader(t),this._handleObject(this.configureOptions[t],[t])),i++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){if(!0!==this.allowCreation)return 0;var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var i=arguments.length,n=new Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return I(n).call(n,function(t){e.appendChild(t)}),this.domElements.push(e),this.domElements.length}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=F.xss(t),this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=document.createElement("div");return n.className="vis-configuration vis-config-label vis-config-s"+e.length,n.innerHTML=!0===i?F.xss("<i><b>"+t+":</b></i>"):F.xss(t+":"),n}},{key:"_makeDropdown",value:function(t,e,i){var n=document.createElement("select"),o=(n.className="vis-configuration vis-config-select",0);void 0!==e&&-1!==N(t).call(t,e)&&(o=N(t).call(t,e));for(var r=0;r<t.length;r++){var s=document.createElement("option");s.value=t[r],r===o&&(s.selected="selected"),s.innerHTML=t[r],n.appendChild(s)}var a=this,e=(n.onchange=function(){a._update(this.value,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,e,n)}},{key:"_makeRange",value:function(t,e,i){var n=t[0],o=t[1],r=t[2],t=t[3],s=document.createElement("input");s.className="vis-configuration vis-config-range";try{s.type="range",s.min=o,s.max=r}catch(t){}s.step=t;var t="",a=0,l=(void 0!==e?(e<0&&1.2*e<o?(s.min=Math.ceil(1.2*e),a=s.min,t="range increased"):e/1.2<o&&(s.min=Math.ceil(e/1.2),a=s.min,t="range increased"),r<1.2*e&&1!==r&&(s.max=Math.ceil(1.2*e),a=s.max,t="range increased"),s.value=e):s.value=n,document.createElement("input")),h=(l.className="vis-configuration vis-config-rangeinput",l.value=Number(s.value),this),o=(s.onchange=function(){l.value=this.value,h._update(Number(this.value),i)},s.oninput=function(){l.value=this.value},this._makeLabel(i[i.length-1],i)),r=this._makeItem(i,o,s,l);""!==t&&this.popupHistory[r]!==a&&(this.popupHistory[r]=a,this._setupPopup(t,r))}},{key:"_makeButton",value:function(){var t,e=this;!0===this.options.showButton&&((t=document.createElement("div")).className="vis-configuration vis-config-button",t.innerHTML="generate options",t.onclick=function(){e._printOptions()},t.onmouseover=function(){t.className="vis-configuration vis-config-button hover"},t.onmouseout=function(){t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t))}},{key:"_setupPopup",value:function(t,e){var i,n=this;!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit&&((i=document.createElement("div")).id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerHTML=F.xss(t),i.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:e})}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t,e=this;void 0!==this.popupDiv.html&&(t=this.domElements[this.popupDiv.index].getBoundingClientRect(),this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Lh(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Lh(function(){e._removePopup()},1800))}},{key:"_makeCheckbox",value:function(t,e,i){var n=document.createElement("input"),o=(n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=t,void 0===e||(n.checked=e)===t||"object"===D(t)&&e===t.enabled||this.changedOptions.push({path:i,value:e}),this),t=(n.onchange=function(){o._update(this.checked,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,t,n)}},{key:"_makeTextInput",value:function(t,e,i){var n=document.createElement("input"),o=(n.type="text",n.className="vis-configuration vis-config-text",(n.value=e)!==t&&this.changedOptions.push({path:i,value:e}),this),t=(n.onchange=function(){o._update(this.value,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,t,n)}},{key:"_makeColorField",value:function(t,e,i){var n=this,t=t[1],o=document.createElement("div"),t=("none"!==(e=void 0===e?t:e)?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=e):o.className="vis-configuration vis-config-colorBlock none",e=void 0===e?t:e,o.onclick=function(){n._showColorPicker(e,o,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,t,o)}},{key:"_showColorPicker",value:function(t,e,i){var n=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(t){t="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=t,n._update(t,i)}),this.colorPicker.setCloseCallback(function(){e.onclick=function(){n._showColorPicker(t,e,i)}})}},{key:"_handleObject",value:function(t){var e,i,n,o,r,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],a=2<arguments.length&&void 0!==arguments[2]&&arguments[2],l=!1,h=P(this.options),u=!1;for(e in t)t.hasOwnProperty(e)&&(l=!0,i=t[e],n=F.copyAndExtendArray(s,e),"function"==typeof h&&!1===(l=h(e,s))&&!E(i)&&"string"!=typeof i&&"boolean"!=typeof i&&i instanceof Object&&(this.allowCreation=!1,l=this._handleObject(i,n,!0),this.allowCreation=!1===a),!1!==l)&&(u=!0,o=this._getValue(n),E(i)?this._handleArray(i,o,n):"string"==typeof i?this._makeTextInput(i,o,n):"boolean"==typeof i?this._makeCheckbox(i,o,n):i instanceof Object?(o=!0)===(o=-1!==N(s).call(s,"physics")&&this.moduleOptions.physics.solver!==e?!1:o)&&(void 0!==i.enabled?(o=F.copyAndExtendArray(n,"enabled"),!0===(o=this._getValue(o))?(r=this._makeLabel(e,n,!0),this._makeItem(n,r),u=this._handleObject(i,n)||u):this._makeCheckbox(i,o,n)):(r=this._makeLabel(e,n,!0),this._makeItem(n,r),u=this._handleObject(i,n)||u)):console.error("dont know how to handle",i,e,n));return u}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e)&&this.changedOptions.push({path:i,value:Number(e)})}},{key:"_update",value:function(t,e){t=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",t),this.initialized=!0,this.parent.setOptions(t)}},{key:"_constructOptions",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=i;t="false"!==(t="true"===t||t)&&t;for(var o=0;o<e.length;o++)"global"!==e[o]&&(void 0===n[e[o]]&&(n[e[o]]={}),o!==e.length-1?n=n[e[o]]:n[e[o]]=t);return i}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+km(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),o})();function C1(i){var n=(()=>{if("undefined"==typeof Reflect||!g)return!1;if(g.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g(Boolean,[],function(){})),!0}catch(t){return!1}})();return function(){var t,e=O(i);return bh(this,n?(t=O(this).constructor,g(e,arguments,t)):e.apply(this,arguments))}}xr=(()=>{yh(d,Gb);var c=C1(d);function d(t,e,i,n){var o;if(v(this,d),(o=c.call(this)).initTime=new Date,o.itemsDone=!1,!(Jl(o)instanceof d))throw new SyntaxError("Constructor must be called with the new operator");!E(i)&&!py(i)&&i instanceof Object&&(h=n,n=i,i=h),n&&n.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var r=Jl(o);if(o.defaultOptions={autoResize:!0,longSelectPressTime:251,orientation:{axis:"bottom",item:"bottom"},moment:Xh},o.options=F.deepExtend({},o.defaultOptions),n&&F.setupXSSProtection(n.xss),o._create(t),n&&void 0!==n.rtl)o.options.rtl=n.rtl;else{o.dom.root.style.visibility="hidden";for(var s,a=o.dom.root;!s&&a;)s=window.getComputedStyle(a,null).direction,a=a.parentElement;o.options.rtl=s&&"rtl"==s.toLowerCase()}n&&(n.rollingMode&&(o.options.rollingMode=n.rollingMode),n.onInitialDrawComplete&&(o.options.onInitialDrawComplete=n.onInitialDrawComplete),n.onTimeout&&(o.options.onTimeout=n.onTimeout),n.loadingScreenTemplate)&&(o.options.loadingScreenTemplate=n.loadingScreenTemplate);var l,h=document.createElement("div");function u(t,e){r.hasListeners(t)&&r.emit(t,r.getEventProperties(e))}return o.options.loadingScreenTemplate&&((l=(t=A(t=o.options.loadingScreenTemplate).call(t,Jl(o)))(o.dom.loadingScreen))instanceof Object&&!(l instanceof Element)?t(h):l instanceof Element?(h.innerHTML="",h.appendChild(l)):null!=l&&(h.innerHTML=F.xss(l))),o.dom.loadingScreen.appendChild(h),o.components=[],o.body={dom:o.dom,domProps:o.props,emitter:{on:A(t=o.on).call(t,Jl(o)),off:A(l=o.off).call(l,Jl(o)),emit:A(h=o.emit).call(h,Jl(o))},hiddenDates:[],util:{getScale:function(){return r.timeAxis.step.scale},getStep:function(){return r.timeAxis.step.step},toScreen:A(t=r._toScreen).call(t,r),toGlobalScreen:A(l=r._toGlobalScreen).call(l,r),toTime:A(h=r._toTime).call(h,r),toGlobalTime:A(t=r._toGlobalTime).call(t,r)}},o.range=new wb(o.body,o.options),o.components.push(o.range),o.body.range=o.range,o.timeAxis=new Fb(o.body,o.options),o.timeAxis2=null,o.components.push(o.timeAxis),o.currentTime=new Yb(o.body,o.options),o.components.push(o.currentTime),o.itemSet=new f1(o.body,o.options),o.components.push(o.itemSet),o.itemsData=null,o.groupsData=null,o.dom.root.onclick=function(t){u("click",t)},o.dom.root.ondblclick=function(t){u("doubleClick",t)},o.dom.root.oncontextmenu=function(t){u("contextmenu",t)},o.dom.root.onmouseover=function(t){u("mouseOver",t)},window.PointerEvent?(o.dom.root.onpointerdown=function(t){u("mouseDown",t)},o.dom.root.onpointermove=function(t){u("mouseMove",t)},o.dom.root.onpointerup=function(t){u("mouseUp",t)}):(o.dom.root.onmousemove=function(t){u("mouseMove",t)},o.dom.root.onmousedown=function(t){u("mouseDown",t)},o.dom.root.onmouseup=function(t){u("mouseUp",t)}),o.initialFitDone=!1,o.on("changed",function(){var t,e;null==r.itemsData||(r.initialFitDone||r.options.rollingMode||(r.initialFitDone=!0,null!=r.options.start||null!=r.options.end?(null!=r.options.start&&null!=r.options.end||(e=r.getItemRange()),t=null!=r.options.start?r.options.start:e.min,e=null!=r.options.end?r.options.end:e.max,r.setWindow(t,e,{animation:!1})):r.fit({animation:!1})),r.initialDrawDone)||!r.initialRangeChangeDone&&(r.options.start||r.options.end)&&!r.options.rollingMode||(r.initialDrawDone=!0,r.itemSet.initialDrawDone=!0,r.dom.root.style.visibility="visible",r.dom.loadingScreen.parentNode.removeChild(r.dom.loadingScreen),r.options.onInitialDrawComplete&&Lh(function(){return r.options.onInitialDrawComplete()},0))}),o.on("destroyTimeline",function(){r.destroy()}),n&&o.setOptions(n),o.body.emitter.on("fit",function(t){o._onFit(t),o.redraw()}),i&&o.setGroups(i),e&&o.setItems(e),o._redraw(),o}return T(d,[{key:"_createConfigurator",value:function(){return new _1(this,this.dom.container,w1)}},{key:"redraw",value:function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()}},{key:"setOptions",value:function(t){var e;!0===y1.validate(t,b1)&&console.log("%cErrors have been found in the supplied options object.",v1),Gb.prototype.setOptions.call(this,t),"type"in t&&t.type!==this.options.type&&(this.options.type=t.type,t=this.itemsData)&&(e=this.getSelection(),this.setItems(null),this.setItems(t.rawDS),this.setSelection(e))}},{key:"setItems",value:function(t){this.itemsDone=!1,t=t?py(t)?vy(t):vy(new B.DataSet(t)):null,this.itemsData&&this.itemsData.dispose(),this.itemsData=t,this.itemSet&&this.itemSet.setItems(null!=t?t.rawDS:null)}},{key:"setGroups",value:function(t){t=t?(E(t)&&(t=new B.DataSet(t)),new B.DataView(t,{filter:function(t){return!1!==t.visible}})):null;null!=this.groupsData&&"function"==typeof this.groupsData.setData&&this.groupsData.setData(null),this.groupsData=t,this.itemSet.setGroups(t)}},{key:"setData",value:function(t){t&&t.groups&&this.setGroups(t.groups),t&&t.items&&this.setItems(t.items)}},{key:"setSelection",value:function(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)}},{key:"getSelection",value:function(){return this.itemSet&&this.itemSet.getSelection()||[]}},{key:"focus",value:function(t,e){var i,n,r,s,a,l,o,h;this.itemsData&&null!=t&&(t=E(t)?t:[t],h=this.itemsData.get(t),n=i=null,I(h).call(h,function(t){var e=t.start.valueOf(),t=("end"in t?t.end:t.start).valueOf();(null===i||e<i)&&(i=e),(null===n||n<t)&&(n=t)}),null!==i)&&null!==n&&(s=(r=this).itemSet.items[t[0]],a=-1*this._getScrollTop(),l=null,o=function(){var t=T1(r,s);t.shouldScroll&&t.itemTop!=l.itemTop&&(r._setScrollTop(-t.scrollOffset),r._redraw())},h=!e||void 0===e.zoom||e.zoom,t=(i+n)/2,h=h?1.1*(n-i):Math.max(this.range.end-this.range.start,1.1*(n-i)),(e=!e||void 0===e.animation||e.animation)||(l={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(t-h/2,t+h/2,{animation:e},function(){o(),Lh(o,100)},function(t,e,i){var n,o=T1(r,s);!1===o||(l=l||o).itemTop==o.itemTop&&!l.shouldScroll||(l.itemTop!=o.itemTop&&o.shouldScroll&&(l=o,a=-1*r._getScrollTop()),o=a,n=l.scrollOffset,r._setScrollTop(-(i?n:o+(n-o)*t)),e)||r._redraw()}))}},{key:"fit",value:function(t,e){var i,t=!t||void 0===t.animation||t.animation;1===this.itemsData.length&&void 0===this.itemsData.get()[0].end?(i=this.getDataRange(),this.moveTo(i.min.valueOf(),{animation:t},e)):(i=this.getItemRange(),this.range.setRange(i.min,i.max,{animation:t},e))}},{key:"getItemRange",value:function(){var o=this,t=this.getDataRange(),r=null!==t.min?t.min.valueOf():null,s=null!==t.max?t.max.valueOf():null,a=null,l=null;if(null!=r&&null!=s){var e,i,n,t=s-r,h=(t=t<=0?10:t)/this.props.center.width,u={},c=0;if(I(F).call(F,this.itemSet.items,function(t,e){t.groupShowing&&(u[e]=t.redraw(!0),c=u[e].length)}),0<c)for(var d=0;d<c;d++)(e=>{I(F).call(F,u,function(t){t[e]()})})(d);I(F).call(F,this.itemSet.items,function(t){var e,i=S1(t),n=D1(t),i=o.options.rtl?(e=i-(t.getWidthRight()+10)*h,n+(t.getWidthLeft()+10)*h):(e=i-(t.getWidthLeft()+10)*h,n+(t.getWidthRight()+10)*h);e<r&&(r=e,a=t),s<i&&(s=i,l=t)}),a&&l&&(e=a.getWidthLeft()+10,i=l.getWidthRight()+10,0<(n=this.props.center.width-e-i))&&(s=this.options.rtl?(r=S1(a)-i*t/n,D1(l)+e*t/n):(r=S1(a)-e*t/n,D1(l)+i*t/n))}return{min:null!=r?new Date(r):null,max:null!=s?new Date(s):null}}},{key:"getDataRange",value:function(){var t,i=null,n=null;return this.itemsData&&I(t=this.itemsData).call(t,function(t){var e=F.convert(t.start,"Date").valueOf(),t=F.convert(null!=t.end?t.end:t.start,"Date").valueOf();(null===i||e<i)&&(i=e),(null===n||n<t)&&(n=t)}),{min:null!=i?new Date(i):null,max:null!=n?new Date(n):null}}},{key:"getEventProperties",value:function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY,n=this.dom.centerContainer.getBoundingClientRect(),e=this.options.rtl?n.right-e:e-n.left,i=i-n.top,n=this.itemSet.itemFromTarget(t),o=this.itemSet.groupFromTarget(t),r=Hb.customTimeFromTarget(t),s=this.itemSet.options.snap||null,a=this.body.util.getScale(),l=this.body.util.getStep(),h=this._toTime(e),s=s?s(h,a,l):h,a=F.getTarget(t),l=null;return null!=n?l="item":null!=r?l="custom-time":F.hasParent(a,this.timeAxis.dom.foreground)||this.timeAxis2&&F.hasParent(a,this.timeAxis2.dom.foreground)?l="axis":F.hasParent(a,this.itemSet.dom.labelSet)?l="group-label":F.hasParent(a,this.currentTime.bar)?l="current-time":F.hasParent(a,this.dom.center)&&(l="background"),{event:t,item:n?n.id:null,isCluster:!!n&&!!n.isCluster,items:n?n.items||[]:null,group:o?o.groupId:null,customTime:r?r.options.id:null,what:l,pageX:(t.srcEvent||t).pageX,pageY:(t.srcEvent||t).pageY,x:e,y:i,time:h,snappedTime:s}}},{key:"toggleRollingMode",value:function(){this.range.rolling?this.range.stopRolling():(null==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())}},{key:"_redraw",value:function(){Gb.prototype._redraw.call(this)}},{key:"_onFit",value:function(t){var e=t.start,i=t.end,t=t.animation;i?this.range.setRange(e,i,{animation:t}):this.moveTo(e.valueOf(),{animation:t})}}]),d})();function S1(t){return F.convert(t.data.start,"Date").valueOf()}function D1(t){t=null!=t.data.end?t.data.end:t.data.start;return F.convert(t,"Date").valueOf()}function T1(t,e){var i,n,o,r,s,a,l,h,u,c;return!!e.parent&&(i=(t.options.rtl?t.props.rightContainer:t.props.leftContainer).height,n=t.props.center.height,r=(o=e.parent).top,s=!0,a=t.timeAxis.options.orientation.axis,l=function(){return"bottom"==a?o.height-e.top-e.height:e.top},h=-1*t._getScrollTop(),u=r+l(),c=e.height,u<h?r+i<=r+l()+c&&(r+=l()-t.itemSet.options.margin.item.vertical):h+i<u+c?r+=l()+c-i+t.itemSet.options.margin.item.vertical:s=!1,{shouldScroll:s,scrollOffset:r=Math.min(r,n-i),itemTop:u})}function O1(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])}function E1(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}}function A1(t,e,i){var n;return e.hasOwnProperty(t)?0<e[t].redundant.length?(n=e[t].redundant[0],e[t].redundant.shift()):(n=document.createElementNS("http://www.w3.org/2000/svg",t),i.appendChild(n)):(n=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},i.appendChild(n)),e[t].used.push(n),n}function I1(t,e,i,n){var o;return e.hasOwnProperty(t)?0<e[t].redundant.length?(o=e[t].redundant[0],e[t].redundant.shift()):(o=document.createElement(t),void 0!==n?i.insertBefore(o,n):i.appendChild(o)):(o=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==n?i.insertBefore(o,n):i.appendChild(o)),e[t].used.push(o),o}function P1(t,e,i,n,o,r){var s;"circle"==i.style?((s=A1("circle",n,o)).setAttributeNS(null,"cx",t),s.setAttributeNS(null,"cy",e),s.setAttributeNS(null,"r",.5*i.size)):((s=A1("rect",n,o)).setAttributeNS(null,"x",t-.5*i.size),s.setAttributeNS(null,"y",e-.5*i.size),s.setAttributeNS(null,"width",i.size),s.setAttributeNS(null,"height",i.size)),void 0!==i.styles&&s.setAttributeNS(null,"style",i.styles),s.setAttributeNS(null,"class",i.className+" vis-point"),r&&(s=A1("text",n,o),r.xOffset&&(t+=r.xOffset),r.yOffset&&(e+=r.yOffset),r.content&&(s.textContent=r.content),r.className&&s.setAttributeNS(null,"class",r.className+" vis-label"),s.setAttributeNS(null,"x",t),s.setAttributeNS(null,"y",e))}function M1(t,e,i,n,o,r,s,a){0!=n&&(n<0&&(e-=n*=-1),(r=A1("rect",r,s)).setAttributeNS(null,"x",t-.5*i),r.setAttributeNS(null,"y",e),r.setAttributeNS(null,"width",i),r.setAttributeNS(null,"height",n),r.setAttributeNS(null,"class",o),a)&&r.setAttributeNS(null,"style",a)}var N1=(()=>{function h(t,e,i,n,o,r){var s,a=6<arguments.length&&void 0!==arguments[6]&&arguments[6],l=7<arguments.length&&void 0!==arguments[7]&&arguments[7];v(this,h),this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=o,this.majorCharHeight=r,this._start=t,this._end=e,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=a,this.autoScaleStart=i,this.autoScaleEnd=n,this.formattingFunction=l,(i||n)&&(s=this,o=function(t){var e=t-t%(s.magnitudefactor*s.minorSteps[s.minorStepIdx]);return t%(s.magnitudefactor*s.minorSteps[s.minorStepIdx])>s.magnitudefactor*s.minorSteps[s.minorStepIdx]*.5?e+s.magnitudefactor*s.minorSteps[s.minorStepIdx]:e},i&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=o(this._start)),n&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=o(this._end)),this.determineScale())}return T(h,[{key:"setCharHeight",value:function(t){this.majorCharHeight=t}},{key:"setHeight",value:function(t){this.containerHeight=t}},{key:"determineScale",value:function(){for(var t=this._end-this._start,e=(this.scale=this.containerHeight/t,this.majorCharHeight/this.scale),i=0<t?Math.round(Math.log(t)/Math.LN10):0,t=(this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,i),0),n=!1,o=t=i<0?i:t;Math.abs(o)<=Math.abs(i);o++){this.magnitudefactor=Math.pow(10,o);for(var r=0;r<this.minorSteps.length;r++)if(e<=this.magnitudefactor*this.minorSteps[r]){n=!0,this.minorStepIdx=r;break}if(!0===n)break}}},{key:"is_major",value:function(t){return t%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0}},{key:"getStep",value:function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]}},{key:"getFirstMajor",value:function(){var t=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(t-this._start%t)%t)}},{key:"formatValue",value:function(t){var e=t.toPrecision(5);return"number"==typeof(e="function"==typeof this.formattingFunction?this.formattingFunction(t):e)?"".concat(e):"string"==typeof e?e:t.toPrecision(5)}},{key:"getLines",value:function(){for(var t=[],e=this.getStep(),i=(e-this._start%e)%e,n=this._start+i;1e-5<this._end-n;n+=e)n!=this._start&&t.push({major:this.is_major(n),y:this.convertValue(n),val:this.formatValue(n)});return t}},{key:"followScale",value:function(t){for(var e=this.minorStepIdx,i=this._start,n=this._end,o=this,r=function(){o.magnitudefactor*=2},s=function(){o.magnitudefactor/=2},a=(t.minorStepIdx<=1&&this.minorStepIdx<=1||1<t.minorStepIdx&&1<this.minorStepIdx||(t.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2!=e&&r(),r):(this.minorStepIdx=2,1!=e&&s(),s))(),t.convertValue(0)),l=t.getStep()*t.scale,h=!1,u=0;!h&&u++<5;){this.scale=l/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var c=this.containerHeight/this.scale,d=(this._start=i,this._end=this._start+c,this._end*this.scale),p=this.magnitudefactor*this.majorSteps[this.minorStepIdx],m=this.getFirstMajor()-t.getFirstMajor();if(this.zeroAlign?(this._end+=(a-d)/this.scale,this._start=this._end-c):(this.autoScaleStart?this._start-=m/this.scale:this._start+=p-m/this.scale,this._end=this._start+c),!this.autoScaleEnd&&this._end>n+1e-5)s(),h=!1;else{if(!this.autoScaleStart&&this._start<i-1e-5){if(!(this.zeroAlign&&0<=i)){s(),h=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}h=!(this.autoScaleStart&&this.autoScaleEnd&&c<n-i&&(r(),1))}}}},{key:"convertValue",value:function(t){return this.containerHeight-(t-this._start)*this.scale}},{key:"screenToValue",value:function(t){return(this.containerHeight-t)/this.scale+this._start}}]),h})();function F1(t,e){var i,n,o,r,s=void 0!==cd&&Fc(t)||t["@@iterator"];if(s)return n=!(i=!0),{s:function(){s=s.call(t)},n:function(){var t=s.next();return i=t.done,t},e:function(t){n=!0,o=t},f:function(){try{i||null==s.return||s.return()}finally{if(n)throw o}}};if(E(t)||(s=((t,e)=>{var i;if(t)return"string"==typeof t?R1(t,e):"Map"===(i="Object"===(i=vd(i=Object.prototype.toString.call(t)).call(i,8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Pc(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?R1(t,e):void 0})(t))||e&&t&&"number"==typeof t.length)return s&&(t=s),r=0,{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R1(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function L1(i){var n=(()=>{if("undefined"==typeof Reflect||!g)return!1;if(g.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g(Boolean,[],function(){})),!0}catch(t){return!1}})();return function(){var t,e=O(i);return bh(this,n?(t=O(this).constructor,g(e,arguments,t)):e.apply(this,arguments))}}var j1=(()=>{yh(a,Oy);var s=L1(a);function a(t,e,i,n){v(this,a),(o=s.call(this)).id=uy(),o.body=t,o.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return"".concat(Ty(t.toPrecision(3)))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return"".concat(Ty(t.toPrecision(3)))},title:{text:void 0,style:void 0}}},o.linegraphOptions=n,o.linegraphSVG=i,o.props={},o.DOMelements={lines:{},labels:{},title:{}},o.dom={},o.scale=void 0,o.range={start:0,end:0},o.options=F.extend({},o.defaultOptions),o.conversionFactor=1,o.setOptions(e),o.width=Number("".concat(o.options.width).replace("px","")),o.minWidth=o.width,o.height=o.linegraphSVG.getBoundingClientRect().height,o.hidden=!1,o.stepPixels=25,o.zeroCrossing=-1,o.amountOfSteps=-1,o.lineOffset=0,o.master=!0,o.masterAxis=null,o.svgElements={},o.iconsRemoved=!1,o.groups={},o.amountOfGroups=0,o._create(),null==o.scale&&o._redrawLabels(),o.framework={svg:o.svg,svgElements:o.svgElements,options:o.options,groups:o.groups};var o,r=Jl(o);return o.body.emitter.on("verticalDrag",function(){r.dom.lineContainer.style.top="".concat(r.body.domProps.scrollTop,"px")}),o}return T(a,[{key:"addGroup",value:function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1}},{key:"updateGroup",value:function(t,e){this.groups.hasOwnProperty(t)||(this.amountOfGroups+=1),this.groups[t]=e}},{key:"removeGroup",value:function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],--this.amountOfGroups)}},{key:"setOptions",value:function(t){var e;t&&(e=!1,this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0),F.selectiveDeepExtend(["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"],this.options,t),this.minWidth=Number("".concat(this.options.width).replace("px","")),!0===e)&&this.dom.frame&&(this.hide(),this.show())}},{key:"_create",value:function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.dom.lineContainer.style.visibility="visible",this.dom.lineContainer.style.display="block",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)}},{key:"_redrawGroupIcons",value:function(){O1(this.svgElements);var t,e=this.options.iconWidth,i=11.5,n="left"===this.options.orientation?4:this.width-e-4,o=Xu(this.groups),r=(rb(o).call(o,function(t,e){return t<e?-1:1}),F1(o));try{for(r.s();!(t=r.n()).done;){var s=t.value;!0!==this.groups[s].visible||void 0!==this.linegraphOptions.visibility[s]&&!0!==this.linegraphOptions.visibility[s]||(this.groups[s].getLegend(e,15,this.framework,n,i),i+=19)}}catch(t){r.e(t)}finally{r.f()}E1(this.svgElements),this.iconsRemoved=!1}},{key:"_cleanupIcons",value:function(){!1===this.iconsRemoved&&(O1(this.svgElements),E1(this.svgElements),this.iconsRemoved=!0)}},{key:"show",value:function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left:this.body.dom.right).appendChild(this.dom.frame),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer),this.dom.lineContainer.style.display="block"}},{key:"hide",value:function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.style.display="none"}},{key:"setRange",value:function(t,e){this.range.start=t,this.range.end=e}},{key:"redraw",value:function(){var t,e,i,n,o,r,s,a=!1,l=0;for(t in this.dom.lineContainer.style.top="".concat(this.body.domProps.scrollTop,"px"),this.groups)!this.groups.hasOwnProperty(t)||!0!==this.groups[t].visible||void 0!==this.linegraphOptions.visibility[t]&&!0!==this.linegraphOptions.visibility[t]||l++;return 0===this.amountOfGroups||0===l?this.hide():(this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height="".concat(this.height,"px"),this.width=!0===this.options.visible?Number("".concat(this.options.width).replace("px","")):0,e=this.props,(i=this.dom.frame).className="vis-data-axis",this._calculateCharSize(),n=this.options.orientation,o=this.options.showMinorLabels,r=this.options.showMajorLabels,s=this.body.dom.backgroundHorizontal.offsetWidth,e.minorLabelHeight=o?e.minorCharHeight:0,e.majorLabelHeight=r?e.majorCharHeight:0,e.minorLineWidth=s-this.lineOffset-this.width+2*this.options.minorLinesOffset,e.minorLineHeight=1,e.majorLineWidth=s-this.lineOffset-this.width+2*this.options.majorLinesOffset,e.majorLineHeight=1,"left"===n?(i.style.top="0",i.style.left="0",i.style.bottom="",i.style.width="".concat(this.width,"px"),i.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(i.style.top="",i.style.bottom="0",i.style.left="0",i.style.width="".concat(this.width,"px"),i.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),a=this._redrawLabels(),a=this._isResized()||a,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(n)),a}},{key:"_redrawLabels",value:function(){var n=this,o=(O1(this.DOMelements.lines),O1(this.DOMelements.labels),this.options.orientation),t=null!=this.options[o].range?this.options[o].range:{},e=!0,i=(null!=t.max&&(this.range.end=t.max,e=!1),!0),t=(null!=t.min&&(this.range.start=t.min,i=!1),this.scale=new N1(this.range.start,this.range.end,i,e,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[o].format),!1===this.master&&null!=this.masterAxis?(this.scale.followScale(this.masterAxis.scale),this.dom.lineContainer.style.display="none"):this.dom.lineContainer.style.display="block",this.maxLabelSize=0,this.scale.getLines()),i=(I(t).call(t,function(t){var e=t.y,i=t.major;n.options.showMinorLabels&&!1===i&&n._redrawLabel(e-2,t.val,o,"vis-y-axis vis-minor",n.props.minorCharHeight),i&&0<=e&&n._redrawLabel(e-2,t.val,o,"vis-y-axis vis-major",n.props.majorCharHeight),!0===n.master&&(i?n._redrawLine(e,o,"vis-grid vis-horizontal vis-major",n.options.majorLinesOffset,n.props.majorLineWidth):n._redrawLine(e,o,"vis-grid vis-horizontal vis-minor",n.options.minorLinesOffset,n.props.minorLineWidth))}),0),e=(void 0!==this.options[o].title&&void 0!==this.options[o].title.text&&(i=this.props.titleCharHeight),!0===this.options.icons?Math.max(this.options.iconWidth,i)+this.options.labelOffsetX+15:i+this.options.labelOffsetX+15);return this.maxLabelSize>this.width-e&&!0===this.options.visible?(this.width=this.maxLabelSize+e,this.options.width="".concat(this.width,"px"),E1(this.DOMelements.lines),E1(this.DOMelements.labels),this.redraw(),!0):this.maxLabelSize<this.width-e&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+e),this.options.width="".concat(this.width,"px"),E1(this.DOMelements.lines),E1(this.DOMelements.labels),this.redraw(),!0):(E1(this.DOMelements.lines),E1(this.DOMelements.labels),!1)}},{key:"convertValue",value:function(t){return this.scale.convertValue(t)}},{key:"screenToValue",value:function(t){return this.scale.screenToValue(t)}},{key:"_redrawLabel",value:function(t,e,i,n,o){var r=I1("div",this.DOMelements.labels,this.dom.frame),n=(r.className=n,r.innerHTML=F.xss(e),"left"===i?(r.style.left="-".concat(this.options.labelOffsetX,"px"),r.style.textAlign="right"):(r.style.right="-".concat(this.options.labelOffsetX,"px"),r.style.textAlign="left"),r.style.top="".concat(t-.5*o+this.options.labelOffsetY,"px"),e+="",Math.max(this.props.majorCharWidth,this.props.minorCharWidth));this.maxLabelSize<e.length*n&&(this.maxLabelSize=e.length*n)}},{key:"_redrawLine",value:function(t,e,i,n,o){var r;!0===this.master&&((r=I1("div",this.DOMelements.lines,this.dom.lineContainer)).className=i,r.innerHTML="","left"===e?r.style.left="".concat(this.width-n,"px"):r.style.right="".concat(this.width-n,"px"),r.style.width="".concat(o,"px"),r.style.top="".concat(t,"px"))}},{key:"_redrawTitle",value:function(t){var e;O1(this.DOMelements.title),void 0!==this.options[t].title&&void 0!==this.options[t].title.text&&((e=I1("div",this.DOMelements.title,this.dom.frame)).className="vis-y-axis vis-title vis-".concat(t),e.innerHTML=F.xss(this.options[t].title.text),void 0!==this.options[t].title.style&&F.addCssText(e,this.options[t].title.style),"left"===t?e.style.left="".concat(this.props.titleCharHeight,"px"):e.style.right="".concat(this.props.titleCharHeight,"px"),e.style.width="".concat(this.height,"px")),E1(this.DOMelements.title)}},{key:"_calculateCharSize",value:function(){var t,e;"minorCharHeight"in this.props||(t=document.createTextNode("0"),(e=document.createElement("div")).className="vis-y-axis vis-minor vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.minorCharHeight=e.clientHeight,this.props.minorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)),"majorCharHeight"in this.props||(t=document.createTextNode("0"),(e=document.createElement("div")).className="vis-y-axis vis-major vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.majorCharHeight=e.clientHeight,this.props.majorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)),"titleCharHeight"in this.props||(t=document.createTextNode("0"),(e=document.createElement("div")).className="vis-y-axis vis-title vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.titleCharHeight=e.clientHeight,this.props.titleCharWidth=e.clientWidth,this.dom.frame.removeChild(e))}}]),a})();function B1(t,e){}function z1(t,e){return{style:(e=void 0===e?{}:e).style||t.options.drawPoints.style,styles:e.styles||t.options.drawPoints.styles,size:e.size||t.options.drawPoints.size,className:e.className||t.className}}function H1(t,e){}function G1(t,e){}function W1(t,e,i,n){this.id=e;this.options=F.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"],i),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=n,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible||t.visible}function Y1(t,e,i,n){this.body=t,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=i,this.options=F.extend({},this.defaultOptions),this.linegraphOptions=n,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}B1.draw=function(t,e,i,n){n=n||0;for(var o,r=((t,e)=>{var i=void 0;return t.options&&t.options.drawPoints&&t.options.drawPoints.onRender&&"function"==typeof t.options.drawPoints.onRender&&(i=t.options.drawPoints.onRender),i=e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&"function"==typeof e.group.options.drawPoints.onRender?e.group.options.drawPoints.onRender:i})(i,e),s=0;s<t.length;s++)r?!0!==(o=r(t[s],e))&&"object"!==D(o)||P1(t[s].screen_x+n,t[s].screen_y,z1(e,o),i.svgElements,i.svg,t[s].label):P1(t[s].screen_x+n,t[s].screen_y,z1(e),i.svgElements,i.svg,t[s].label)},B1.drawIcon=function(t,e,i,n,o,r){var o=.5*o,s=A1("rect",r.svgElements,r.svg);s.setAttributeNS(null,"x",e),s.setAttributeNS(null,"y",i-o),s.setAttributeNS(null,"width",n),s.setAttributeNS(null,"height",2*o),s.setAttributeNS(null,"class","vis-outline"),P1(e+.5*n,i,z1(t),r.svgElements,r.svg)},H1.drawIcon=function(t,e,i,n,o,r){var s=.5*o,a=A1("rect",r.svgElements,r.svg),a=(a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",i-s),a.setAttributeNS(null,"width",n),a.setAttributeNS(null,"height",2*s),a.setAttributeNS(null,"class","vis-outline"),Math.round(.3*n)),l=t.options.barChart.width/a,h=Math.round(.4*o),o=Math.round(.75*o),n=Math.round((n-2*a)/3);M1(e+.5*a+n,i+s-h-1,a,h,t.className+" vis-bar",r.svgElements,r.svg,t.style),M1(e+1.5*a+n+2,i+s-o-1,a,o,t.className+" vis-bar",r.svgElements,r.svg,t.style),1==t.options.drawPoints.enabled&&(P1(e+.5*a+n,i+s-h-1,h={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/l,className:t.className},r.svgElements,r.svg),P1(e+1.5*a+n+2,i+s-o-1,h,r.svgElements,r.svg))},H1.draw=function(t,e,i){for(var n,o,r,s=[],a={},l=0,h=0;h<t.length;h++)if("bar"===(u=i.groups[t[h]]).options.style&&!0===u.visible&&(void 0===i.options.groups.visibility[t[h]]||!0===i.options.groups.visibility[t[h]]))for(r=0;r<e[t[h]].length;r++)s.push({screen_x:e[t[h]][r].screen_x,screen_end:e[t[h]][r].screen_end,screen_y:e[t[h]][r].screen_y,x:e[t[h]][r].x,end:e[t[h]][r].end,y:e[t[h]][r].y,groupId:t[h],label:e[t[h]][r].label}),l+=1;if(0!==l)for(rb(s).call(s,function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}),H1._getDataIntersections(a,s),h=0;h<s.length;h++){var u,c,d=null!=(u=i.groups[s[h].groupId]).options.barChart.minWidth?u.options.barChart.minWidth:.1*u.options.barChart.width,p=0,m=(void 0===a[c=s[h].screen_x]?(h+1<s.length&&(n=Math.abs(s[h+1].screen_x-c)),o=H1._getSafeDrawData(n,u,d)):((m=h+(a[c].amount-a[c].resolved))<s.length&&(n=Math.abs(s[m].screen_x-c)),o=H1._getSafeDrawData(n,u,d),a[c].resolved+=1,!0===u.options.stack&&!0!==u.options.excludeFromStacking?s[h].screen_y<u.zeroPosition?(p=a[c].accumulatedNegative,a[c].accumulatedNegative+=u.zeroPosition-s[h].screen_y):(p=a[c].accumulatedPositive,a[c].accumulatedPositive+=u.zeroPosition-s[h].screen_y):!0===u.options.barChart.sideBySide&&(o.width=o.width/a[c].amount,o.offset+=a[c].resolved*o.width-.5*o.width*(a[c].amount+1))),o.width),d=s[h].screen_x;null!=s[h].screen_end?d+=.5*(m=s[h].screen_end-s[h].screen_x):d+=o.offset,M1(d,s[h].screen_y-p,m,u.zeroPosition-s[h].screen_y,u.className+" vis-bar",i.svgElements,i.svg,u.style),!0===u.options.drawPoints.enabled&&(c={screen_x:s[h].screen_x,screen_y:s[h].screen_y-p,x:s[h].x,y:s[h].y,groupId:s[h].groupId,label:s[h].label},B1.draw([c],u,i,o.offset))}},H1._getDataIntersections=function(t,e){for(var i,n=0;n<e.length;n++)n+1<e.length&&(i=Math.abs(e[n+1].screen_x-e[n].screen_x)),0===(i=0<n?Math.min(i,Math.abs(e[n-1].screen_x-e[n].screen_x)):i)&&(void 0===t[e[n].screen_x]&&(t[e[n].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[e[n].screen_x].amount+=1)},H1._getSafeDrawData=function(t,e,i){var n,o;return t<e.options.barChart.width&&0<t?(n=t<i?i:t,o=0,"left"===e.options.barChart.align?o-=.5*t:"right"===e.options.barChart.align&&(o+=.5*t)):(n=e.options.barChart.width,o=0,"left"===e.options.barChart.align?o-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(o+=.5*e.options.barChart.width)),{width:n,offset:o}},H1.getStackedYRange=function(t,e,i,n,o){var r;0<t.length&&(rb(t).call(t,function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}),H1._getDataIntersections(r={},t),e[n]=H1._getStackedYRange(r,t),e[n].yAxisOrientation=o,i.push(n))},H1._getStackedYRange=function(t,e){for(var i,n,o=e[0].screen_y,r=e[0].screen_y,s=0;s<e.length;s++)void 0===t[i=e[s].screen_x]?(o=o>e[s].screen_y?e[s].screen_y:o,r=r<e[s].screen_y?e[s].screen_y:r):e[s].screen_y<0?t[i].accumulatedNegative+=e[s].screen_y:t[i].accumulatedPositive+=e[s].screen_y;for(n in t)t.hasOwnProperty(n)&&(o=(o=o>t[n].accumulatedNegative?t[n].accumulatedNegative:o)>t[n].accumulatedPositive?t[n].accumulatedPositive:o,r=(r=r<t[n].accumulatedNegative?t[n].accumulatedNegative:r)<t[n].accumulatedPositive?t[n].accumulatedPositive:r);return{min:o,max:r}},G1.calcPath=function(t,e){if(null!=t&&0<t.length)return 1==e.options.interpolation.enabled?G1._catmullRom(t,e):G1._linear(t)},G1.drawIcon=function(t,e,i,n,o,r){var o=.5*o,s=A1("rect",r.svgElements,r.svg);s.setAttributeNS(null,"x",e),s.setAttributeNS(null,"y",i-o),s.setAttributeNS(null,"width",n),s.setAttributeNS(null,"height",2*o),s.setAttributeNS(null,"class","vis-outline"),(s=A1("path",r.svgElements,r.svg)).setAttributeNS(null,"class",t.className),void 0!==t.style&&s.setAttributeNS(null,"style",t.style),s.setAttributeNS(null,"d","M"+e+","+i+" L"+(e+n)+","+i),1==t.options.shaded.enabled&&(s=A1("path",r.svgElements,r.svg),"top"==t.options.shaded.orientation?s.setAttributeNS(null,"d","M"+e+", "+(i-o)+"L"+e+","+i+" L"+(e+n)+","+i+" L"+(e+n)+","+(i-o)):s.setAttributeNS(null,"d","M"+e+","+i+" L"+e+","+(i+o)+" L"+(e+n)+","+(i+o)+"L"+(e+n)+","+i),s.setAttributeNS(null,"class",t.className+" vis-icon-fill"),void 0!==t.options.shaded.style)&&""!==t.options.shaded.style&&s.setAttributeNS(null,"style",t.options.shaded.style),1==t.options.drawPoints.enabled&&P1(e+.5*n,i,{style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className},r.svgElements,r.svg)},G1.drawShading=function(t,e,i,n){var o,r,s;1==e.options.shaded.enabled&&(s=Number(n.svg.style.height.replace("px","")),n=A1("path",n.svgElements,n.svg),o="L",1==e.options.interpolation.enabled&&(o="C"),r=0,r="top"==e.options.shaded.orientation?0:"bottom"==e.options.shaded.orientation?s:Math.min(Math.max(0,e.zeroPosition),s),s="group"==e.options.shaded.orientation&&null!=i?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,o,!1)+" L"+i[i.length-1][0]+","+i[i.length-1][1]+" "+this.serializePath(i,o,!0)+i[0][0]+","+i[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,o,!1)+" V"+r+" H"+t[0][0]+" Z",n.setAttributeNS(null,"class",e.className+" vis-fill"),void 0!==e.options.shaded.style&&n.setAttributeNS(null,"style",e.options.shaded.style),n.setAttributeNS(null,"d",s))},G1.draw=function(t,e,i){var n;null!=t&&((i=A1("path",i.svgElements,i.svg)).setAttributeNS(null,"class",e.className),void 0!==e.style&&i.setAttributeNS(null,"style",e.style),n="L",1==e.options.interpolation.enabled&&(n="C"),i.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,n,!1)))},G1.serializePath=function(t,e,i){if(t.length<2)return"";var n,o=e;if(i)for(n=t.length-2;0<n;n--)o+=t[n][0]+","+t[n][1]+" ";else for(n=1;n<t.length;n++)o+=t[n][0]+","+t[n][1]+" ";return o},G1._catmullRomUniform=function(t){for(var e,i,n,o,r=[],s=(r.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]),t.length),a=0;a<s-1;a++)n=0==a?t[0]:t[a-1],o=t[a],e=t[a+1],i=a+2<s?t[a+2]:e,n={screen_x:(-n.screen_x+6*o.screen_x+e.screen_x)*(1/6),screen_y:(6*o.screen_y-n.screen_y+e.screen_y)*(1/6)},o={screen_x:(o.screen_x+6*e.screen_x-i.screen_x)*(1/6),screen_y:1/6*(o.screen_y+6*e.screen_y-i.screen_y)},r.push([n.screen_x,n.screen_y]),r.push([o.screen_x,o.screen_y]),r.push([e.screen_x,e.screen_y]);return r},G1._catmullRom=function(t,e){var i=e.options.interpolation.alpha;if(0==i||void 0===i)return this._catmullRomUniform(t);for(var n,o,r,s,a,l,h,u,c,d,p,m,f=[],g=(f.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]),t.length),v=0;v<g-1;v++)s=0==v?t[0]:t[v-1],n=t[v],o=t[v+1],r=v+2<g?t[v+2]:o,p=Math.sqrt(Math.pow(s.screen_x-n.screen_x,2)+Math.pow(s.screen_y-n.screen_y,2)),d=Math.sqrt(Math.pow(n.screen_x-o.screen_x,2)+Math.pow(n.screen_y-o.screen_y,2)),c=Math.sqrt(Math.pow(o.screen_x-r.screen_x,2)+Math.pow(o.screen_y-r.screen_y,2)),h=Math.pow(c,i),c=Math.pow(c,2*i),u=Math.pow(d,i),d=Math.pow(d,2*i),m=Math.pow(p,i),p=Math.pow(p,2*i),0<(a=3*m*(m+u))&&(a=1/a),0<(l=3*h*(h+u))&&(l=1/l),s={screen_x:(-d*s.screen_x+(m=2*p+3*m*u+d)*n.screen_x+p*o.screen_x)*a,screen_y:(-d*s.screen_y+m*n.screen_y+p*o.screen_y)*a},p={screen_x:(c*n.screen_x+(m=2*c+3*h*u+d)*o.screen_x-d*r.screen_x)*l,screen_y:(c*n.screen_y+m*o.screen_y-d*r.screen_y)*l},0==s.screen_x&&0==s.screen_y&&(s=n),0==p.screen_x&&0==p.screen_y&&(p=o),f.push([s.screen_x,s.screen_y]),f.push([p.screen_x,p.screen_y]),f.push([o.screen_x,o.screen_y]);return f},G1._linear=function(t){for(var e=[],i=0;i<t.length;i++)e.push([t[i].screen_x,t[i].screen_y]);return e},W1.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==rb(this.options)&&F.insertSort(this.itemsData,function(t,e){return t.x>e.x?1:-1})):this.itemsData=[]},W1.prototype.getItems=function(){return this.itemsData},W1.prototype.setZeroPosition=function(t){this.zeroPosition=t},W1.prototype.setOptions=function(t){void 0!==t&&(F.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"],this.options,t),"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),F.mergeOptions(this.options,t,"interpolation"),F.mergeOptions(this.options,t,"drawPoints"),F.mergeOptions(this.options,t,"shaded"),t.interpolation)&&"object"==D(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))},W1.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible||t.visible,this.style=t.style,this.setOptions(t.options)},W1.prototype.getLegend=function(t,e,i,n,o){switch(null==i&&(i={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]}),null==n&&(n=0),null==o&&(o=.5*e),this.options.style){case"line":G1.drawIcon(this,n,o,t,e,i);break;case"points":case"point":B1.drawIcon(this,n,o,t,e,i);break;case"bar":H1.drawIcon(this,n,o,t,e,i)}return{icon:i.svg,label:this.content,orientation:this.options.yAxisOrientation}},W1.prototype.getYRange=function(t){for(var e=t[0].y,i=t[0].y,n=0;n<t.length;n++)e=e>t[n].y?t[n].y:e,i=i<t[n].y?t[n].y:i;return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}},(Y1.prototype=new Oy).clear=function(){this.groups={},this.amountOfGroups=0},Y1.prototype.addGroup=function(t,e){1!=e.options.excludeFromLegend&&(this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1)},Y1.prototype.updateGroup=function(t,e){this.groups[t]=e},Y1.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],--this.amountOfGroups)},Y1.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},Y1.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},Y1.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},Y1.prototype.setOptions=function(t){F.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,t)},Y1.prototype.redraw=function(){var t=0,e=Xu(this.groups);rb(e).call(e,function(t,e){return t<e?-1:1});for(var i=0;i<e.length;i++){var n=e[i];1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position?(this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom=""):(o=this.body.domProps.center.height-this.body.domProps.centerContainer.height,this.dom.frame.style.bottom=4+o+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""),0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());for(var o,r="",i=0;i<e.length;i++)n=e[i],1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||(r+=this.groups[n].content+"<br />");this.dom.textArea.innerHTML=F.xss(r),this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},Y1.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=Xu(this.groups),e=(rb(t).call(t,function(t,e){return t<e?-1:1}),O1(e=this.svgElements),E1(e),O1(e),window.getComputedStyle(this.dom.frame).paddingTop),e=Number(e.replace("px","")),i=e,n=this.options.iconSize,o=.75*this.options.iconSize,r=e+.5*o+3;this.svg.style.width=n+5+e+"px";for(var s=0;s<t.length;s++){var a=t[s];1!=this.groups[a].visible||void 0!==this.linegraphOptions.visibility[a]&&1!=this.linegraphOptions.visibility[a]||(this.groups[a].getLegend(n,o,this.framework,i,r),r+=o+this.options.iconSpacing)}}var e};var V1="__ungrouped__";function R(t,e){this.id=uy(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=F.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var n=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,i){n._onAdd(e.items)},update:function(t,e,i){n._onUpdate(e.items)},remove:function(t,e,i){n._onRemove(e.items)}},this.groupListeners={add:function(t,e,i){n._onAddGroups(e.items)},update:function(t,e,i){n._onUpdateGroups(e.items)},remove:function(t,e,i){n._onRemoveGroups(e.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){n.svg.style.left=F.option.asSize(-n.props.width),n.forceGraphUpdate=!0,n.redraw.call(n)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}(R.prototype=new Oy)._create=function(){var t=document.createElement("div");t.className="vis-line-graph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new j1(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new j1(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new Y1(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new Y1(this.body,this.options.legend,"right",this.options.groups),this.show()},R.prototype.setOptions=function(t){t&&(void 0===t.graphHeight&&void 0!==t.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&Jp((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),F.selectiveDeepExtend(["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"],this.options,t),F.mergeOptions(this.options,t,"interpolation"),F.mergeOptions(this.options,t,"drawPoints"),F.mergeOptions(this.options,t,"shaded"),F.mergeOptions(this.options,t,"legend"),t.interpolation&&"object"==D(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(V1))&&this.groups[V1].setOptions(t),this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},R.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},R.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},R.prototype.setItems=function(t){var e,i,n=this,o=this.itemsData;if(t){if(!py(t))throw new TypeError("Data must implement the interface of DataSet or DataView");this.itemsData=vy(t)}else this.itemsData=null;o&&(I(F).call(F,this.itemListeners,function(t,e){o.off(e,t)}),o.dispose(),e=o.getIds(),this._onRemove(e)),this.itemsData&&(i=this.id,I(F).call(F,this.itemListeners,function(t,e){n.itemsData.on(e,t,i)}),e=this.itemsData.getIds(),this._onAdd(e))},R.prototype.setGroups=function(t){var e,i,n=this;if(this.groupsData){I(F).call(F,this.groupListeners,function(t,e){n.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null;for(var o=0;o<e.length;o++)this._removeGroup(e[o])}if(t){if(!py(t))throw new TypeError("Data must implement the interface of DataSet or DataView");this.groupsData=t}else this.groupsData=null;this.groupsData&&(i=this.id,I(F).call(F,this.groupListeners,function(t,e){n.groupsData.on(e,t,i)}),e=this.groupsData.getIds(),this._onAddGroups(e))},R.prototype._onUpdate=function(t){this._updateAllGroupData(t)},R.prototype._onAdd=function(t){this._onUpdate(t)},R.prototype._onRemove=function(t){this._onUpdate(t)},R.prototype._onUpdateGroups=function(t){this._updateAllGroupData(null,t)},R.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},R.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this._removeGroup(t[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},R.prototype._removeGroup=function(t){this.groups.hasOwnProperty(t)&&(("right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t),this.legendRight):(this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t),this.legendLeft)).redraw(),delete this.groups[t])},R.prototype._updateGroup=function(t,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(t),("right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight)).removeGroup(e)):(this.groups[e]=new W1(t,e,this.options,this.groupsUsingDefaultStyles),("right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft)).addGroup(e,this.groups[e])),this.legendLeft.redraw(),this.legendRight.redraw()},R.prototype._updateAllGroupData=function(t,e){if(null!=this.itemsData){for(var i={},n=this.itemsData.get(),o=this.itemsData.idProp,r={},s=(t&&Ou(t).call(t,function(t){r[t]=t}),{}),a=0;a<n.length;a++){var l=n[a],h=l.group;s.hasOwnProperty(h=null==h?V1:h)?s[h]++:s[h]=1}var u,c,d,p,m={};if(!e&&t)for(h in this.groups)this.groups.hasOwnProperty(h)&&(u=(p=this.groups[h]).getItems(),i[h]=P(u).call(u,function(t){return m[t[o]]=t[o],t[o]!==r[t[o]]}),u=s[h],s[h]-=i[h].length,i[h].length<u)&&(i[h][u-1]={});for(a=0;a<n.length;a++)null==(h=(l=n[a]).group)&&(h=V1),!e&&t&&l[o]!==r[l[o]]&&m.hasOwnProperty(l[o])||(i.hasOwnProperty(h)||(i[h]=new Array(s[h])),(c=F.bridgeObject(l)).x=F.convert(l.x,"Date"),c.end=F.convert(l.end,"Date"),c.orginalY=l.y,c.y=Number(l.y),c[o]=l[o],d=i[h].length-s[h]--,i[h][d]=c);for(h in this.groups)!this.groups.hasOwnProperty(h)||i.hasOwnProperty(h)||(i[h]=new Array(0));for(h in i)i.hasOwnProperty(h)&&(0==i[h].length?this.groups.hasOwnProperty(h)&&this._removeGroup(h):(p=void 0,null==(p=null!=this.groupsData?this.groupsData.get(h):p)&&(p={id:h,content:this.options.defaultGroup+h}),this._updateGroup(p,h),this.groups[h].setItems(i[h])));this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},R.prototype.redraw=function(){var t=!1,e=(this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,t=this._isResized()||t,this.body.range.end-this.body.range.start),i=e!=this.lastVisibleInterval;return this.lastVisibleInterval=e,1==t&&(this.svg.style.width=F.option.asSize(3*this.props.width),this.svg.style.left=F.option.asSize(-this.props.width),-1==N(e=this.options.height+"").call(e,"%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==t||1==i||1==this.abortedGraphUpdate||1==this.forceGraphUpdate?(t=this._updateGraph()||t,this.forceGraphUpdate=!1,this.lastStart=this.body.range.start,this.svg.style.left=-this.props.width+"px"):0!=this.lastStart&&(e=this.body.range.start-this.lastStart,i=this.body.range.end-this.body.range.start,0!=this.props.width)&&(i=this.props.width/i,this.svg.style.left=-this.props.width-e*i+"px"),this.legendLeft.redraw(),this.legendRight.redraw(),t},R.prototype._getSortedGroupIds=function(){var t,e,i=[];for(t in this.groups)!this.groups.hasOwnProperty(t)||1!=(e=this.groups[t]).visible||void 0!==this.options.groups.visibility[t]&&1!=this.options.groups.visibility[t]||i.push({id:t,zIndex:e.options.zIndex});F.insertSort(i,function(t,e){t=t.zIndex,e=e.zIndex;return(t=void 0===t?0:t)==(e=void 0===e?0:e)?0:t<e?-1:1});for(var n=new Array(i.length),o=0;o<i.length;o++)n[o]=i[o].id;return n},R.prototype._updateGraph=function(){if(O1(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t={},e=this.body.util.toGlobalTime(-this.body.domProps.root.width),i=this.body.util.toGlobalTime(2*this.body.domProps.root.width),n=this._getSortedGroupIds();if(0<n.length){var o={};for(this._getRelevantData(n,o,e,i),this._applySampling(n,o),s=0;s<n.length;s++)this._convertXcoordinates(o[n[s]]);if(this._getYRanges(n,o,t),1==this._updateYAxis(n,t))return E1(this.svgElements),this.abortedGraphUpdate=!0;this.abortedGraphUpdate=!1;for(var r=void 0,s=0;s<n.length;s++)l=this.groups[n[s]],!0!==this.options.stack||"line"!==this.options.style||null!=l.options.excludeFromStacking&&l.options.excludeFromStacking||(null!=r&&(this._stack(o[l.id],o[r.id]),1==l.options.shaded.enabled)&&"group"!==l.options.shaded.orientation&&("top"==l.options.shaded.orientation&&"group"!==r.options.shaded.orientation?(r.options.shaded.orientation="group",r.options.shaded.groupId=l.id):(l.options.shaded.orientation="group",l.options.shaded.groupId=r.id)),r=l),this._convertYcoordinates(o[n[s]],l);var a,l,h={};for(s=0;s<n.length;s++)"line"===(l=this.groups[n[s]]).options.style&&1==l.options.shaded.enabled&&null!=(a=o[n[s]])&&0!=a.length&&(h.hasOwnProperty(n[s])||(h[n[s]]=G1.calcPath(a,l)),"group"===l.options.shaded.orientation?(a=l.options.shaded.groupId,-1===N(n).call(n,a)?console.log(l.id+": Unknown shading group target given:"+a):(h.hasOwnProperty(a)||(h[a]=G1.calcPath(o[a],this.groups[a])),G1.drawShading(h[n[s]],l,h[a],this.framework))):G1.drawShading(h[n[s]],l,void 0,this.framework));for(H1.draw(n,o,this.framework),s=0;s<n.length;s++)if(l=this.groups[n[s]],0<o[n[s]].length)switch(l.options.style){case"line":h.hasOwnProperty(n[s])||(h[n[s]]=G1.calcPath(o[n[s]],l)),G1.draw(h[n[s]],l,this.framework);case"point":case"points":"point"!=l.options.style&&"points"!=l.options.style&&1!=l.options.drawPoints.enabled||B1.draw(o[n[s]],l,this.framework)}}}return E1(this.svgElements),!1},R.prototype._stack=function(t,e){for(var i,n,o=0,r=0;r<t.length;r++){for(var s=void 0,a=void 0,l=o;l<e.length;l++){if(e[l].x===t[r].x){s=e[l],a=e[l],o=l;break}if(e[l].x>t[r].x){a=e[l],s=0==l?a:e[l-1],o=l;break}}void 0===a&&(s=e[e.length-1],a=e[e.length-1]),i=a.x-s.x,n=a.y-s.y,t[r].y=0==i?t[r].orginalY+a.y:t[r].orginalY+n/i*(t[r].x-s.x)+s.y}},R.prototype._getRelevantData=function(t,e,i,n){var o,r;if(0<t.length)for(o=0;o<t.length;o++){var s,a=(s=this.groups[t[o]]).getItems();if(1==rb(s.options)){for(var l=function(t,e){return t.getTime()==e.getTime()?0:t<e?-1:1},h=Math.max(0,F.binarySearchValue(a,i,"x","before",l)),u=Math.min(a.length,F.binarySearchValue(a,n,"x","after",l)+1),c=(u<=0&&(u=a.length),new Array(u-h)),d=h;d<u;d++)r=s.itemsData[d],c[d-h]=r;e[t[o]]=c}else e[t[o]]=s.itemsData}},R.prototype._applySampling=function(t,e){if(0<t.length)for(var i=0;i<t.length;i++)if(1==this.groups[t[i]].options.sampling){var n=e[t[i]];if(0<n.length){for(var o=n.length,r=o/(this.body.util.toGlobalScreen(n[n.length-1].x)-this.body.util.toGlobalScreen(n[0].x)),s=Math.min(Math.ceil(.2*o),Math.max(1,Math.round(r))),a=new Array(o),l=0;l<o;l+=s)a[Math.round(l/s)]=n[l];e[t[i]]=Qd(a).call(a,0,Math.round(o/s))}}},R.prototype._getYRanges=function(t,e,i){var n,o,r,s,a=[],l=[];if(0<t.length){for(r=0;r<t.length;r++)n=e[t[r]],s=this.groups[t[r]].options,0<n.length&&(o=this.groups[t[r]],!0===s.stack&&"bar"===s.style?"left"===s.yAxisOrientation?a=M(a).call(a,n):l=M(l).call(l,n):i[t[r]]=o.getYRange(n,t[r]));H1.getStackedYRange(a,i,t,"__barStackLeft","left"),H1.getStackedYRange(l,i,t,"__barStackRight","right")}},R.prototype._updateYAxis=function(t,e){var i,n,o=!1,r=!1,s=!1,a=1e9,l=1e9,h=-1e9,u=-1e9;if(0<t.length){for(var c=0;c<t.length;c++){var d=this.groups[t[c]];d&&"right"!=d.options.yAxisOrientation?(r=!0,h=-(a=1e9)):d&&d.options.yAxisOrientation&&(s=!0,u=-(l=1e9))}for(c=0;c<t.length;c++)e.hasOwnProperty(t[c])&&!0!==e[t[c]].ignore&&(i=e[t[c]].min,n=e[t[c]].max,"right"!=e[t[c]].yAxisOrientation?(r=!0,a=i<a?i:a,h=h<n?n:h):(s=!0,l=i<l?i:l,u=u<n?n:u));1==r&&this.yAxisLeft.setRange(a,h),1==s&&this.yAxisRight.setRange(l,u)}o=this._toggleAxisVisiblity(r,this.yAxisLeft)||o,o=this._toggleAxisVisiblity(s,this.yAxisRight)||o,1==s&&1==r?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!r,this.yAxisRight.masterAxis=this.yAxisLeft;0==this.yAxisRight.master&&(this.yAxisLeft.lineOffset=1==s?this.yAxisRight.width:0,o=this.yAxisLeft.redraw()||o);for(var o=this.yAxisRight.redraw()||o,p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"],c=0;c<p.length;c++)-1!=N(t).call(t,p[c])&&Qd(t).call(t,N(t).call(t,p[c]),1);return o},R.prototype._toggleAxisVisiblity=function(t,e){var i=!1;return 0==t?e.dom.frame.parentNode&&0==e.hidden&&(e.hide(),i=!0):e.dom.frame.parentNode||1!=e.hidden||(e.show(),i=!0),i},R.prototype._convertXcoordinates=function(t){for(var e=this.body.util.toScreen,i=0;i<t.length;i++)t[i].screen_x=e(t[i].x)+this.props.width,t[i].screen_y=t[i].y,null!=t[i].end?t[i].screen_end=e(t[i].end)+this.props.width:t[i].screen_end=void 0};var _="string",p="boolean",C="number",k="date",m="object",d="moment",U1={configure:{enabled:{boolean:p},filter:{boolean:p,function:"function"},container:{dom:"dom"},__type__:{object:m,boolean:p,function:"function"}},alignCurrentTime:{string:_,undefined:"undefined"},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:_},sort:{boolean:p},sampling:{boolean:p},stack:{boolean:p},graphHeight:{string:_,number:C},shaded:{enabled:{boolean:p},orientation:{string:["bottom","top","zero","group"]},groupId:{object:m},__type__:{boolean:p,object:m}},style:{string:["line","bar","points"]},barChart:{width:{number:C},minWidth:{number:C},sideBySide:{boolean:p},align:{string:["left","center","right"]},__type__:{object:m}},interpolation:{enabled:{boolean:p},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:C},__type__:{object:m,boolean:p}},drawPoints:{enabled:{boolean:p},onRender:{function:"function"},size:{number:C},style:{string:["square","circle"]},__type__:{object:m,boolean:p,function:"function"}},dataAxis:{showMinorLabels:{boolean:p},showMajorLabels:{boolean:p},showWeekScale:{boolean:p},icons:{boolean:p},width:{string:_,number:C},visible:{boolean:p},alignZeros:{boolean:p},left:{range:{min:{number:C,undefined:"undefined"},max:{number:C,undefined:"undefined"},__type__:{object:m}},format:{function:"function"},title:{text:{string:_,number:C,undefined:"undefined"},style:{string:_,undefined:"undefined"},__type__:{object:m}},__type__:{object:m}},right:{range:{min:{number:C,undefined:"undefined"},max:{number:C,undefined:"undefined"},__type__:{object:m}},format:{function:"function"},title:{text:{string:_,number:C,undefined:"undefined"},style:{string:_,undefined:"undefined"},__type__:{object:m}},__type__:{object:m}},__type__:{object:m}},legend:{enabled:{boolean:p},icons:{boolean:p},left:{visible:{boolean:p},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:m}},right:{visible:{boolean:p},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:m}},__type__:{object:m,boolean:p}},groups:{visibility:{any:"any"},__type__:{object:m}},autoResize:{boolean:p},throttleRedraw:{number:C},clickToUse:{boolean:p},end:{number:C,date:k,string:_,moment:d},format:{minorLabels:{millisecond:{string:_,undefined:"undefined"},second:{string:_,undefined:"undefined"},minute:{string:_,undefined:"undefined"},hour:{string:_,undefined:"undefined"},weekday:{string:_,undefined:"undefined"},day:{string:_,undefined:"undefined"},week:{string:_,undefined:"undefined"},month:{string:_,undefined:"undefined"},quarter:{string:_,undefined:"undefined"},year:{string:_,undefined:"undefined"},__type__:{object:m}},majorLabels:{millisecond:{string:_,undefined:"undefined"},second:{string:_,undefined:"undefined"},minute:{string:_,undefined:"undefined"},hour:{string:_,undefined:"undefined"},weekday:{string:_,undefined:"undefined"},day:{string:_,undefined:"undefined"},week:{string:_,undefined:"undefined"},month:{string:_,undefined:"undefined"},quarter:{string:_,undefined:"undefined"},year:{string:_,undefined:"undefined"},__type__:{object:m}},__type__:{object:m}},moment:{function:"function"},height:{string:_,number:C},hiddenDates:{start:{date:k,number:C,string:_,moment:d},end:{date:k,number:C,string:_,moment:d},repeat:{string:_},__type__:{object:m,array:"array"}},locale:{string:_},locales:{__any__:{any:"any"},__type__:{object:m}},max:{date:k,number:C,string:_,moment:d},maxHeight:{number:C,string:_},maxMinorChars:{number:C},min:{date:k,number:C,string:_,moment:d},minHeight:{number:C,string:_},moveable:{boolean:p},multiselect:{boolean:p},orientation:{string:_},showCurrentTime:{boolean:p},showMajorLabels:{boolean:p},showMinorLabels:{boolean:p},showWeekScale:{boolean:p},snap:{function:"function",null:"null"},start:{date:k,number:C,string:_,moment:d},timeAxis:{scale:{string:_,undefined:"undefined"},step:{number:C,undefined:"undefined"},__type__:{object:m}},width:{string:_,number:C},zoomable:{boolean:p},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:C},zoomMin:{number:C},zIndex:{number:C},__type__:{object:m}},X1={global:{alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],sort:!0,sampling:!0,stack:!(R.prototype._convertYcoordinates=function(t,e){var i=this.yAxisLeft,n=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(i=this.yAxisRight);for(var o=0;o<t.length;o++)t[o].screen_y=Math.round(i.convertValue(t[o].y));e.setZeroPosition(Math.min(n,i.convertValue(0)))}),shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",quarter:"[Q]Q",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",quarter:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,showWeekScale:!1,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};function q1(t,e,i,n){!E(i)&&!py(i)&&i instanceof Object&&(o=n,n=i,i=o),n&&n.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var o,r=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:Xh,width:null,height:null,maxHeight:null,minHeight:null},this.options=F.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:A(o=this.on).call(o,this),off:A(t=this.off).call(t,this),emit:A(o=this.emit).call(o,this)},hiddenDates:[],util:{getScale:function(){return r.timeAxis.step.scale},getStep:function(){return r.timeAxis.step.step},toScreen:A(t=r._toScreen).call(t,r),toGlobalScreen:A(o=r._toGlobalScreen).call(o,r),toTime:A(t=r._toTime).call(t,r),toGlobalTime:A(o=r._toGlobalTime).call(o,r)}},this.range=new wb(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new Fb(this.body),this.components.push(this.timeAxis),this.currentTime=new Yb(this.body),this.components.push(this.currentTime),this.linegraph=new R(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){r.emit("click",r.getEventProperties(t))}),this.on("doubletap",function(t){r.emit("doubleClick",r.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){r.emit("contextmenu",r.getEventProperties(t))},this.initialFitDone=!1,this.on("changed",function(){var t,e;null==r.itemsData||(r.initialFitDone||r.options.rollingMode||(r.initialFitDone=!0,null!=r.options.start||null!=r.options.end?(null!=r.options.start&&null!=r.options.end||(e=r.getItemRange()),t=null!=r.options.start?r.options.start:e.min,e=null!=r.options.end?r.options.end:e.max,r.setWindow(t,e,{animation:!1})):r.fit({animation:!1})),r.initialDrawDone)||!r.initialRangeChangeDone&&(r.options.start||r.options.end)&&!r.options.rollingMode||(r.initialDrawDone=!0,r.dom.root.style.visibility="visible",r.dom.loadingScreen.parentNode.removeChild(r.dom.loadingScreen),r.options.onInitialDrawComplete&&Lh(function(){return r.options.onInitialDrawComplete()},0))}),n&&this.setOptions(n),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}(q1.prototype=new Gb).setOptions=function(t){!0===y1.validate(t,U1)&&console.log("%cErrors have been found in the supplied options object.",v1),Gb.prototype.setOptions.call(this,t)},q1.prototype.setItems=function(t){var e=null==this.itemsData,t=t?py(t)?vy(t):vy(new B.DataSet(t)):null;this.itemsData&&this.itemsData.dispose(),this.itemsData=t,this.linegraph&&this.linegraph.setItems(null!=t?t.rawDS:null),e&&(null!=this.options.start||null!=this.options.end?(t=null!=this.options.start?this.options.start:null,e=null!=this.options.end?this.options.end:null,this.setWindow(t,e,{animation:!1})):this.fit({animation:!1}))},q1.prototype.setGroups=function(t){t=t?py(t)?t:new B.DataSet(t):null;this.groupsData=t,this.linegraph.setGroups(t)},q1.prototype.getLegend=function(t,e,i){return void 0===e&&(e=15),void 0===i&&(i=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,i):"cannot find group:'"+t+"'"},q1.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]&&this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t])},q1.prototype.getDataRange=function(){var t,e=null,i=null;for(t in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(t)&&1==this.linegraph.groups[t].visible)for(var n=0;n<this.linegraph.groups[t].itemsData.length;n++)var o=this.linegraph.groups[t].itemsData[n],o=F.convert(o.x,"Date").valueOf(),e=null==e||o<e?o:e,i=null==i||i<o?o:i;return{min:null!=e?new Date(e):null,max:null!=i?new Date(i):null}},q1.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY,e=e-F.getAbsoluteLeft(this.dom.centerContainer),i=i-F.getAbsoluteTop(this.dom.centerContainer),n=this._toTime(e),o=Hb.customTimeFromTarget(t),r=F.getTarget(t),s=null,r=(F.hasParent(r,this.timeAxis.dom.foreground)||this.timeAxis2&&F.hasParent(r,this.timeAxis2.dom.foreground)?s="axis":F.hasParent(r,this.linegraph.yAxisLeft.dom.frame)||F.hasParent(r,this.linegraph.yAxisRight.dom.frame)?s="data-axis":F.hasParent(r,this.linegraph.legendLeft.dom.frame)||F.hasParent(r,this.linegraph.legendRight.dom.frame)?s="legend":null!=o?s="custom-time":F.hasParent(r,this.currentTime.bar)?s="current-time":F.hasParent(r,this.dom.center)&&(s="background"),[]),a=this.linegraph.yAxisLeft,l=this.linegraph.yAxisRight;return!a.hidden&&0<this.itemsData.length&&r.push(a.screenToValue(i)),!l.hidden&&0<this.itemsData.length&&r.push(l.screenToValue(i)),{event:t,customTime:o?o.options.id:null,what:s,pageX:(t.srcEvent||t).pageX,pageY:(t.srcEvent||t).pageY,x:e,y:i,time:n,value:r}},q1.prototype._createConfigurator=function(){return new _1(this,this.dom.container,X1)};Ur=(()=>{try{return navigator?navigator.languages&&navigator.languages.length?navigator.languages:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en":"en"}catch(t){return"en"}})(),j.locale(Ur),vs={Core:Gb,DateUtil:At,Range:wb,stack:jo,TimeStep:Mb,components:{items:{Item:Hw,BackgroundItem:Xw,BoxItem:ft,ClusterItem:o1,PointItem:Wi,RangeItem:Vw},BackgroundGroup:jw,Component:Oy,CurrentTime:Yb,CustomTime:Hb,DataAxis:j1,DataScale:N1,GraphGroup:W1,Group:Rw,ItemSet:f1,Legend:Y1,LineGraph:R,TimeAxis:Fb}};L.Graph2d=q1,L.Timeline=xr,L.timeline=vs});
//# sourceMappingURL=vis-timeline.js.map